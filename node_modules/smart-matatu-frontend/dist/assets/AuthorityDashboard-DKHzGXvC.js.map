{"version":3,"file":"AuthorityDashboard-DKHzGXvC.js","sources":["../../src/screens/AuthorityDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { \r\n  AlertTriangle, \r\n  Users, \r\n  CheckCircle,\r\n  TrendingUp,\r\n  BarChart3,\r\n  RefreshCw,\r\n  Eye,\r\n  MapPin,\r\n  Clock,\r\n  Target,\r\n  Award,\r\n  TrendingDown,\r\n  Lightbulb,\r\n  AlertCircle,\r\n  Activity\r\n} from 'lucide-react'\r\nimport apiService from '../services/api'\r\nimport { useTranslation } from '../hooks/useTranslation'\r\n\r\ninterface AuthorityInsights {\r\n  period: string\r\n  generatedAt: string\r\n  saccoPerformance: {\r\n    totalSaccos: number\r\n    topPerformers: any[]\r\n    poorPerformers: any[]\r\n    averageReportsPerSacco: string\r\n    criticalSaccos: number\r\n  }\r\n  routeSafetyAnalysis: {\r\n    highRiskRoutes: any[]\r\n    totalRoutesAnalyzed: number\r\n    averageRiskScore: string\r\n    criticalRoutes: number\r\n  }\r\n  geographicRiskMap: {\r\n    highRiskZones: any[]\r\n    totalRiskZones: number\r\n    averageRiskLevel: string\r\n  }\r\n  temporalPatterns: {\r\n    peakHours: any[]\r\n    peakDays: any[]\r\n    averageIncidentsPerHour: string\r\n  }\r\n  complianceTrends: {\r\n    dailyTrends: any[]\r\n    averageDailyReports: string\r\n    trendDirection: string\r\n  }\r\n  riskIndicators: {\r\n    topRisks: any[]\r\n    criticalRiskTypes: any[]\r\n    averageRiskLevel: string\r\n  }\r\n  systemHealth: {\r\n    totalReports: number\r\n    averageResponseTime: number\r\n    resolutionRate: number\r\n    dataQuality: number\r\n  }\r\n  resourceRecommendations: {\r\n    prioritySaccos: any[]\r\n    totalResourcesNeeded: number\r\n    highPriorityCount: number\r\n  }\r\n  planningInsights: {\r\n    focusAreas: string[]\r\n    recommendedActions: string[]\r\n  }\r\n}\r\n\r\nconst AuthorityDashboard: React.FC = () => {\r\n  const { t } = useTranslation()\r\n  const [activeTab, setActiveTab] = useState('overview')\r\n  const [loading, setLoading] = useState(true)\r\n  const [insights, setInsights] = useState<AuthorityInsights | null>(null)\r\n  const [dateRange, setDateRange] = useState('30d')\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    loadAuthorityInsights()\r\n  }, [dateRange])\r\n\r\n  const loadAuthorityInsights = async () => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      \r\n      const response = await apiService.getAuthorityAnalytics(dateRange)\r\n      if (response.success) {\r\n        setInsights(response.data)\r\n      } else {\r\n        setError('Failed to load authority insights')\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load authority insights')\r\n      console.error('Authority insights error:', err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const getRiskColor = (riskLevel: number) => {\r\n    if (riskLevel >= 3.5) return 'text-red-600 bg-red-100'\r\n    if (riskLevel >= 2.5) return 'text-orange-600 bg-orange-100'\r\n    if (riskLevel >= 1.5) return 'text-yellow-600 bg-yellow-100'\r\n    return 'text-green-600 bg-green-100'\r\n  }\r\n\r\n  const getTrendIcon = (direction: string) => {\r\n    switch (direction) {\r\n      case 'increasing': return <TrendingUp className=\"w-4 h-4 text-red-500\" />\r\n      case 'decreasing': return <TrendingDown className=\"w-4 h-4 text-green-500\" />\r\n      default: return <Activity className=\"w-4 h-4 text-gray-500\" />\r\n    }\r\n  }\r\n\r\n  const getTrendDirectionText = (direction: string) => {\r\n    switch (direction) {\r\n      case 'increasing': return t('authorityDashboard.complianceTrends.increasing')\r\n      case 'decreasing': return t('authorityDashboard.complianceTrends.decreasing')\r\n      default: return t('authorityDashboard.complianceTrends.stable')\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\r\n          <p className=\"text-gray-600\">{t('authorityDashboard.loadingInsights')}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertTriangle className=\"w-8 h-8 mx-auto mb-4 text-red-600\" />\r\n          <p className=\"text-red-600 mb-4\">{error}</p>\r\n          <button\r\n            onClick={loadAuthorityInsights}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">{t('authorityDashboard.title')}</h1>\r\n              <p className=\"text-gray-600 mt-1\">{t('authorityDashboard.subtitle')}</p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <select\r\n                value={dateRange}\r\n                onChange={(e) => setDateRange(e.target.value)}\r\n                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"7d\">{t('authorityDashboard.last7Days')}</option>\r\n                <option value=\"30d\">{t('authorityDashboard.last30Days')}</option>\r\n                <option value=\"90d\">{t('authorityDashboard.last90Days')}</option>\r\n              </select>\r\n              <button\r\n                onClick={loadAuthorityInsights}\r\n                className=\"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" />\r\n                <span>{t('authorityDashboard.refresh')}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex space-x-8\">\r\n            {[\r\n              { id: 'overview', name: t('authorityDashboard.strategicOverview.title'), icon: BarChart3 },\r\n              { id: 'sacco', name: t('authorityDashboard.saccoPerformance.title'), icon: Users },\r\n              { id: 'routes', name: t('authorityDashboard.routeRiskAnalysis.title'), icon: MapPin },\r\n              { id: 'geographic', name: t('authorityDashboard.geographicInsights.title'), icon: Eye },\r\n              { id: 'temporal', name: t('authorityDashboard.temporalPatterns.title'), icon: Clock },\r\n              { id: 'planning', name: t('authorityDashboard.complianceTrends.title'), icon: Lightbulb },\r\n              { id: 'resources', name: t('authorityDashboard.resourceRecommendations.title'), icon: Target }\r\n            ].map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <tab.icon className=\"w-4 h-4\" />\r\n                <span>{tab.name}</span>\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {insights && (\r\n          <>\r\n            {/* Strategic Overview Tab */}\r\n            {activeTab === 'overview' && (\r\n              <div className=\"space-y-6\">\r\n                {/* Key Performance Indicators */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                        <Users className=\"w-6 h-6 text-blue-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('authorityDashboard.strategicOverview.totalSaccos')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{insights.saccoPerformance.totalSaccos}</p>\r\n                        <p className=\"text-xs text-gray-500\">{insights.saccoPerformance.criticalSaccos} {t('authorityDashboard.critical')}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-red-100 rounded-lg\">\r\n                        <AlertTriangle className=\"w-6 h-6 text-red-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('authorityDashboard.routeRiskAnalysis.highRiskRoutes')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{insights.routeSafetyAnalysis.criticalRoutes}</p>\r\n                        <p className=\"text-xs text-gray-500\">{t('authorityDashboard.avgRisk')} {insights.routeSafetyAnalysis.averageRiskScore}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n                        <MapPin className=\"w-6 h-6 text-yellow-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('authorityDashboard.geographicInsights.highRiskZones')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{insights.geographicRiskMap.highRiskZones.length}</p>\r\n                        <p className=\"text-xs text-gray-500\">{t('authorityDashboard.highRiskAreas')}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                        <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('authorityDashboard.systemHealth.resolutionRate')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{(insights.systemHealth.resolutionRate * 100).toFixed(1)}%</p>\r\n                        <p className=\"text-xs text-gray-500\">{t('authorityDashboard.systemEfficiency')}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Planning Insights */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                      <Lightbulb className=\"w-5 h-5 mr-2 text-yellow-500\" />\r\n{t('authorityDashboard.focusAreas')}\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                      {insights.planningInsights.focusAreas.slice(0, 5).map((area, index) => (\r\n                        <div key={index} className=\"flex items-center text-sm text-gray-600\">\r\n                          <AlertCircle className=\"w-4 h-4 mr-2 text-orange-500\" />\r\n                          {area}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                      <Target className=\"w-5 h-5 mr-2 text-blue-500\" />\r\n{t('authorityDashboard.recommendedActions')}\r\n                    </h3>\r\n                    <div className=\"space-y-2\">\r\n                      {[\r\n                        t('authorityDashboard.strategicOverview.increaseMonitoring'),\r\n                        t('authorityDashboard.strategicOverview.implementInterventions'),\r\n                        t('authorityDashboard.strategicOverview.focusResources'),\r\n                        t('authorityDashboard.strategicOverview.developProtocols'),\r\n                        t('authorityDashboard.strategicOverview.establishWarning')\r\n                      ].map((action, index) => (\r\n                        <div key={index} className=\"flex items-center text-sm text-gray-600\">\r\n                          <CheckCircle className=\"w-4 h-4 mr-2 text-green-500\" />\r\n                          {action}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Trend Analysis */}\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.complianceTrends.title')}</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{insights.complianceTrends.averageDailyReports}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.avgDailyReports')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"flex items-center justify-center\">\r\n                        {getTrendIcon(insights.complianceTrends.trendDirection)}\r\n                        <span className=\"ml-2 text-sm text-gray-600 capitalize\">\r\n                          {getTrendDirectionText(insights.complianceTrends.trendDirection)}\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.trendDirection')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{insights.systemHealth.totalReports}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.totalReportsLabel')}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* SACCO Performance Tab */}\r\n            {activeTab === 'sacco' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.saccoPerformance.topPerformers')}</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {insights.saccoPerformance.topPerformers.map((sacco, index) => (\r\n                        <div key={index} className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center\">\r\n                            <Award className=\"w-4 h-4 mr-2 text-yellow-500\" />\r\n                            <span className=\"text-sm font-medium text-gray-900\">{sacco._id || 'Unknown SACCO'}</span>\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            <span className=\"text-sm text-gray-500\">{sacco.totalReports} {t('authorityDashboard.reports')}</span>\r\n                            <div className=\"text-xs text-gray-400\">\r\n                              {sacco.criticalReports} {t('authorityDashboard.critical')}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.saccoPerformance.poorPerformers')}</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {insights.saccoPerformance.poorPerformers.map((sacco, index) => (\r\n                        <div key={index} className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center\">\r\n                            <AlertTriangle className=\"w-4 h-4 mr-2 text-red-500\" />\r\n                            <span className=\"text-sm font-medium text-gray-900\">{sacco._id || 'Unknown SACCO'}</span>\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            <span className=\"text-sm text-gray-500\">{sacco.totalReports} {t('authorityDashboard.reports')}</span>\r\n                            <div className=\"text-xs text-red-500\">\r\n                              {sacco.criticalReports} {t('authorityDashboard.critical')}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.saccoPerformance.title')}</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{insights.saccoPerformance.totalSaccos}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.strategicOverview.totalSaccos')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{insights.saccoPerformance.averageReportsPerSacco}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.avgReportsPerSacco')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-red-600\">{insights.saccoPerformance.criticalSaccos}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.criticalSaccos')}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Route Risk Analysis Tab */}\r\n            {activeTab === 'routes' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-white shadow rounded-lg\">\r\n                  <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">{t('authorityDashboard.routeRiskAnalysis.highRiskRoutes')}</h3>\r\n                  </div>\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                      <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('authorityDashboard.routeRiskAnalysis.routeName')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('authorityDashboard.routeRiskAnalysis.operator')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('authorityDashboard.routeRiskAnalysis.riskScore')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('authorityDashboard.routeRiskAnalysis.totalIncidents')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('authorityDashboard.routeRiskAnalysis.criticalIncidents')}\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {insights.routeSafetyAnalysis.highRiskRoutes.map((route) => (\r\n                          <tr key={route._id}>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                              {route.routeNumber} - {route.routeName}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              {route.operator}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              <span className={`px-2 py-1 rounded-full text-xs font-medium ${getRiskColor(route.riskScore)}`}>\r\n                                {route.riskScore.toFixed(1)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              {route.totalIncidents}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-red-500\">\r\n                              {route.criticalIncidents}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Geographic Insights Tab */}\r\n            {activeTab === 'geographic' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.geographicInsights.highRiskZones')}</h3>\r\n                  <div className=\"space-y-3\">\r\n                    {insights.geographicRiskMap.highRiskZones.map((zone, index) => (\r\n                      <div key={index} className=\"flex items-center justify-between p-3 bg-red-50 rounded-lg\">\r\n                        <div className=\"flex items-center\">\r\n                          <MapPin className=\"w-4 h-4 mr-2 text-red-500\" />\r\n                          <span className=\"text-sm font-medium text-gray-900\">\r\n                            {zone._id.lat.toFixed(2)}, {zone._id.lng.toFixed(2)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <span className=\"text-sm text-gray-500\">{zone.totalIncidents} {t('authorityDashboard.incidents')}</span>\r\n                          <div className=\"text-xs text-red-500\">\r\n                            {zone.criticalIncidents} {t('authorityDashboard.critical')}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.geographicInsights.title')} {t('authorityDashboard.geographicInsights.totalRiskZones')}</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{insights.geographicRiskMap.totalRiskZones}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.geographicInsights.totalRiskZones')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-red-600\">{insights.geographicRiskMap.highRiskZones.length}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.geographicInsights.highRiskZones')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{insights.geographicRiskMap.averageRiskLevel}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.geographicInsights.averageRiskLevel')}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Temporal Patterns Tab */}\r\n            {activeTab === 'temporal' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.temporalPatterns.peakHours')}</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {insights.temporalPatterns.peakHours.map((hour, index) => (\r\n                        <div key={index} className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center\">\r\n                            <Clock className=\"w-4 h-4 mr-2 text-blue-500\" />\r\n                            <span className=\"text-sm font-medium text-gray-900\">\r\n                              {hour._id.hour}:00 - {hour._id.hour + 1}:00\r\n                            </span>\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-500\">{hour.incidentCount} {t('authorityDashboard.incidents')}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.temporalPatterns.title')}</h3>\r\n                    <div className=\"space-y-4\">\r\n                      <div className=\"text-center\">\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{insights.temporalPatterns.averageIncidentsPerHour}</p>\r\n                        <p className=\"text-sm text-gray-500\">{t('authorityDashboard.temporalPatterns.averageIncidentsPerHour')}</p>\r\n                      </div>\r\n                      <div className=\"text-center\">\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{insights.temporalPatterns.peakHours.length}</p>\r\n                        <p className=\"text-sm text-gray-500\">{t('authorityDashboard.temporalPatterns.peakHoursIdentified')}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Planning Insights Tab */}\r\n            {activeTab === 'planning' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                      <Lightbulb className=\"w-5 h-5 mr-2 text-yellow-500\" />\r\n{t('authorityDashboard.strategicFocusAreas')}\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                      {insights.planningInsights.focusAreas.map((area, index) => (\r\n                        <div key={index} className=\"flex items-start\">\r\n                          <AlertCircle className=\"w-4 h-4 mr-2 text-orange-500 mt-0.5\" />\r\n                          <span className=\"text-sm text-gray-600\">{area}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                      <Target className=\"w-5 h-5 mr-2 text-blue-500\" />\r\n{t('authorityDashboard.recommendedActions')}\r\n                    </h3>\r\n                    <div className=\"space-y-3\">\r\n                      {[\r\n                        t('authorityDashboard.strategicOverview.increaseMonitoring'),\r\n                        t('authorityDashboard.strategicOverview.implementInterventions'),\r\n                        t('authorityDashboard.strategicOverview.focusResources'),\r\n                        t('authorityDashboard.strategicOverview.developProtocols'),\r\n                        t('authorityDashboard.strategicOverview.establishWarning')\r\n                      ].map((action, index) => (\r\n                        <div key={index} className=\"flex items-start\">\r\n                          <CheckCircle className=\"w-4 h-4 mr-2 text-green-500 mt-0.5\" />\r\n                          <span className=\"text-sm text-gray-600\">{action}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.riskIndicators.title')}</h3>\r\n                  <div className=\"space-y-3\">\r\n                    {insights.riskIndicators.topRisks.map((risk, index) => (\r\n                      <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                        <div className=\"flex items-center\">\r\n                          <AlertTriangle className=\"w-4 h-4 mr-2 text-red-500\" />\r\n                          <span className=\"text-sm font-medium text-gray-900 capitalize\">\r\n                            {risk._id.replace('_', ' ')}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <span className=\"text-sm text-gray-500\">{risk.totalCount} {t('authorityDashboard.incidents')}</span>\r\n                          <div className=\"text-xs text-red-500\">\r\n                            {risk.criticalCount} {t('authorityDashboard.critical')}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Resource Allocation Tab */}\r\n            {activeTab === 'resources' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.resourceRecommendations.prioritySaccos')} {t('authorityDashboard.resourceRecommendations.title')}</h3>\r\n                  <div className=\"space-y-3\">\r\n                    {insights.resourceRecommendations.prioritySaccos.map((sacco, index) => (\r\n                      <div key={index} className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\r\n                        <div className=\"flex items-center\">\r\n                          <Target className=\"w-4 h-4 mr-2 text-blue-500\" />\r\n                          <span className=\"text-sm font-medium text-gray-900\">{sacco._id || 'Unknown SACCO'}</span>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <span className=\"text-sm text-gray-500\">{t('authorityDashboard.priorityScoreLabel')} {sacco.priorityScore}</span>\r\n                          <div className=\"text-xs text-gray-400\">\r\n                            {sacco.totalReports} {t('authorityDashboard.reports')}, {sacco.criticalReports} {t('authorityDashboard.critical')}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('authorityDashboard.resourceRecommendations.title')} {t('authorityDashboard.resourceRecommendations.totalResourcesNeeded')}</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{insights.resourceRecommendations.totalResourcesNeeded}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.resourceRecommendations.totalResourcesNeeded')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-red-600\">{insights.resourceRecommendations.highPriorityCount}</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.resourceRecommendations.highPriorityCases')}</p>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-2xl font-bold text-gray-900\">{(insights.systemHealth.dataQuality * 100).toFixed(1)}%</p>\r\n                      <p className=\"text-sm text-gray-500\">{t('authorityDashboard.systemHealth.dataQuality')}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthorityDashboard"],"names":["AuthorityDashboard","t","useTranslation","activeTab","setActiveTab","useState","loading","setLoading","insights","setInsights","dateRange","setDateRange","error","setError","useEffect","loadAuthorityInsights","response","apiService","err","getRiskColor","riskLevel","getTrendIcon","direction","jsx","TrendingUp","TrendingDown","Activity","getTrendDirectionText","jsxs","RefreshCw","AlertTriangle","e","BarChart3","Users","MapPin","Eye","Clock","Lightbulb","Target","tab","Fragment","CheckCircle","area","index","AlertCircle","action","sacco","Award","route","zone","hour","risk"],"mappings":"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"}