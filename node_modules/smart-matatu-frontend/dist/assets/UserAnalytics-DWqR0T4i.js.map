{"version":3,"file":"UserAnalytics-DWqR0T4i.js","sources":["../../src/screens/UserAnalytics.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { \r\n  BarChart3, \r\n  Star,\r\n  MapPin,\r\n  Clock,\r\n  Activity,\r\n  RefreshCw,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Route,\r\n  Users,\r\n  Calendar\r\n} from 'lucide-react'\r\nimport { useApp } from '../contexts/AppContext'\r\nimport { useTranslation } from '../hooks/useTranslation'\r\nimport apiService from '../services/api'\r\n\r\ninterface UserAnalytics {\r\n  userId: string\r\n  period: string\r\n  personalStats: {\r\n    totalReports: number\r\n    totalRatings: number\r\n    favoriteRoutes: number\r\n    avgRatingGiven: number\r\n    reportsThisMonth: number\r\n    ratingsThisMonth: number\r\n  }\r\n  routeInsights: {\r\n    mostReportedRoute: {\r\n      routeName: string\r\n      routeNumber: string\r\n      reportCount: number\r\n      lastReport: string\r\n    }\r\n    bestRatedRoute: {\r\n      routeName: string\r\n      routeNumber: string\r\n      avgRating: number\r\n      totalRatings: number\r\n    }\r\n    recentActivity: {\r\n      routeName: string\r\n      routeNumber: string\r\n      action: string\r\n      date: string\r\n    }[]\r\n  }\r\n  safetyInsights: {\r\n    safetyReports: number\r\n    delayReports: number\r\n    breakdownReports: number\r\n    avgResponseTime: string\r\n    resolvedReports: number\r\n  }\r\n  recommendations: {\r\n    suggestedRoutes: {\r\n      routeName: string\r\n      routeNumber: string\r\n      reason: string\r\n      avgRating: number\r\n    }[]\r\n    safetyTips: string[]\r\n    peakHours: {\r\n      hour: string\r\n      recommendation: string\r\n    }[]\r\n  }\r\n}\r\n\r\nconst UserAnalytics: React.FC = () => {\r\n  const { state } = useApp()\r\n  const { t } = useTranslation()\r\n  const [analytics, setAnalytics] = useState<UserAnalytics | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [period, setPeriod] = useState('7d')\r\n  const [planType, setPlanType] = useState<'free' | 'premium' | 'sacco' | 'enterprise'>('free')\r\n\r\n  const handlePeriodChange = (next: string) => {\r\n    if (planType === 'free' && next !== '7d') {\r\n      setPeriod('7d')\r\n      return\r\n    }\r\n    setPeriod(next)\r\n  }\r\n\r\n  const loadUserAnalytics = async () => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      \r\n      // Ensure plan is loaded\r\n      if (state.user?._id) {\r\n        try {\r\n          const sub = await apiService.getUserSubscription(state.user._id)\r\n          const pt = (sub.data?.planType as any) || 'free'\r\n          setPlanType(pt)\r\n          // If free and currently not 7d, clamp\r\n          if (pt === 'free' && period !== '7d') setPeriod('7d')\r\n        } catch {\r\n          setPlanType('free')\r\n        }\r\n      }\r\n      \r\n      console.log(`Loading user analytics for: ${state.user?._id}, period: ${period}`)\r\n      \r\n      // For now, we'll generate user-focused analytics from existing data\r\n      const mockUserAnalytics: UserAnalytics = {\r\n        userId: state.user?._id || '',\r\n        period,\r\n        personalStats: {\r\n          totalReports: 12,\r\n          totalRatings: 8,\r\n          favoriteRoutes: 3,\r\n          avgRatingGiven: 4.2,\r\n          reportsThisMonth: 5,\r\n          ratingsThisMonth: 3\r\n        },\r\n        routeInsights: {\r\n          mostReportedRoute: {\r\n            routeName: 'City Center to Airport',\r\n            routeNumber: '34',\r\n            reportCount: 4,\r\n            lastReport: '2 days ago'\r\n          },\r\n          bestRatedRoute: {\r\n            routeName: 'Downtown Express',\r\n            routeNumber: '15',\r\n            avgRating: 4.8,\r\n            totalRatings: 156\r\n          },\r\n          recentActivity: [\r\n            { routeName: 'Route 34', routeNumber: '34', action: 'Reported delay', date: '2 days ago' },\r\n            { routeName: 'Route 15', routeNumber: '15', action: 'Rated 5 stars', date: '3 days ago' },\r\n            { routeName: 'Route 22', routeNumber: '22', action: 'Reported safety issue', date: '1 week ago' }\r\n          ]\r\n        },\r\n        safetyInsights: {\r\n          safetyReports: 3,\r\n          delayReports: 6,\r\n          breakdownReports: 2,\r\n          avgResponseTime: '2.5 hours',\r\n          resolvedReports: 8\r\n        },\r\n        recommendations: {\r\n          suggestedRoutes: [\r\n            { routeName: 'Route 15', routeNumber: '15', reason: 'Highly rated by users', avgRating: 4.8 },\r\n            { routeName: 'Route 28', routeNumber: '28', reason: 'Reliable and punctual', avgRating: 4.5 }\r\n          ],\r\n          safetyTips: [\r\n            'Avoid peak hours (7-9 AM, 5-7 PM) for better safety',\r\n            'Route 15 has the best safety record in your area',\r\n            'Report any safety concerns immediately for faster response'\r\n          ],\r\n          peakHours: [\r\n            { hour: '7:00-9:00 AM', recommendation: 'High traffic, allow extra time' },\r\n            { hour: '5:00-7:00 PM', recommendation: 'Peak hours, consider alternative routes' }\r\n          ]\r\n        }\r\n      }\r\n      \r\n      setAnalytics(mockUserAnalytics)\r\n      console.log('User analytics data set:', mockUserAnalytics)\r\n      \r\n    } catch (err) {\r\n      setError('Failed to load user analytics')\r\n      console.error('User analytics error:', err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (state.user?._id) {\r\n      loadUserAnalytics()\r\n    }\r\n  }, [period, state.user?._id])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\r\n          <p className=\"text-gray-600\">{t('userAnalytics.loading')}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertTriangle className=\"w-8 h-8 mx-auto mb-4 text-red-600\" />\r\n          <p className=\"text-red-600 mb-4\">{error}</p>\r\n          <button\r\n            onClick={loadUserAnalytics}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">{t('userAnalytics.title')}</h1>\r\n              <p className=\"text-gray-600 mt-1\">{t('userAnalytics.subtitle')}</p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <select\r\n                value={period}\r\n                onChange={(e) => handlePeriodChange(e.target.value)}\r\n                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"7d\">{t('userAnalytics.last7Days')}</option>\r\n                <option value=\"30d\" disabled={planType === 'free'}>{t('userAnalytics.last30Days')}{planType === 'free' ? ' (Pro)' : ''}</option>\r\n                <option value=\"90d\" disabled={planType === 'free'}>{t('userAnalytics.last90Days')}{planType === 'free' ? ' (Pro)' : ''}</option>\r\n              </select>\r\n              <button\r\n                onClick={loadUserAnalytics}\r\n                className=\"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" />\r\n                <span>{t('userAnalytics.refresh')}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {analytics && (\r\n          <div className=\"space-y-6\">\r\n            {/* Personal Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                    <BarChart3 className=\"w-6 h-6 text-blue-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">{t('userAnalytics.personalStats.totalReports')}</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{analytics.personalStats.totalReports}</p>\r\n                    <p className=\"text-xs text-gray-500\">{analytics.personalStats.reportsThisMonth} {t('userAnalytics.personalStats.reportsThisMonth')}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n                    <Star className=\"w-6 h-6 text-yellow-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">{t('userAnalytics.personalStats.totalRatings')}</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{analytics.personalStats.totalRatings}</p>\r\n                    <p className=\"text-xs text-gray-500\">{t('userAnalytics.personalStats.avgRating')}: {analytics.personalStats.avgRatingGiven}/5</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                    <Route className=\"w-6 h-6 text-green-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">{t('userAnalytics.personalStats.favoriteRoutes')}</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{analytics.personalStats.favoriteRoutes}</p>\r\n                    <p className=\"text-xs text-gray-500\">{t('userAnalytics.personalStats.savedRoutes')}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                    <Activity className=\"w-6 h-6 text-purple-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">{t('userAnalytics.personalStats.activityScore')}</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">85%</p>\r\n                    <p className=\"text-xs text-gray-500\">{t('userAnalytics.personalStats.veryActiveUser')}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Route Insights */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                  <MapPin className=\"w-5 h-5 mr-2 text-blue-500\" />\r\n                  {t('userAnalytics.routeInsights.title')}\r\n                </h3>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"p-4 bg-red-50 rounded-lg\">\r\n                    <h4 className=\"font-medium text-gray-900\">{t('userAnalytics.routeInsights.mostReportedRoute')}</h4>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      {analytics.routeInsights.mostReportedRoute.routeNumber} - {analytics.routeInsights.mostReportedRoute.routeName}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {analytics.routeInsights.mostReportedRoute.reportCount} {t('userAnalytics.routeInsights.reports')}, {t('userAnalytics.routeInsights.last')}: {analytics.routeInsights.mostReportedRoute.lastReport}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"p-4 bg-green-50 rounded-lg\">\r\n                    <h4 className=\"font-medium text-gray-900\">{t('userAnalytics.routeInsights.bestRatedRoute')}</h4>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      {analytics.routeInsights.bestRatedRoute.routeNumber} - {analytics.routeInsights.bestRatedRoute.routeName}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      {analytics.routeInsights.bestRatedRoute.avgRating}/5 {t('userAnalytics.routeInsights.stars')} ({analytics.routeInsights.bestRatedRoute.totalRatings} {t('userAnalytics.routeInsights.ratings')})\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                  <Clock className=\"w-5 h-5 mr-2 text-green-500\" />\r\n                  {t('userAnalytics.recentActivity.title')}\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  {analytics.routeInsights.recentActivity.map((activity, index) => (\r\n                    <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-gray-900\">\r\n                          {activity.routeNumber} - {activity.routeName}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500\">{\r\n                          activity.action === 'Reported delay' ? t('userAnalytics.recentActivity.reportedDelay') :\r\n                          activity.action === 'Rated 5 stars' ? t('userAnalytics.recentActivity.ratedStars') :\r\n                          activity.action === 'Reported safety issue' ? t('userAnalytics.recentActivity.reportedSafetyIssue') : activity.action\r\n                        }</p>\r\n                      </div>\r\n                      <span className=\"text-xs text-gray-400\">{activity.date}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Safety Insights */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                <AlertTriangle className=\"w-5 h-5 mr-2 text-orange-500\" />\r\n                {t('userAnalytics.safetyInsights.title')}\r\n              </h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-2xl font-bold text-red-600\">{analytics.safetyInsights.safetyReports}</p>\r\n                    <p className=\"text-sm text-gray-500\">{t('userAnalytics.safetyInsights.safetyReports')}</p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-2xl font-bold text-yellow-600\">{analytics.safetyInsights.delayReports}</p>\r\n                    <p className=\"text-sm text-gray-500\">{t('userAnalytics.safetyInsights.delayReports')}</p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-2xl font-bold text-green-600\">{analytics.safetyInsights.resolvedReports}</p>\r\n                    <p className=\"text-sm text-gray-500\">{t('userAnalytics.safetyInsights.resolvedReports')}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  <strong>{t('userAnalytics.safetyInsights.averageResponseTime')}:</strong> {analytics.safetyInsights.avgResponseTime}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recommendations */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                  <CheckCircle className=\"w-5 h-5 mr-2 text-green-500\" />\r\n                  {t('userAnalytics.recommendations.title')}\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  {analytics.recommendations.suggestedRoutes.map((route, index) => (\r\n                    <div key={index} className=\"p-3 bg-green-50 rounded-lg\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">\r\n                            {route.routeNumber} - {route.routeName}\r\n                          </p>\r\n                          <p className=\"text-sm text-gray-600\">{\r\n                            route.reason === 'Highly rated by users' ? t('userAnalytics.recommendations.highlyRatedByUsers') :\r\n                            route.reason === 'Reliable and punctual' ? t('userAnalytics.recommendations.reliableAndPunctual') : route.reason\r\n                          }</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <p className=\"text-sm font-medium text-green-600\">{route.avgRating}/5</p>\r\n                          <p className=\"text-xs text-gray-500\">{t('userAnalytics.routeInsights.stars')}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                  <Users className=\"w-5 h-5 mr-2 text-blue-500\" />\r\n                  {t('userAnalytics.recommendations.safetyTips')}\r\n                </h3>\r\n                <div className=\"space-y-3\">\r\n                  {[t('userAnalytics.recommendations.avoidPeakHours'), t('userAnalytics.recommendations.bestSafetyRecord'), t('userAnalytics.recommendations.reportImmediately')].map((tip, index) => (\r\n                    <div key={index} className=\"flex items-start\">\r\n                      <CheckCircle className=\"w-4 h-4 mr-2 text-green-500 mt-0.5\" />\r\n                      <p className=\"text-sm text-gray-600\">{tip}</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Peak Hours */}\r\n            <div className=\"bg-white p-6 rounded-lg shadow\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                <Calendar className=\"w-5 h-5 mr-2 text-purple-500\" />\r\n                {t('userAnalytics.peakHours.title')}\r\n              </h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {analytics.recommendations.peakHours.map((peak, index) => (\r\n                  <div key={index} className=\"p-4 bg-purple-50 rounded-lg\">\r\n                    <p className=\"font-medium text-gray-900\">{peak.hour}</p>\r\n                    <p className=\"text-sm text-gray-600\">{\r\n                      peak.recommendation === 'High traffic, allow extra time' ? t('userAnalytics.peakHours.highTraffic') :\r\n                      peak.recommendation === 'Peak hours, consider alternative routes' ? t('userAnalytics.peakHours.peakHours') : peak.recommendation\r\n                    }</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserAnalytics\r\n"],"names":["UserAnalytics","state","useApp","t","useTranslation","analytics","setAnalytics","useState","loading","setLoading","error","setError","period","setPeriod","planType","setPlanType","handlePeriodChange","next","loadUserAnalytics","_a","pt","_b","apiService","_c","mockUserAnalytics","_d","err","useEffect","jsxs","jsx","RefreshCw","AlertTriangle","e","BarChart3","Star","Route","Activity","MapPin","Clock","activity","index","CheckCircle","route","Users","tip","Calendar","peak"],"mappings":"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"}