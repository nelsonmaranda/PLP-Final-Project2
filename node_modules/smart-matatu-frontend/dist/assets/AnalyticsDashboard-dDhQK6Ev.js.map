{"version":3,"file":"AnalyticsDashboard-dDhQK6Ev.js","sources":["../../src/screens/AnalyticsDashboard.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react'\r\nimport { \r\n  TrendingUp, \r\n  Clock, \r\n  Target, \r\n  AlertTriangle,\r\n  CheckCircle,\r\n  ArrowUp,\r\n  ArrowDown,\r\n  Minus,\r\n  Loader2,\r\n  RefreshCw,\r\n  Filter,\r\n  Calendar,\r\n  Zap,\r\n  DollarSign,\r\n  Star\r\n} from 'lucide-react'\r\nimport { useApp } from '../contexts/AppContext'\r\nimport apiService from '../services/api'\r\nimport { \r\n  RouteEfficiencyScore, \r\n  TravelTimePrediction, \r\n  AlternativeRoute, \r\n  TrendAnalysis, \r\n  DemandForecast, \r\n  UserRecommendation \r\n} from '../types'\r\n\r\nexport default function AnalyticsDashboard() {\r\n  const { state } = useApp()\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [activeTab, setActiveTab] = useState<'efficiency' | 'predictions' | 'trends' | 'recommendations'>('efficiency')\r\n  \r\n  // Data states\r\n  const [efficiencyScores, setEfficiencyScores] = useState<RouteEfficiencyScore[]>([])\r\n  const [travelPredictions, setTravelPredictions] = useState<TravelTimePrediction[]>([])\r\n  const [alternativeRoutes, setAlternativeRoutes] = useState<AlternativeRoute[]>([])\r\n  const [trendAnalysis, setTrendAnalysis] = useState<TrendAnalysis[]>([])\r\n  const [demandForecasts, setDemandForecasts] = useState<DemandForecast[]>([])\r\n  const [userRecommendations, setUserRecommendations] = useState<UserRecommendation | null>(null)\r\n\r\n  // Filter states\r\n  const [selectedRoute, setSelectedRoute] = useState<string>('')\r\n  const [timeSlot, setTimeSlot] = useState<string>('08:00')\r\n  const [period, setPeriod] = useState<'daily' | 'weekly' | 'monthly'>('weekly')\r\n\r\n  const loadAnalyticsData = useCallback(async () => {\r\n    if (!state.user?._id) {\r\n      setError('User not authenticated.')\r\n      setIsLoading(false)\r\n      return\r\n    }\r\n\r\n    setIsLoading(true)\r\n    setError(null)\r\n\r\n    try {\r\n      // Fetch recommendations\r\n      const recommendationsResponse = await apiService.getUserRecommendations(state.user._id)\r\n      if (recommendationsResponse.success && recommendationsResponse.data) {\r\n        setUserRecommendations(recommendationsResponse.data)\r\n      } else {\r\n        setUserRecommendations(null)\r\n      }\r\n\r\n      // If a route is selected, load per-route analytics; otherwise, clear\r\n      if (selectedRoute) {\r\n        const [effResp, trendsResp, demandResp] = await Promise.all([\r\n          apiService.getRouteEfficiency(selectedRoute),\r\n          apiService.analyzeTrends(selectedRoute, period),\r\n          apiService.forecastDemand(selectedRoute, timeSlot)\r\n        ])\r\n\r\n        setEfficiencyScores(effResp.success && effResp.data ? [effResp.data] : [])\r\n        setTrendAnalysis(trendsResp.success && trendsResp.data ? [trendsResp.data] : [])\r\n        setDemandForecasts(demandResp.success && demandResp.data ? [demandResp.data] : [])\r\n      } else {\r\n        setEfficiencyScores([])\r\n        setTrendAnalysis([])\r\n        setDemandForecasts([])\r\n      }\r\n\r\n      // Alternative routes and travel predictions depend on inputs; keep empty until user triggers\r\n      setAlternativeRoutes([])\r\n      setTravelPredictions([])\r\n\r\n    } catch (error) {\r\n      console.error('Error loading analytics data:', error)\r\n      setError('Failed to load analytics data. Please try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [state.user?._id, selectedRoute, period, timeSlot])\r\n\r\n  useEffect(() => {\r\n    loadAnalyticsData()\r\n  }, [loadAnalyticsData])\r\n\r\n  const handlePredictTravel = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(null)\r\n      if (!selectedRoute) return\r\n      // Demo: use placeholders for fromStop/toStop until UI exposes selectors\r\n      const resp = await apiService.predictTravelTime(selectedRoute, 'From', 'To', timeSlot)\r\n      setTravelPredictions(resp.success && resp.data ? [resp.data] : [])\r\n    } catch (e) {\r\n      console.error(e)\r\n      setError('Failed to predict travel time.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleFindAlternatives = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(null)\r\n      // Demo: use placeholders for fromStop/toStop until UI exposes selectors\r\n      const resp = await apiService.findAlternativeRoutes('From', 'To')\r\n      setAlternativeRoutes(resp.success && resp.data ? resp.data.alternatives : [])\r\n    } catch (e) {\r\n      console.error(e)\r\n      setError('Failed to fetch alternative routes.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const getTrendIcon = (trend: 'increasing' | 'decreasing' | 'stable' | 'improving' | 'declining' | 'safer' | 'riskier') => {\r\n    switch (trend) {\r\n      case 'increasing':\r\n      case 'improving':\r\n      case 'safer':\r\n        return <ArrowUp className=\"w-4 h-4 text-green-500\" />\r\n      case 'decreasing':\r\n      case 'declining':\r\n      case 'riskier':\r\n        return <ArrowDown className=\"w-4 h-4 text-red-500\" />\r\n      default:\r\n        return <Minus className=\"w-4 h-4 text-gray-500\" />\r\n    }\r\n  }\r\n\r\n  const getTrendColor = (trend: 'increasing' | 'decreasing' | 'stable' | 'improving' | 'declining' | 'safer' | 'riskier') => {\r\n    switch (trend) {\r\n      case 'increasing':\r\n      case 'improving':\r\n      case 'safer':\r\n        return 'text-green-600'\r\n      case 'decreasing':\r\n      case 'declining':\r\n      case 'riskier':\r\n        return 'text-red-600'\r\n      default:\r\n        return 'text-gray-600'\r\n    }\r\n  }\r\n\r\n  const getEfficiencyColor = (score: number) => {\r\n    if (score >= 80) return 'text-green-600'\r\n    if (score >= 60) return 'text-yellow-600'\r\n    return 'text-red-600'\r\n  }\r\n\r\n  const getEfficiencyBgColor = (score: number) => {\r\n    if (score >= 80) return 'bg-green-100'\r\n    if (score >= 60) return 'bg-yellow-100'\r\n    return 'bg-red-100'\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"h-10 w-10 text-primary-500 animate-spin\" />\r\n          <p className=\"text-gray-600 mt-4\">Loading Advanced Analytics...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center p-6 bg-white rounded-lg shadow-md\">\r\n          <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">Error Loading Analytics</h2>\r\n          <p className=\"text-gray-600 mb-4\">{error}</p>\r\n          <button \r\n            onClick={loadAnalyticsData} \r\n            className=\"btn btn-primary\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"px-6 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Advanced Analytics</h1>\r\n          <p className=\"text-gray-600\">Comprehensive insights and predictions for route optimization</p>\r\n        </div>\r\n\r\n        {/* Tab Navigation */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"-mb-px flex space-x-8\">\r\n              {[\r\n                { id: 'efficiency', name: 'Route Efficiency', icon: Target },\r\n                { id: 'predictions', name: 'Travel Predictions', icon: Clock },\r\n                { id: 'trends', name: 'Trend Analysis', icon: TrendingUp },\r\n                { id: 'recommendations', name: 'Recommendations', icon: Star }\r\n              ].map((tab) => {\r\n                const Icon = tab.icon\r\n                return (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id as any)}\r\n                    className={`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${\r\n                      activeTab === tab.id\r\n                        ? 'border-primary-500 text-primary-600'\r\n                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                    }`}\r\n                  >\r\n                    <Icon className=\"w-4 h-4\" />\r\n                    <span>{tab.name}</span>\r\n                  </button>\r\n                )\r\n              })}\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"space-y-6\">\r\n          {/* Route Efficiency Tab */}\r\n          {activeTab === 'efficiency' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Route Efficiency Scores</h2>\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <select\r\n                    value={selectedRoute}\r\n                    onChange={(e) => setSelectedRoute(e.target.value)}\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Select a route</option>\r\n                    {/* Populate from server in future UI iteration */}\r\n                  </select>\r\n                  <button className=\"btn btn-outline\" onClick={loadAnalyticsData}>\r\n                    <Filter className=\"w-4 h-4 mr-2\" />\r\n                    Refresh\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {efficiencyScores.map((score) => (\r\n                  <div key={score.routeId} className=\"card p-6\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">{score.routeName}</h3>\r\n                      <div className={`px-3 py-1 rounded-full text-sm font-medium ${getEfficiencyBgColor(score.efficiencyScore)} ${getEfficiencyColor(score.efficiencyScore)}`}>\r\n                        {score.efficiencyScore}/100\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                      {/* Efficiency Factors */}\r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        {Object.entries(score.factors).map(([key, value]) => (\r\n                          <div key={key} className=\"flex items-center justify-between\">\r\n                            <span className=\"text-sm text-gray-600 capitalize\">{key}</span>\r\n                            <div className=\"flex items-center space-x-2\">\r\n                              <div className=\"w-16 bg-gray-200 rounded-full h-2\">\r\n                                <div \r\n                                  className=\"bg-primary-500 h-2 rounded-full\" \r\n                                  style={{ width: `${value}%` }}\r\n                                ></div>\r\n                              </div>\r\n                              <span className=\"text-sm font-medium text-gray-900\">{value}</span>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n\r\n                      {/* Recommendations */}\r\n                      {score.recommendations.length > 0 && (\r\n                        <div>\r\n                          <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Recommendations</h4>\r\n                          <ul className=\"space-y-1\">\r\n                            {score.recommendations.map((rec, index) => (\r\n                              <li key={index} className=\"flex items-start space-x-2 text-sm text-gray-600\">\r\n                                <CheckCircle className=\"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0\" />\r\n                                <span>{rec}</span>\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Travel Predictions Tab */}\r\n          {activeTab === 'predictions' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Travel Time Predictions</h2>\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <input\r\n                    type=\"time\"\r\n                    value={timeSlot}\r\n                    onChange={(e) => setTimeSlot(e.target.value)}\r\n                    className=\"form-input\"\r\n                  />\r\n                  <button className=\"btn btn-primary\" onClick={handlePredictTravel}>\r\n                    <Zap className=\"w-4 h-4 mr-2\" />\r\n                    Predict\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {travelPredictions.map((prediction, index) => (\r\n                  <div key={index} className=\"card p-6\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        {prediction.fromStop} → {prediction.toStop}\r\n                      </h3>\r\n                      <div className=\"text-right\">\r\n                        <div className=\"text-2xl font-bold text-primary-600\">{prediction.predictedTime} min</div>\r\n                        <div className=\"text-sm text-gray-500\">{prediction.confidence}% confidence</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                      {/* Alternative Times */}\r\n                      <div className=\"grid grid-cols-3 gap-4\">\r\n                        <div className=\"text-center p-3 bg-green-50 rounded-lg\">\r\n                          <div className=\"text-lg font-semibold text-green-600\">{prediction.alternativeTimes.optimistic} min</div>\r\n                          <div className=\"text-xs text-green-600\">Optimistic</div>\r\n                        </div>\r\n                        <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\r\n                          <div className=\"text-lg font-semibold text-blue-600\">{prediction.alternativeTimes.realistic} min</div>\r\n                          <div className=\"text-xs text-blue-600\">Realistic</div>\r\n                        </div>\r\n                        <div className=\"text-center p-3 bg-red-50 rounded-lg\">\r\n                          <div className=\"text-lg font-semibold text-red-600\">{prediction.alternativeTimes.pessimistic} min</div>\r\n                          <div className=\"text-xs text-red-600\">Pessimistic</div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Factors */}\r\n                      <div>\r\n                        <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Factors</h4>\r\n                        <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                          {Object.entries(prediction.factors).map(([key, value]) => (\r\n                            <div key={key} className=\"flex justify-between\">\r\n                              <span className=\"text-gray-600 capitalize\">{key.replace(/([A-Z])/g, ' $1')}</span>\r\n                              <span className=\"font-medium\">{value.toFixed(2)}x</span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Alternative Routes */}\r\n              <div>\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Alternative Routes</h3>\r\n                  <button className=\"btn btn-outline\" onClick={handleFindAlternatives}>\r\n                    <Filter className=\"w-4 h-4 mr-2\" />\r\n                    Find\r\n                  </button>\r\n                </div>\r\n                {alternativeRoutes.length > 0 && (\r\n                  <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    {alternativeRoutes.map((route, index) => (\r\n                      <div key={index} className=\"card p-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <h4 className=\"font-semibold text-gray-900\">{route.routeName}</h4>\r\n                          <div className=\"text-sm text-gray-500\">{route.efficiency}/100</div>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <Clock className=\"w-4 h-4\" />\r\n                            <span>{route.totalTime} min</span>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <DollarSign className=\"w-4 h-4\" />\r\n                            <span>Ksh {route.totalCost}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"mt-2\">\r\n                          <div className=\"text-xs text-gray-500\">Reasons: {route.reasons.join(', ')}</div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Trend Analysis Tab */}\r\n          {activeTab === 'trends' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Trend Analysis</h2>\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <select\r\n                    value={period}\r\n                    onChange={(e) => setPeriod(e.target.value as any)}\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"daily\">Daily</option>\r\n                    <option value=\"weekly\">Weekly</option>\r\n                    <option value=\"monthly\">Monthly</option>\r\n                  </select>\r\n                  <button className=\"btn btn-outline\" onClick={loadAnalyticsData}>\r\n                    <Calendar className=\"w-4 h-4 mr-2\" />\r\n                    Update\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {trendAnalysis.map((trend, index) => (\r\n                  <div key={index} className=\"card p-6\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Route Trends ({trend.period})</h3>\r\n                    \r\n                    <div className=\"space-y-4\">\r\n                      {Object.entries(trend.trends).map(([key, data]) => (\r\n                        <div key={key} className=\"border rounded-lg p-4\">\r\n                          <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"font-medium text-gray-900 capitalize\">{key}</span>\r\n                            <div className=\"flex items-center space-x-2\">\r\n                              {getTrendIcon(data.trend)}\r\n                              <span className={`text-sm font-medium ${getTrendColor(data.trend)}`}>\r\n                                {data.change > 0 ? '+' : ''}{data.change.toFixed(1)}%\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-center justify-between text-sm text-gray-600\">\r\n                            <span>Current: {data.current}</span>\r\n                            <span>Previous: {data.previous}</span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n\r\n                    {trend.insights.length > 0 && (\r\n                      <div className=\"mt-4\">\r\n                        <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Insights</h4>\r\n                        <ul className=\"space-y-1\">\r\n                          {trend.insights.map((insight, idx) => (\r\n                            <li key={idx} className=\"flex items-start space-x-2 text-sm text-gray-600\">\r\n                              <AlertTriangle className=\"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0\" />\r\n                              <span>{insight}</span>\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Recommendations Tab */}\r\n          {activeTab === 'recommendations' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Personalized Recommendations</h2>\r\n                <button className=\"btn btn-primary\" onClick={loadAnalyticsData}>\r\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                  Refresh\r\n                </button>\r\n              </div>\r\n\r\n              {userRecommendations && (\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  {/* User Preferences */}\r\n                  <div className=\"card p-6\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Your Preferences</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {Object.entries(userRecommendations.preferences).map(([key, value]) => (\r\n                        <div key={key} className=\"flex items-center justify-between\">\r\n                          <span className=\"text-sm text-gray-600 capitalize\">{key}</span>\r\n                          <div className=\"flex items-center space-x-2\">\r\n                            <div className=\"w-20 bg-gray-200 rounded-full h-2\">\r\n                              <div \r\n                                className=\"bg-primary-500 h-2 rounded-full\" \r\n                                style={{ width: `${value * 100}%` }}\r\n                              ></div>\r\n                            </div>\r\n                            <span className=\"text-sm font-medium text-gray-900\">{Math.round(value * 100)}%</span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Recommendations */}\r\n                  <div className=\"card p-6\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Recommended Routes</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {userRecommendations.recommendations.map((rec, index) => (\r\n                        <div key={index} className=\"border rounded-lg p-4 hover:bg-gray-50\">\r\n                          <div className=\"flex items-center justify-between mb-2\">\r\n                            <h4 className=\"font-medium text-gray-900\">{rec.routeName}</h4>\r\n                            <div className=\"flex items-center space-x-2\">\r\n                              <Star className=\"w-4 h-4 text-yellow-500\" />\r\n                              <span className=\"text-sm font-medium text-gray-900\">{rec.score}/100</span>\r\n                            </div>\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-600 mb-2\">{rec.reason}</p>\r\n                          <div className=\"flex items-center space-x-2\">\r\n                            <span className={`px-2 py-1 text-xs rounded-full ${\r\n                              rec.type === 'efficiency' ? 'bg-blue-100 text-blue-800' :\r\n                              rec.type === 'safety' ? 'bg-green-100 text-green-800' :\r\n                              rec.type === 'cost' ? 'bg-yellow-100 text-yellow-800' :\r\n                              'bg-purple-100 text-purple-800'\r\n                            }`}>\r\n                              {rec.type}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Demand Forecasts */}\r\n              {demandForecasts.length > 0 && (\r\n                <div>\r\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Demand Forecasts</h3>\r\n                  <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    {demandForecasts.map((forecast, index) => (\r\n                      <div key={index} className=\"card p-4\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <h4 className=\"font-semibold text-gray-900\">Time Slot: {forecast.timeSlot}</h4>\r\n                          <div className=\"text-right\">\r\n                            <div className=\"text-lg font-bold text-primary-600\">{forecast.predictedDemand}%</div>\r\n                            <div className=\"text-sm text-gray-500\">{forecast.confidence}% confidence</div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"w-full bg-gray-200 rounded-full h-2 mb-2\">\r\n                          <div \r\n                            className=\"bg-primary-500 h-2 rounded-full\" \r\n                            style={{ width: `${forecast.predictedDemand}%` }}\r\n                          ></div>\r\n                        </div>\r\n                        {forecast.recommendations.length > 0 && (\r\n                          <div className=\"text-sm text-gray-600\">\r\n                            {forecast.recommendations[0]}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["AnalyticsDashboard","state","useApp","isLoading","setIsLoading","useState","error","setError","activeTab","setActiveTab","efficiencyScores","setEfficiencyScores","travelPredictions","setTravelPredictions","alternativeRoutes","setAlternativeRoutes","trendAnalysis","setTrendAnalysis","demandForecasts","setDemandForecasts","userRecommendations","setUserRecommendations","selectedRoute","setSelectedRoute","timeSlot","setTimeSlot","period","setPeriod","loadAnalyticsData","useCallback","_a","recommendationsResponse","apiService","effResp","trendsResp","demandResp","useEffect","handlePredictTravel","resp","e","handleFindAlternatives","getTrendIcon","trend","jsx","ArrowUp","ArrowDown","Minus","getTrendColor","getEfficiencyColor","score","getEfficiencyBgColor","jsxs","Loader2","AlertTriangle","RefreshCw","Target","Clock","TrendingUp","Star","tab","Icon","Filter","key","value","rec","index","CheckCircle","Zap","prediction","route","DollarSign","Calendar","data","insight","idx","forecast"],"mappings":"oQA6BA,SAAwBA,IAAqB,OAC3C,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAA,EACZ,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAI,EACzC,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAwB,IAAI,EAChD,CAACG,EAAWC,CAAY,EAAIJ,EAAAA,SAAsE,YAAY,EAG9G,CAACK,EAAkBC,CAAmB,EAAIN,EAAAA,SAAiC,CAAA,CAAE,EAC7E,CAACO,EAAmBC,CAAoB,EAAIR,EAAAA,SAAiC,CAAA,CAAE,EAC/E,CAACS,EAAmBC,CAAoB,EAAIV,EAAAA,SAA6B,CAAA,CAAE,EAC3E,CAACW,EAAeC,CAAgB,EAAIZ,EAAAA,SAA0B,CAAA,CAAE,EAChE,CAACa,EAAiBC,CAAkB,EAAId,EAAAA,SAA2B,CAAA,CAAE,EACrE,CAACe,EAAqBC,CAAsB,EAAIhB,EAAAA,SAAoC,IAAI,EAGxF,CAACiB,EAAeC,CAAgB,EAAIlB,EAAAA,SAAiB,EAAE,EACvD,CAACmB,EAAUC,CAAW,EAAIpB,EAAAA,SAAiB,OAAO,EAClD,CAACqB,EAAQC,CAAS,EAAItB,EAAAA,SAAyC,QAAQ,EAEvEuB,EAAoBC,EAAAA,YAAY,SAAY,OAChD,GAAI,GAACC,EAAA7B,EAAM,OAAN,MAAA6B,EAAY,KAAK,CACpBvB,EAAS,yBAAyB,EAClCH,EAAa,EAAK,EAClB,MACF,CAEAA,EAAa,EAAI,EACjBG,EAAS,IAAI,EAEb,GAAI,CAEF,MAAMwB,EAA0B,MAAMC,EAAW,uBAAuB/B,EAAM,KAAK,GAAG,EAQtF,GAPI8B,EAAwB,SAAWA,EAAwB,KAC7DV,EAAuBU,EAAwB,IAAI,EAEnDV,EAAuB,IAAI,EAIzBC,EAAe,CACjB,KAAM,CAACW,EAASC,EAAYC,CAAU,EAAI,MAAM,QAAQ,IAAI,CAC1DH,EAAW,mBAAmBV,CAAa,EAC3CU,EAAW,cAAcV,EAAeI,CAAM,EAC9CM,EAAW,eAAeV,EAAeE,CAAQ,CAAA,CAClD,EAEDb,EAAoBsB,EAAQ,SAAWA,EAAQ,KAAO,CAACA,EAAQ,IAAI,EAAI,EAAE,EACzEhB,EAAiBiB,EAAW,SAAWA,EAAW,KAAO,CAACA,EAAW,IAAI,EAAI,EAAE,EAC/Ef,EAAmBgB,EAAW,SAAWA,EAAW,KAAO,CAACA,EAAW,IAAI,EAAI,EAAE,CACnF,MACExB,EAAoB,CAAA,CAAE,EACtBM,EAAiB,CAAA,CAAE,EACnBE,EAAmB,CAAA,CAAE,EAIvBJ,EAAqB,CAAA,CAAE,EACvBF,EAAqB,CAAA,CAAE,CAEzB,OAASP,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,EACpDC,EAAS,kDAAkD,CAC7D,QAAA,CACEH,EAAa,EAAK,CACpB,CACF,EAAG,EAAC0B,EAAA7B,EAAM,OAAN,YAAA6B,EAAY,IAAKR,EAAeI,EAAQF,CAAQ,CAAC,EAErDY,EAAAA,UAAU,IAAM,CACdR,EAAA,CACF,EAAG,CAACA,CAAiB,CAAC,EAEtB,MAAMS,EAAsB,SAAY,CACtC,GAAI,CAGF,GAFAjC,EAAa,EAAI,EACjBG,EAAS,IAAI,EACT,CAACe,EAAe,OAEpB,MAAMgB,EAAO,MAAMN,EAAW,kBAAkBV,EAAe,OAAQ,KAAME,CAAQ,EACrFX,EAAqByB,EAAK,SAAWA,EAAK,KAAO,CAACA,EAAK,IAAI,EAAI,EAAE,CACnE,OAASC,EAAG,CACV,QAAQ,MAAMA,CAAC,EACfhC,EAAS,gCAAgC,CAC3C,QAAA,CACEH,EAAa,EAAK,CACpB,CACF,EAEMoC,EAAyB,SAAY,CACzC,GAAI,CACFpC,EAAa,EAAI,EACjBG,EAAS,IAAI,EAEb,MAAM+B,EAAO,MAAMN,EAAW,sBAAsB,OAAQ,IAAI,EAChEjB,EAAqBuB,EAAK,SAAWA,EAAK,KAAOA,EAAK,KAAK,aAAe,EAAE,CAC9E,OAASC,EAAG,CACV,QAAQ,MAAMA,CAAC,EACfhC,EAAS,qCAAqC,CAChD,QAAA,CACEH,EAAa,EAAK,CACpB,CACF,EAEMqC,EAAgBC,GAAoG,CACxH,OAAQA,EAAA,CACN,IAAK,aACL,IAAK,YACL,IAAK,QACH,OAAOC,EAAAA,IAACC,GAAA,CAAQ,UAAU,wBAAA,CAAyB,EACrD,IAAK,aACL,IAAK,YACL,IAAK,UACH,OAAOD,EAAAA,IAACE,GAAA,CAAU,UAAU,sBAAA,CAAuB,EACrD,QACE,OAAOF,EAAAA,IAACG,GAAA,CAAM,UAAU,uBAAA,CAAwB,CAAA,CAEtD,EAEMC,EAAiBL,GAAoG,CACzH,OAAQA,EAAA,CACN,IAAK,aACL,IAAK,YACL,IAAK,QACH,MAAO,iBACT,IAAK,aACL,IAAK,YACL,IAAK,UACH,MAAO,eACT,QACE,MAAO,eAAA,CAEb,EAEMM,EAAsBC,GACtBA,GAAS,GAAW,iBACpBA,GAAS,GAAW,kBACjB,eAGHC,EAAwBD,GACxBA,GAAS,GAAW,eACpBA,GAAS,GAAW,gBACjB,aAGT,OAAI9C,QAEC,MAAA,CAAI,UAAU,2DACb,SAAAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAR,EAAAA,IAACS,EAAA,CAAQ,UAAU,yCAAA,CAA0C,EAC7DT,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,+BAAA,CAA6B,CAAA,CAAA,CACjE,CAAA,CACF,EAIArC,QAEC,MAAA,CAAI,UAAU,2DACb,SAAA6C,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAR,EAAAA,IAACU,EAAA,CAAc,UAAU,qCAAA,CAAsC,EAC/DV,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,0BAAuB,EAChFA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAsB,SAAArC,EAAM,EACzC6C,EAAAA,KAAC,SAAA,CACC,QAASvB,EACT,UAAU,kBAEV,SAAA,CAAAe,EAAAA,IAACW,EAAA,CAAU,UAAU,cAAA,CAAe,EAAE,OAAA,CAAA,CAAA,CAExC,CAAA,CACF,CAAA,CACF,QAKD,MAAA,CAAI,UAAU,0BACb,SAAAH,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,qBAAkB,EACxEA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,+DAAA,CAA6D,CAAA,EAC5F,EAGAA,EAAAA,IAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,2BACb,SAAAA,MAAC,MAAA,CAAI,UAAU,wBACZ,SAAA,CACC,CAAE,GAAI,aAAc,KAAM,mBAAoB,KAAMY,CAAA,EACpD,CAAE,GAAI,cAAe,KAAM,qBAAsB,KAAMC,CAAA,EACvD,CAAE,GAAI,SAAU,KAAM,iBAAkB,KAAMC,CAAA,EAC9C,CAAE,GAAI,kBAAmB,KAAM,kBAAmB,KAAMC,CAAA,CAAK,EAC7D,IAAKC,GAAQ,CACb,MAAMC,EAAOD,EAAI,KACjB,OACER,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAM1C,EAAakD,EAAI,EAAS,EACzC,UAAW,wEACTnD,IAAcmD,EAAI,GACd,sCACA,4EACN,GAEA,SAAA,CAAAhB,EAAAA,IAACiB,EAAA,CAAK,UAAU,SAAA,CAAU,EAC1BjB,EAAAA,IAAC,OAAA,CAAM,SAAAgB,EAAI,IAAA,CAAK,CAAA,CAAA,EATXA,EAAI,EAAA,CAYf,CAAC,CAAA,CACH,CAAA,CACF,EACF,EAGAR,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEZ,SAAA,CAAA3C,IAAc,cACb2C,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,0BAAuB,EACxEQ,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAR,EAAAA,IAAC,SAAA,CACC,MAAOrB,EACP,SAAWiB,GAAMhB,EAAiBgB,EAAE,OAAO,KAAK,EAChD,UAAU,cAEV,SAAAI,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,gBAAA,CAAc,CAAA,CAAA,EAGjCQ,EAAAA,KAAC,SAAA,CAAO,UAAU,kBAAkB,QAASvB,EAC3C,SAAA,CAAAe,EAAAA,IAACkB,EAAA,CAAO,UAAU,cAAA,CAAe,EAAE,SAAA,CAAA,CAErC,CAAA,CAAA,CACF,CAAA,EACF,EAEAlB,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACZ,SAAAjC,EAAiB,IAAKuC,GACrBE,EAAAA,KAAC,MAAA,CAAwB,UAAU,WACjC,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAuC,SAAAM,EAAM,UAAU,EACrEE,EAAAA,KAAC,MAAA,CAAI,UAAW,8CAA8CD,EAAqBD,EAAM,eAAe,CAAC,IAAID,EAAmBC,EAAM,eAAe,CAAC,GACnJ,SAAA,CAAAA,EAAM,gBAAgB,MAAA,CAAA,CACzB,CAAA,EACF,EAEAE,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAR,MAAC,OAAI,UAAU,yBACZ,SAAA,OAAO,QAAQM,EAAM,OAAO,EAAE,IAAI,CAAC,CAACa,EAAKC,CAAK,IAC7CZ,EAAAA,KAAC,MAAA,CAAc,UAAU,oCACvB,SAAA,CAAAR,EAAAA,IAAC,OAAA,CAAK,UAAU,mCAAoC,SAAAmB,EAAI,EACxDX,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAR,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,kCACV,MAAO,CAAE,MAAO,GAAGoB,CAAK,GAAA,CAAI,CAAA,EAEhC,EACApB,EAAAA,IAAC,OAAA,CAAK,UAAU,oCAAqC,SAAAoB,CAAA,CAAM,CAAA,CAAA,CAC7D,CAAA,GAVQD,CAWV,CACD,EACH,EAGCb,EAAM,gBAAgB,OAAS,UAC7B,MAAA,CACC,SAAA,CAAAN,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,kBAAe,EACtEA,EAAAA,IAAC,KAAA,CAAG,UAAU,YACX,SAAAM,EAAM,gBAAgB,IAAI,CAACe,EAAKC,IAC/Bd,OAAC,KAAA,CAAe,UAAU,mDACxB,SAAA,CAAAR,EAAAA,IAACuB,EAAA,CAAY,UAAU,6CAAA,CAA8C,EACrEvB,EAAAA,IAAC,QAAM,SAAAqB,CAAA,CAAI,CAAA,CAAA,EAFJC,CAGT,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,GAzCQhB,EAAM,OA0ChB,CACD,CAAA,CACH,CAAA,EACF,EAIDzC,IAAc,eACb2C,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,0BAAuB,EACxEQ,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAR,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOnB,EACP,SAAWe,GAAMd,EAAYc,EAAE,OAAO,KAAK,EAC3C,UAAU,YAAA,CAAA,EAEZY,EAAAA,KAAC,SAAA,CAAO,UAAU,kBAAkB,QAASd,EAC3C,SAAA,CAAAM,EAAAA,IAACwB,EAAA,CAAI,UAAU,cAAA,CAAe,EAAE,SAAA,CAAA,CAElC,CAAA,CAAA,CACF,CAAA,EACF,EAEAxB,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACZ,SAAA/B,EAAkB,IAAI,CAACwD,EAAYH,IAClCd,EAAAA,KAAC,MAAA,CAAgB,UAAU,WACzB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,sCACX,SAAA,CAAAiB,EAAW,SAAS,MAAIA,EAAW,MAAA,EACtC,EACAjB,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,sCAAuC,SAAA,CAAAiB,EAAW,cAAc,MAAA,EAAI,EACnFjB,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAyB,SAAA,CAAAiB,EAAW,WAAW,cAAA,CAAA,CAAY,CAAA,CAAA,CAC5E,CAAA,EACF,EAEAjB,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,uCAAwC,SAAA,CAAAiB,EAAW,iBAAiB,WAAW,MAAA,EAAI,EAClGzB,EAAAA,IAAC,MAAA,CAAI,UAAU,yBAAyB,SAAA,YAAA,CAAU,CAAA,EACpD,EACAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,sCAAuC,SAAA,CAAAiB,EAAW,iBAAiB,UAAU,MAAA,EAAI,EAChGzB,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,WAAA,CAAS,CAAA,EAClD,EACAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,uCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qCAAsC,SAAA,CAAAiB,EAAW,iBAAiB,YAAY,MAAA,EAAI,EACjGzB,EAAAA,IAAC,MAAA,CAAI,UAAU,uBAAuB,SAAA,aAAA,CAAW,CAAA,CAAA,CACnD,CAAA,EACF,SAGC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,UAAO,QAC7D,MAAA,CAAI,UAAU,iCACZ,SAAA,OAAO,QAAQyB,EAAW,OAAO,EAAE,IAAI,CAAC,CAACN,EAAKC,CAAK,IAClDZ,EAAAA,KAAC,MAAA,CAAc,UAAU,uBACvB,SAAA,CAAAR,EAAAA,IAAC,QAAK,UAAU,2BAA4B,WAAI,QAAQ,WAAY,KAAK,EAAE,EAC3EQ,EAAAA,KAAC,OAAA,CAAK,UAAU,cAAe,SAAA,CAAAY,EAAM,QAAQ,CAAC,EAAE,GAAA,CAAA,CAAC,CAAA,CAAA,EAFzCD,CAGV,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,GAxCQG,CAyCV,CACD,EACH,SAGC,MAAA,CACC,SAAA,CAAAd,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,qBAAkB,EACtEQ,EAAAA,KAAC,SAAA,CAAO,UAAU,kBAAkB,QAASX,EAC3C,SAAA,CAAAG,EAAAA,IAACkB,EAAA,CAAO,UAAU,cAAA,CAAe,EAAE,MAAA,CAAA,CAErC,CAAA,EACF,EACC/C,EAAkB,OAAS,GAC1B6B,EAAAA,IAAC,OAAI,UAAU,wCACZ,SAAA7B,EAAkB,IAAI,CAACuD,EAAOJ,IAC7Bd,EAAAA,KAAC,MAAA,CAAgB,UAAU,WACzB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,8BAA+B,SAAA0B,EAAM,UAAU,EAC7DlB,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAyB,SAAA,CAAAkB,EAAM,WAAW,MAAA,CAAA,CAAI,CAAA,EAC/D,EACAlB,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAR,EAAAA,IAACa,EAAA,CAAM,UAAU,SAAA,CAAU,SAC1B,OAAA,CAAM,SAAA,CAAAa,EAAM,UAAU,MAAA,CAAA,CAAI,CAAA,EAC7B,EACAlB,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAR,EAAAA,IAAC2B,EAAA,CAAW,UAAU,SAAA,CAAU,SAC/B,OAAA,CAAK,SAAA,CAAA,OAAKD,EAAM,SAAA,CAAA,CAAU,CAAA,CAAA,CAC7B,CAAA,EACF,QACC,MAAA,CAAI,UAAU,OACb,SAAAlB,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,CAAA,YAAUkB,EAAM,QAAQ,KAAK,IAAI,CAAA,CAAA,CAAE,CAAA,CAC5E,CAAA,CAAA,EAjBQJ,CAkBV,CACD,CAAA,CACH,CAAA,CAAA,CAEJ,CAAA,EACF,EAIDzD,IAAc,UACb2C,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,iBAAc,EAC/DQ,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,MAAOzB,EACP,SAAWa,GAAMZ,EAAUY,EAAE,OAAO,KAAY,EAChD,UAAU,cAEV,SAAA,CAAAI,EAAAA,IAAC,SAAA,CAAO,MAAM,QAAQ,SAAA,QAAK,EAC3BA,EAAAA,IAAC,SAAA,CAAO,MAAM,SAAS,SAAA,SAAM,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CAAA,EAEjCQ,EAAAA,KAAC,SAAA,CAAO,UAAU,kBAAkB,QAASvB,EAC3C,SAAA,CAAAe,EAAAA,IAAC4B,EAAA,CAAS,UAAU,cAAA,CAAe,EAAE,QAAA,CAAA,CAEvC,CAAA,CAAA,CACF,CAAA,EACF,EAEA5B,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACZ,SAAA3B,EAAc,IAAI,CAAC0B,EAAOuB,IACzBd,EAAAA,KAAC,MAAA,CAAgB,UAAU,WACzB,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,CAAA,iBAAeT,EAAM,OAAO,GAAA,EAAC,QAErF,MAAA,CAAI,UAAU,YACZ,SAAA,OAAO,QAAQA,EAAM,MAAM,EAAE,IAAI,CAAC,CAACoB,EAAKU,CAAI,IAC3CrB,EAAAA,KAAC,MAAA,CAAc,UAAU,wBACvB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAR,EAAAA,IAAC,OAAA,CAAK,UAAU,uCAAwC,SAAAmB,EAAI,EAC5DX,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACZ,SAAA,CAAAV,EAAa+B,EAAK,KAAK,EACxBrB,EAAAA,KAAC,QAAK,UAAW,uBAAuBJ,EAAcyB,EAAK,KAAK,CAAC,GAC9D,SAAA,CAAAA,EAAK,OAAS,EAAI,IAAM,GAAIA,EAAK,OAAO,QAAQ,CAAC,EAAE,GAAA,CAAA,CACtD,CAAA,CAAA,CACF,CAAA,EACF,EACArB,EAAAA,KAAC,MAAA,CAAI,UAAU,0DACb,SAAA,CAAAA,OAAC,OAAA,CAAK,SAAA,CAAA,YAAUqB,EAAK,OAAA,EAAQ,SAC5B,OAAA,CAAK,SAAA,CAAA,aAAWA,EAAK,QAAA,CAAA,CAAS,CAAA,CAAA,CACjC,CAAA,GAbQV,CAcV,CACD,EACH,EAECpB,EAAM,SAAS,OAAS,GACvBS,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,yCAAyC,SAAA,WAAQ,EAC/DA,EAAAA,IAAC,KAAA,CAAG,UAAU,YACX,SAAAD,EAAM,SAAS,IAAI,CAAC+B,EAASC,IAC5BvB,OAAC,KAAA,CAAa,UAAU,mDACtB,SAAA,CAAAR,EAAAA,IAACU,EAAA,CAAc,UAAU,4CAAA,CAA6C,EACtEV,EAAAA,IAAC,QAAM,SAAA8B,CAAA,CAAQ,CAAA,CAAA,EAFRC,CAGT,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,EAlCMT,CAoCV,CACD,CAAA,CACH,CAAA,EACF,EAIDzD,IAAc,mBACb2C,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,+BAA4B,EAC7EQ,EAAAA,KAAC,SAAA,CAAO,UAAU,kBAAkB,QAASvB,EAC3C,SAAA,CAAAe,EAAAA,IAACW,EAAA,CAAU,UAAU,cAAA,CAAe,EAAE,SAAA,CAAA,CAExC,CAAA,EACF,EAEClC,GACC+B,EAAAA,KAAC,MAAA,CAAI,UAAU,wCAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,mBAAgB,QACxE,MAAA,CAAI,UAAU,YACZ,SAAA,OAAO,QAAQvB,EAAoB,WAAW,EAAE,IAAI,CAAC,CAAC0C,EAAKC,CAAK,IAC/DZ,EAAAA,KAAC,MAAA,CAAc,UAAU,oCACvB,SAAA,CAAAR,EAAAA,IAAC,OAAA,CAAK,UAAU,mCAAoC,SAAAmB,EAAI,EACxDX,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAR,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,kCACV,MAAO,CAAE,MAAO,GAAGoB,EAAQ,GAAG,GAAA,CAAI,CAAA,EAEtC,EACAZ,EAAAA,KAAC,OAAA,CAAK,UAAU,oCAAqC,SAAA,CAAA,KAAK,MAAMY,EAAQ,GAAG,EAAE,GAAA,CAAA,CAAC,CAAA,CAAA,CAChF,CAAA,CAAA,EAVQD,CAWV,CACD,CAAA,CACH,CAAA,EACF,EAGAX,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,qBAAkB,EAC3EA,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAAvB,EAAoB,gBAAgB,IAAI,CAAC4C,EAAKC,IAC7Cd,OAAC,MAAA,CAAgB,UAAU,yCACzB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,4BAA6B,SAAAqB,EAAI,UAAU,EACzDb,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAR,EAAAA,IAACe,EAAA,CAAK,UAAU,yBAAA,CAA0B,EAC1CP,EAAAA,KAAC,OAAA,CAAK,UAAU,oCAAqC,SAAA,CAAAa,EAAI,MAAM,MAAA,CAAA,CAAI,CAAA,CAAA,CACrE,CAAA,EACF,EACArB,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA8B,WAAI,OAAO,EACtDA,EAAAA,IAAC,MAAA,CAAI,UAAU,8BACb,SAAAA,EAAAA,IAAC,QAAK,UAAW,kCACfqB,EAAI,OAAS,aAAe,4BAC5BA,EAAI,OAAS,SAAW,8BACxBA,EAAI,OAAS,OAAS,gCACtB,+BACF,GACG,SAAAA,EAAI,IAAA,CACP,CAAA,CACF,CAAA,CAAA,EAlBQC,CAmBV,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,EAID/C,EAAgB,OAAS,GACxBiC,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAR,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,mBAAgB,EACzEA,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACZ,SAAAzB,EAAgB,IAAI,CAACyD,EAAUV,IAC9Bd,EAAAA,KAAC,MAAA,CAAgB,UAAU,WACzB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,8BAA8B,SAAA,CAAA,cAAYwB,EAAS,QAAA,EAAS,EAC1ExB,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,qCAAsC,SAAA,CAAAwB,EAAS,gBAAgB,GAAA,EAAC,EAC/ExB,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAyB,SAAA,CAAAwB,EAAS,WAAW,cAAA,CAAA,CAAY,CAAA,CAAA,CAC1E,CAAA,EACF,EACAhC,EAAAA,IAAC,MAAA,CAAI,UAAU,2CACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,kCACV,MAAO,CAAE,MAAO,GAAGgC,EAAS,eAAe,GAAA,CAAI,CAAA,EAEnD,EACCA,EAAS,gBAAgB,OAAS,GACjChC,EAAAA,IAAC,MAAA,CAAI,UAAU,wBACZ,SAAAgC,EAAS,gBAAgB,CAAC,CAAA,CAC7B,CAAA,CAAA,EAjBMV,CAmBV,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}