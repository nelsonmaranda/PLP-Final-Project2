{"version":3,"file":"UserManagement-Ch1V-RTN.js","sources":["../../src/screens/UserManagement.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { \r\n  Users, \r\n  CheckCircle, \r\n  XCircle, \r\n  Clock, \r\n  Search, \r\n  Building2,\r\n  Gavel,\r\n  Shield,\r\n  Crown,\r\n  RefreshCw,\r\n  UserCheck,\r\n  UserX,\r\n  Plus,\r\n  Pencil\r\n} from 'lucide-react'\r\nimport apiService from '../services/api'\r\nimport { useTranslation } from '../hooks/useTranslation'\r\n\r\ninterface User {\r\n  _id: string\r\n  email: string\r\n  displayName: string\r\n  role: string\r\n  requestedRole?: string\r\n  status: 'active' | 'pending' | 'suspended' | 'rejected'\r\n  organization?: string\r\n  createdAt: string\r\n  approvedBy?: string\r\n  approvedAt?: string\r\n  rejectionReason?: string\r\n}\r\n\r\nexport default function UserManagement() {\r\n  const { t } = useTranslation()\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('all')\r\n  const [roleFilter, setRoleFilter] = useState('all')\r\n  const [actionLoading, setActionLoading] = useState<string | null>(null)\r\n  const [showCreate, setShowCreate] = useState(false)\r\n  const [createForm, setCreateForm] = useState({ displayName: '', email: '', password: '', role: 'user', organization: '' })\r\n  const [editUserId, setEditUserId] = useState<string | null>(null)\r\n  const [editForm, setEditForm] = useState({ displayName: '', email: '', role: 'user', status: 'active', organization: '' })\r\n\r\n  useEffect(() => {\r\n    loadUsers()\r\n  }, [])\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      setLoading(true)\r\n      // Use real API call\r\n      const response = await fetch('https://us-central1-smart-matwana-ke.cloudfunctions.net/api/admin/users', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(t('userManagement.messages.fetchError'))\r\n      }\r\n      \r\n      const data = await response.json()\r\n      if (data.success) {\r\n        setUsers(data.data)\r\n      } else {\r\n        throw new Error(data.message || t('userManagement.messages.loadError'))\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading users:', error)\r\n      setUsers([])\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleApprove = async (userId: string) => {\r\n    try {\r\n      setActionLoading(userId)\r\n      \r\n      const response = await fetch(`https://us-central1-smart-matwana-ke.cloudfunctions.net/api/admin/users/${userId}/approve`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(t('userManagement.messages.approveError'))\r\n      }\r\n      \r\n      const data = await response.json()\r\n      if (data.success) {\r\n        // Update the user in the local state\r\n        setUsers(prev => prev.map(user => \r\n          user._id === userId \r\n            ? { \r\n                ...user, \r\n                role: user.requestedRole || user.role,\r\n                status: 'active' as const,\r\n                requestedRole: undefined,\r\n                approvedAt: new Date().toISOString()\r\n              }\r\n            : user\r\n        ))\r\n      } else {\r\n        throw new Error(data.message || t('userManagement.messages.approveError'))\r\n      }\r\n    } catch (error) {\r\n      console.error('Error approving user:', error)\r\n      alert(t('userManagement.messages.approveError'))\r\n    } finally {\r\n      setActionLoading(null)\r\n    }\r\n  }\r\n\r\n  const handleReject = async (userId: string, reason: string) => {\r\n    try {\r\n      setActionLoading(userId)\r\n      \r\n      const response = await fetch(`https://us-central1-smart-matwana-ke.cloudfunctions.net/api/admin/users/${userId}/reject`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ reason })\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(t('userManagement.messages.rejectError'))\r\n      }\r\n      \r\n      const data = await response.json()\r\n      if (data.success) {\r\n        // Update the user in the local state\r\n        setUsers(prev => prev.map(user => \r\n          user._id === userId \r\n            ? { \r\n                ...user, \r\n                status: 'rejected' as const,\r\n                rejectionReason: reason,\r\n                requestedRole: undefined\r\n              }\r\n            : user\r\n        ))\r\n      } else {\r\n        throw new Error(data.message || t('userManagement.messages.rejectError'))\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rejecting user:', error)\r\n      alert(t('userManagement.messages.rejectError'))\r\n    } finally {\r\n      setActionLoading(null)\r\n    }\r\n  }\r\n\r\n  const getRoleIcon = (role: string) => {\r\n    switch (role) {\r\n      case 'admin': return <Crown className=\"w-4 h-4\" />\r\n      case 'sacco': return <Building2 className=\"w-4 h-4\" />\r\n      case 'authority': return <Gavel className=\"w-4 h-4\" />\r\n      case 'moderator': return <Shield className=\"w-4 h-4\" />\r\n      default: return <Users className=\"w-4 h-4\" />\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'active': return 'text-green-600 bg-green-100'\r\n      case 'pending': return 'text-yellow-600 bg-yellow-100'\r\n      case 'suspended': return 'text-red-600 bg-red-100'\r\n      case 'rejected': return 'text-gray-600 bg-gray-100'\r\n      default: return 'text-gray-600 bg-gray-100'\r\n    }\r\n  }\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'active': return <CheckCircle className=\"w-4 h-4\" />\r\n      case 'pending': return <Clock className=\"w-4 h-4\" />\r\n      case 'suspended': return <XCircle className=\"w-4 h-4\" />\r\n      case 'rejected': return <XCircle className=\"w-4 h-4\" />\r\n      default: return <Clock className=\"w-4 h-4\" />\r\n    }\r\n  }\r\n\r\n  const translateStatus = (status: string) => {\r\n    switch (status) {\r\n      case 'active': return t('userManagement.status.active')\r\n      case 'pending': return t('userManagement.status.pending')\r\n      case 'suspended': return t('userManagement.status.suspended')\r\n      case 'rejected': return t('userManagement.status.rejected')\r\n      default: return status\r\n    }\r\n  }\r\n\r\n  const translateRole = (role: string) => {\r\n    switch (role) {\r\n      case 'admin': return t('userManagement.roles.admin')\r\n      case 'moderator': return t('userManagement.roles.moderator')\r\n      case 'sacco': return t('userManagement.roles.sacco')\r\n      case 'authority': return t('userManagement.roles.authority')\r\n      case 'user': return t('userManagement.roles.user')\r\n      default: return role\r\n    }\r\n  }\r\n\r\n  const filteredUsers = users.filter(user => {\r\n    const matchesSearch = user.displayName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         user.organization?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    const matchesStatus = statusFilter === 'all' || user.status === statusFilter\r\n    const matchesRole = roleFilter === 'all' || user.role === roleFilter || user.requestedRole === roleFilter\r\n    return matchesSearch && matchesStatus && matchesRole\r\n  })\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\r\n          <p className=\"text-gray-600\">{t('userManagement.loading')}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">{t('userManagement.title')}</h1>\r\n              <p className=\"text-gray-600 mt-1\">{t('userManagement.subtitle')}</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n              onClick={loadUsers}\r\n              className=\"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n            >\r\n              <RefreshCw className=\"w-4 h-4\" />\r\n              <span>{t('userManagement.refresh')}</span>\r\n            </button>\r\n            <button\r\n              onClick={() => setShowCreate(true)}\r\n              className=\"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              <span>{t('userManagement.addUser')}</span>\r\n            </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow mb-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">{t('userManagement.search')}</label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  placeholder={t('userManagement.searchPlaceholder')}\r\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">{t('userManagement.status')}</label>\r\n              <select\r\n                value={statusFilter}\r\n                onChange={(e) => setStatusFilter(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              >\r\n                <option value=\"all\">{t('userManagement.filters.allStatus')}</option>\r\n                <option value=\"active\">{t('userManagement.status.active')}</option>\r\n                <option value=\"pending\">{t('userManagement.status.pending')}</option>\r\n                <option value=\"suspended\">{t('userManagement.status.suspended')}</option>\r\n                <option value=\"rejected\">{t('userManagement.status.rejected')}</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">{t('userManagement.role')}</label>\r\n              <select\r\n                value={roleFilter}\r\n                onChange={(e) => setRoleFilter(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              >\r\n                <option value=\"all\">{t('userManagement.filters.allRoles')}</option>\r\n                <option value=\"user\">{t('userManagement.roles.user')}</option>\r\n                <option value=\"sacco\">{t('userManagement.roles.sacco')}</option>\r\n                <option value=\"authority\">{t('userManagement.roles.authority')}</option>\r\n                <option value=\"moderator\">{t('userManagement.roles.moderator')}</option>\r\n                <option value=\"admin\">{t('userManagement.roles.admin')}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Users Table */}\r\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{t('userManagement.table.displayName')}</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{t('userManagement.table.role')}</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{t('userManagement.requestedRole')}</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{t('userManagement.table.status')}</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{t('userManagement.organization')}</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{t('userManagement.created')}</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">{t('userManagement.table.actions')}</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {filteredUsers.map((user) => (\r\n                  <tr key={user._id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                          <Users className=\"w-5 h-5 text-blue-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">{user.displayName}</div>\r\n                          <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        {getRoleIcon(user.role)}\r\n                        <span className=\"ml-2 text-sm text-gray-900\">{translateRole(user.role)}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      {user.requestedRole ? (\r\n                        <div className=\"flex items-center\">\r\n                          {getRoleIcon(user.requestedRole)}\r\n                          <span className=\"ml-2 text-sm text-gray-900\">{translateRole(user.requestedRole)}</span>\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"text-sm text-gray-500\">-</span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(user.status)}`}>\r\n                        {getStatusIcon(user.status)}\r\n                        <span className=\"ml-1\">{translateStatus(user.status)}</span>\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {user.organization || '-'}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(user.createdAt).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      {user.status === 'pending' && user.requestedRole && (\r\n                        <div className=\"flex space-x-2\">\r\n                          <button\r\n                            onClick={() => handleApprove(user._id)}\r\n                            disabled={actionLoading === user._id}\r\n                            className=\"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50\"\r\n                          >\r\n                            {actionLoading === user._id ? (\r\n                              <RefreshCw className=\"w-3 h-3 animate-spin\" />\r\n                            ) : (\r\n                              <UserCheck className=\"w-3 h-3\" />\r\n                            )}\r\n                            <span className=\"ml-1\">{t('userManagement.actions.approve')}</span>\r\n                          </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              const reason = prompt(t('userManagement.rejectionReason'))\r\n                              if (reason) handleReject(user._id, reason)\r\n                            }}\r\n                            disabled={actionLoading === user._id}\r\n                            className=\"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50\"\r\n                          >\r\n                            <UserX className=\"w-3 h-3\" />\r\n                            <span className=\"ml-1\">{t('userManagement.actions.reject')}</span>\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                      <button\r\n                        onClick={() => {\r\n                          setEditUserId(user._id)\r\n                          setEditForm({ displayName: user.displayName, email: user.email, role: user.role, status: user.status, organization: user.organization || '' })\r\n                        }}\r\n                        className=\"inline-flex items-center px-3 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ml-2\"\r\n                      >\r\n                        <Pencil className=\"w-3 h-3 mr-1\" /> {t('userManagement.actions.edit')}\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {filteredUsers.length === 0 && (\r\n          <div className=\"text-center py-12\">\r\n            <Users className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">{t('userManagement.noUsers')}</h3>\r\n            <p className=\"text-gray-500\">{t('userManagement.noUsersMessage')}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Create User Modal */}\r\n      {showCreate && (\r\n        <div className=\"fixed inset-0 bg-black/30 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">{t('userManagement.modals.addUser.title')}</h3>\r\n            <div className=\"space-y-3\">\r\n              <input className=\"form-input w-full\" placeholder={t('userManagement.modals.addUser.fullName')} value={createForm.displayName} onChange={(e)=>setCreateForm({...createForm, displayName: e.target.value})} />\r\n              <input className=\"form-input w-full\" placeholder={t('userManagement.modals.addUser.email')} value={createForm.email} onChange={(e)=>setCreateForm({...createForm, email: e.target.value})} />\r\n              <input className=\"form-input w-full\" placeholder={t('userManagement.modals.addUser.password')} type=\"password\" value={createForm.password} onChange={(e)=>setCreateForm({...createForm, password: e.target.value})} />\r\n              <select className=\"form-select w-full\" value={createForm.role} onChange={(e)=>setCreateForm({...createForm, role: e.target.value})}>\r\n                <option value=\"user\">{t('userManagement.roles.user')}</option>\r\n                <option value=\"sacco\">{t('userManagement.roles.sacco')}</option>\r\n                <option value=\"authority\">{t('userManagement.roles.authority')}</option>\r\n                <option value=\"moderator\">{t('userManagement.roles.moderator')}</option>\r\n                <option value=\"admin\">{t('userManagement.roles.admin')}</option>\r\n              </select>\r\n              <input className=\"form-input w-full\" placeholder={t('userManagement.modals.addUser.organization')} value={createForm.organization} onChange={(e)=>setCreateForm({...createForm, organization: e.target.value})} />\r\n            </div>\r\n            <div className=\"mt-5 flex justify-end gap-2\">\r\n              <button className=\"btn btn-outline\" onClick={()=>setShowCreate(false)}>{t('userManagement.modals.addUser.cancel')}</button>\r\n              <button className=\"btn btn-primary\" onClick={async ()=>{\r\n                try {\r\n                  const resp = await apiService.adminCreateUser(createForm as any)\r\n                  if (resp.success) { setShowCreate(false); setCreateForm({ displayName:'', email:'', password:'', role:'user', organization:'' }); loadUsers() }\r\n                } catch (e) { alert(t('userManagement.messages.createError')) }\r\n              }}>{t('userManagement.modals.addUser.create')}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit User Modal */}\r\n      {editUserId && (\r\n        <div className=\"fixed inset-0 bg-black/30 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">{t('userManagement.modals.editUser.title')}</h3>\r\n            <div className=\"space-y-3\">\r\n              <input className=\"form-input w-full\" placeholder={t('userManagement.modals.editUser.fullName')} value={editForm.displayName} onChange={(e)=>setEditForm({...editForm, displayName: e.target.value})} />\r\n              <input className=\"form-input w-full\" placeholder={t('userManagement.modals.editUser.email')} value={editForm.email} onChange={(e)=>setEditForm({...editForm, email: e.target.value})} />\r\n              <select className=\"form-select w-full\" value={editForm.role} onChange={(e)=>setEditForm({...editForm, role: e.target.value})}>\r\n                <option value=\"user\">{t('userManagement.roles.user')}</option>\r\n                <option value=\"sacco\">{t('userManagement.roles.sacco')}</option>\r\n                <option value=\"authority\">{t('userManagement.roles.authority')}</option>\r\n                <option value=\"moderator\">{t('userManagement.roles.moderator')}</option>\r\n                <option value=\"admin\">{t('userManagement.roles.admin')}</option>\r\n              </select>\r\n              <select className=\"form-select w-full\" value={editForm.status} onChange={(e)=>setEditForm({...editForm, status: e.target.value})}>\r\n                <option value=\"active\">{t('userManagement.status.active')}</option>\r\n                <option value=\"pending\">{t('userManagement.status.pending')}</option>\r\n                <option value=\"suspended\">{t('userManagement.status.suspended')}</option>\r\n                <option value=\"rejected\">{t('userManagement.status.rejected')}</option>\r\n              </select>\r\n              <input className=\"form-input w-full\" placeholder={t('userManagement.modals.editUser.organization')} value={editForm.organization} onChange={(e)=>setEditForm({...editForm, organization: e.target.value})} />\r\n            </div>\r\n            <div className=\"mt-5 flex justify-end gap-2\">\r\n              <button className=\"btn btn-outline\" onClick={()=>setEditUserId(null)}>{t('userManagement.modals.editUser.cancel')}</button>\r\n              <button className=\"btn btn-primary\" onClick={async ()=>{\r\n                try {\r\n                  const resp = await apiService.adminUpdateUser(editUserId!, editForm as any)\r\n                  if (resp.success) { setEditUserId(null); loadUsers() }\r\n                } catch (e) { alert(t('userManagement.messages.updateError')) }\r\n              }}>{t('userManagement.modals.editUser.save')}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":["UserManagement","t","useTranslation","users","setUsers","useState","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","roleFilter","setRoleFilter","actionLoading","setActionLoading","showCreate","setShowCreate","createForm","setCreateForm","editUserId","setEditUserId","editForm","setEditForm","useEffect","loadUsers","response","data","error","handleApprove","userId","prev","user","handleReject","reason","getRoleIcon","role","jsx","Crown","Building2","Gavel","Shield","Users","getStatusColor","status","getStatusIcon","CheckCircle","Clock","XCircle","translateStatus","translateRole","filteredUsers","matchesSearch","_a","matchesStatus","matchesRole","jsxs","RefreshCw","Plus","Search","e","UserCheck","UserX","Pencil","apiService"],"mappings":"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"}