{"version":3,"file":"UserManagement-hS-60pwI.js","sources":["../../src/screens/UserManagement.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { \r\n  Users, \r\n  CheckCircle, \r\n  XCircle, \r\n  Clock, \r\n  Search, \r\n  Building2,\r\n  Gavel,\r\n  Shield,\r\n  Crown,\r\n  RefreshCw,\r\n  UserCheck,\r\n  UserX\r\n} from 'lucide-react'\r\n\r\ninterface User {\r\n  _id: string\r\n  email: string\r\n  displayName: string\r\n  role: string\r\n  requestedRole?: string\r\n  status: 'active' | 'pending' | 'suspended' | 'rejected'\r\n  organization?: string\r\n  createdAt: string\r\n  approvedBy?: string\r\n  approvedAt?: string\r\n  rejectionReason?: string\r\n}\r\n\r\nexport default function UserManagement() {\r\n  const [users, setUsers] = useState<User[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState('all')\r\n  const [roleFilter, setRoleFilter] = useState('all')\r\n  const [actionLoading, setActionLoading] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    loadUsers()\r\n  }, [])\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      setLoading(true)\r\n      // Use real API call\r\n      const response = await fetch('https://us-central1-smart-matwana-ke.cloudfunctions.net/api/admin/users', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch users')\r\n      }\r\n      \r\n      const data = await response.json()\r\n      if (data.success) {\r\n        setUsers(data.data)\r\n      } else {\r\n        throw new Error(data.message || 'Failed to load users')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading users:', error)\r\n      setUsers([])\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleApprove = async (userId: string) => {\r\n    try {\r\n      setActionLoading(userId)\r\n      \r\n      const response = await fetch(`https://us-central1-smart-matwana-ke.cloudfunctions.net/api/admin/users/${userId}/approve`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to approve user')\r\n      }\r\n      \r\n      const data = await response.json()\r\n      if (data.success) {\r\n        // Update the user in the local state\r\n        setUsers(prev => prev.map(user => \r\n          user._id === userId \r\n            ? { \r\n                ...user, \r\n                role: user.requestedRole || user.role,\r\n                status: 'active' as const,\r\n                requestedRole: undefined,\r\n                approvedAt: new Date().toISOString()\r\n              }\r\n            : user\r\n        ))\r\n      } else {\r\n        throw new Error(data.message || 'Failed to approve user')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error approving user:', error)\r\n      alert('Failed to approve user. Please try again.')\r\n    } finally {\r\n      setActionLoading(null)\r\n    }\r\n  }\r\n\r\n  const handleReject = async (userId: string, reason: string) => {\r\n    try {\r\n      setActionLoading(userId)\r\n      \r\n      const response = await fetch(`https://us-central1-smart-matwana-ke.cloudfunctions.net/api/admin/users/${userId}/reject`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ reason })\r\n      })\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to reject user')\r\n      }\r\n      \r\n      const data = await response.json()\r\n      if (data.success) {\r\n        // Update the user in the local state\r\n        setUsers(prev => prev.map(user => \r\n          user._id === userId \r\n            ? { \r\n                ...user, \r\n                status: 'rejected' as const,\r\n                rejectionReason: reason,\r\n                requestedRole: undefined\r\n              }\r\n            : user\r\n        ))\r\n      } else {\r\n        throw new Error(data.message || 'Failed to reject user')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rejecting user:', error)\r\n      alert('Failed to reject user. Please try again.')\r\n    } finally {\r\n      setActionLoading(null)\r\n    }\r\n  }\r\n\r\n  const getRoleIcon = (role: string) => {\r\n    switch (role) {\r\n      case 'admin': return <Crown className=\"w-4 h-4\" />\r\n      case 'sacco': return <Building2 className=\"w-4 h-4\" />\r\n      case 'authority': return <Gavel className=\"w-4 h-4\" />\r\n      case 'moderator': return <Shield className=\"w-4 h-4\" />\r\n      default: return <Users className=\"w-4 h-4\" />\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'active': return 'text-green-600 bg-green-100'\r\n      case 'pending': return 'text-yellow-600 bg-yellow-100'\r\n      case 'suspended': return 'text-red-600 bg-red-100'\r\n      case 'rejected': return 'text-gray-600 bg-gray-100'\r\n      default: return 'text-gray-600 bg-gray-100'\r\n    }\r\n  }\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'active': return <CheckCircle className=\"w-4 h-4\" />\r\n      case 'pending': return <Clock className=\"w-4 h-4\" />\r\n      case 'suspended': return <XCircle className=\"w-4 h-4\" />\r\n      case 'rejected': return <XCircle className=\"w-4 h-4\" />\r\n      default: return <Clock className=\"w-4 h-4\" />\r\n    }\r\n  }\r\n\r\n  const filteredUsers = users.filter(user => {\r\n    const matchesSearch = user.displayName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         user.organization?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    const matchesStatus = statusFilter === 'all' || user.status === statusFilter\r\n    const matchesRole = roleFilter === 'all' || user.role === roleFilter || user.requestedRole === roleFilter\r\n    return matchesSearch && matchesStatus && matchesRole\r\n  })\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\r\n          <p className=\"text-gray-600\">Loading users...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">User Management</h1>\r\n              <p className=\"text-gray-600 mt-1\">Manage user roles and permissions</p>\r\n            </div>\r\n            <button\r\n              onClick={loadUsers}\r\n              className=\"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n            >\r\n              <RefreshCw className=\"w-4 h-4\" />\r\n              <span>Refresh</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow mb-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search</label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  placeholder=\"Search users...\"\r\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n              <select\r\n                value={statusFilter}\r\n                onChange={(e) => setStatusFilter(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              >\r\n                <option value=\"all\">All Status</option>\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"suspended\">Suspended</option>\r\n                <option value=\"rejected\">Rejected</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Role</label>\r\n              <select\r\n                value={roleFilter}\r\n                onChange={(e) => setRoleFilter(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n              >\r\n                <option value=\"all\">All Roles</option>\r\n                <option value=\"user\">User</option>\r\n                <option value=\"sacco\">SACCO</option>\r\n                <option value=\"authority\">Authority</option>\r\n                <option value=\"moderator\">Moderator</option>\r\n                <option value=\"admin\">Admin</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Users Table */}\r\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Current Role</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Requested Role</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Organization</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Created</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {filteredUsers.map((user) => (\r\n                  <tr key={user._id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                          <Users className=\"w-5 h-5 text-blue-600\" />\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">{user.displayName}</div>\r\n                          <div className=\"text-sm text-gray-500\">{user.email}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        {getRoleIcon(user.role)}\r\n                        <span className=\"ml-2 text-sm text-gray-900 capitalize\">{user.role}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      {user.requestedRole ? (\r\n                        <div className=\"flex items-center\">\r\n                          {getRoleIcon(user.requestedRole)}\r\n                          <span className=\"ml-2 text-sm text-gray-900 capitalize\">{user.requestedRole}</span>\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"text-sm text-gray-500\">-</span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(user.status)}`}>\r\n                        {getStatusIcon(user.status)}\r\n                        <span className=\"ml-1 capitalize\">{user.status}</span>\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {user.organization || '-'}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(user.createdAt).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      {user.status === 'pending' && user.requestedRole && (\r\n                        <div className=\"flex space-x-2\">\r\n                          <button\r\n                            onClick={() => handleApprove(user._id)}\r\n                            disabled={actionLoading === user._id}\r\n                            className=\"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50\"\r\n                          >\r\n                            {actionLoading === user._id ? (\r\n                              <RefreshCw className=\"w-3 h-3 animate-spin\" />\r\n                            ) : (\r\n                              <UserCheck className=\"w-3 h-3\" />\r\n                            )}\r\n                            <span className=\"ml-1\">Approve</span>\r\n                          </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              const reason = prompt('Rejection reason:')\r\n                              if (reason) handleReject(user._id, reason)\r\n                            }}\r\n                            disabled={actionLoading === user._id}\r\n                            className=\"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50\"\r\n                          >\r\n                            <UserX className=\"w-3 h-3\" />\r\n                            <span className=\"ml-1\">Reject</span>\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                      {user.status === 'active' && (\r\n                        <span className=\"text-green-600 text-xs\">Active</span>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {filteredUsers.length === 0 && (\r\n          <div className=\"text-center py-12\">\r\n            <Users className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No users found</h3>\r\n            <p className=\"text-gray-500\">Try adjusting your search or filter criteria.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["UserManagement","users","setUsers","useState","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","roleFilter","setRoleFilter","actionLoading","setActionLoading","useEffect","loadUsers","response","data","error","handleApprove","userId","prev","user","handleReject","reason","getRoleIcon","role","jsx","Crown","Building2","Gavel","Shield","Users","getStatusColor","status","getStatusIcon","CheckCircle","Clock","XCircle","filteredUsers","matchesSearch","_a","matchesStatus","matchesRole","jsxs","RefreshCw","Search","e","UserCheck","UserX"],"mappings":"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"}