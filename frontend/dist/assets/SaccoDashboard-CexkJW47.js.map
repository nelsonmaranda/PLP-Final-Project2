{"version":3,"file":"SaccoDashboard-CexkJW47.js","sources":["../../src/screens/SaccoDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { \r\n  BarChart3, \r\n  TrendingUp, \r\n  Star,\r\n  MapPin,\r\n  DollarSign,\r\n  Activity,\r\n  RefreshCw,\r\n  AlertTriangle,\r\n  Clock,\r\n  Award,\r\n  Eye\r\n} from 'lucide-react'\r\nimport apiService from '../services/api'\r\nimport { useApp } from '../contexts/AppContext'\r\nimport { useTranslation } from '../hooks/useTranslation'\r\n\r\ninterface SaccoAnalytics {\r\n  saccoName: string\r\n  period: string\r\n  routeMetrics: {\r\n    totalRoutes: number\r\n    activeRoutes: number\r\n    routePerformance: {\r\n      _id: string\r\n      routeName: string\r\n      routeNumber: string\r\n      avgRating: number\r\n      totalRatings: number\r\n      avgReliability: number\r\n      avgSafety: number\r\n      avgPunctuality: number\r\n      avgComfort: number\r\n    }[]\r\n  }\r\n  reportMetrics: {\r\n    totalReports: number\r\n    reportsByType: { type: string; count: number }[]\r\n    reportsBySeverity: { severity: string; count: number }[]\r\n    avgReportsPerDay: string\r\n  }\r\n  performanceTrends: {\r\n    _id: { day: string; type: string }\r\n    count: number\r\n  }[]\r\n  geographicInsights: {\r\n    hotspots: {\r\n      _id: { lat: number; lng: number }\r\n      count: number\r\n      types: string[]\r\n    }[]\r\n    totalLocations: number\r\n  }\r\n  timeAnalytics: {\r\n    reportsByHour: { hour: number; count: number }[]\r\n    peakHours: { hour: number; count: number }[]\r\n  }\r\n  revenueAnalytics: {\r\n    dailyRevenue: {\r\n      _id: { day: string }\r\n      totalFare: number\r\n      avgFare: number\r\n      reportCount: number\r\n    }[]\r\n    totalRevenue: number\r\n    avgDailyRevenue: string\r\n  }\r\n  competitiveAnalysis: {\r\n    saccoRanking: number\r\n    totalSaccos: number\r\n    marketPosition: {\r\n      _id: string\r\n      totalReports: number\r\n      avgSeverity: number\r\n    }[]\r\n    performanceVsMarket: {\r\n      saccoReports: number\r\n      marketAvg: string\r\n    }\r\n  }\r\n}\r\n\r\nconst SaccoDashboard: React.FC = () => {\r\n  const { state } = useApp()\r\n  const { t } = useTranslation()\r\n  const [analytics, setAnalytics] = useState<SaccoAnalytics | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [period, setPeriod] = useState('7d')\r\n  const [activeTab, setActiveTab] = useState('overview')\r\n\r\n  // Get SACCO name from user's organization or use a default\r\n  const saccoName = state.user?.organization || 'Default SACCO'\r\n\r\n  const loadSaccoAnalytics = async () => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      \r\n      console.log(`Loading SACCO analytics for: ${saccoName}, period: ${period}`)\r\n      const response = await apiService.getSaccoAnalytics(saccoName, period)\r\n      console.log('SACCO analytics response:', response)\r\n      \r\n      if (response.success) {\r\n        setAnalytics(response.data)\r\n        console.log('SACCO analytics data set:', response.data)\r\n      } else {\r\n        setError('Failed to load SACCO analytics')\r\n        console.error('SACCO analytics failed:', response)\r\n      }\r\n    } catch (err) {\r\n      console.error('SACCO analytics error:', err)\r\n      \r\n      // If the main endpoint fails, try to load with sample data\r\n      console.log('Attempting to load with sample data...')\r\n      try {\r\n        const sampleData = {\r\n          saccoName,\r\n          period,\r\n          routeMetrics: {\r\n            totalRoutes: 3,\r\n            activeRoutes: 2,\r\n            routePerformance: [\r\n              { _id: 'sample1', routeName: 'Route 1', routeNumber: '1', avgRating: 4.2, totalRatings: 15, avgReliability: 4.0, avgSafety: 4.5, avgPunctuality: 3.8, avgComfort: 4.1 },\r\n              { _id: 'sample2', routeName: 'Route 2', routeNumber: '2', avgRating: 3.8, totalRatings: 12, avgReliability: 3.5, avgSafety: 4.0, avgPunctuality: 3.9, avgComfort: 3.7 }\r\n            ]\r\n          },\r\n          reportMetrics: {\r\n            totalReports: 5,\r\n            reportsByType: [{ type: 'delay', count: 3 }, { type: 'safety', count: 2 }],\r\n            reportsBySeverity: [{ severity: 'medium', count: 3 }, { severity: 'high', count: 2 }],\r\n            avgReportsPerDay: '0.71'\r\n          },\r\n          performanceTrends: [],\r\n          geographicInsights: {\r\n            hotspots: [],\r\n            totalLocations: 0\r\n          },\r\n          timeAnalytics: {\r\n            reportsByHour: [],\r\n            peakHours: []\r\n          },\r\n          revenueAnalytics: {\r\n            dailyRevenue: [],\r\n            totalRevenue: 0,\r\n            avgDailyRevenue: '0'\r\n          },\r\n          competitiveAnalysis: {\r\n            saccoRanking: 1,\r\n            totalSaccos: 1,\r\n            marketPosition: [],\r\n            performanceVsMarket: {\r\n              saccoReports: 5,\r\n              marketAvg: '5.00'\r\n            }\r\n          }\r\n        }\r\n        \r\n        setAnalytics(sampleData)\r\n        setError('Using sample data - real data unavailable')\r\n        console.log('Loaded sample data successfully')\r\n      } catch (sampleError) {\r\n        setError('Failed to load SACCO analytics')\r\n        console.error('Sample data also failed:', sampleError)\r\n      }\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadSaccoAnalytics()\r\n  }, [period, saccoName])\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\r\n          <p className=\"text-gray-600\">{t('saccoDashboard.loading')}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <AlertTriangle className=\"w-8 h-8 mx-auto mb-4 text-red-600\" />\r\n          <p className=\"text-red-600 mb-4\">{error}</p>\r\n          <button\r\n            onClick={loadSaccoAnalytics}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">{saccoName} {t('saccoDashboard.dashboardTitle')}</h1>\r\n              <p className=\"text-gray-600 mt-1\">{t('saccoDashboard.subtitle')}</p>\r\n              <p className=\"text-sm text-blue-600 mt-1\">{t('saccoDashboard.dataSource')}</p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <select\r\n                value={period}\r\n                onChange={(e) => setPeriod(e.target.value)}\r\n                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"7d\">{t('saccoDashboard.last7Days')}</option>\r\n                <option value=\"30d\">{t('saccoDashboard.last30Days')}</option>\r\n                <option value=\"90d\">{t('saccoDashboard.last90Days')}</option>\r\n              </select>\r\n              <button\r\n                onClick={loadSaccoAnalytics}\r\n                className=\"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" />\r\n                <span>{t('saccoDashboard.refresh')}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex space-x-8\">\r\n            {[\r\n              { id: 'overview', name: t('saccoDashboard.overview.title'), icon: BarChart3 },\r\n              { id: 'routes', name: t('saccoDashboard.routePerformance.title'), icon: MapPin },\r\n              { id: 'reports', name: t('saccoDashboard.incidentReports.title'), icon: AlertTriangle },\r\n              { id: 'revenue', name: t('saccoDashboard.revenueAnalytics.title'), icon: DollarSign },\r\n              { id: 'competitive', name: t('saccoDashboard.marketPosition.title'), icon: Award },\r\n              { id: 'insights', name: t('saccoDashboard.geographicInsights.title'), icon: Eye }\r\n            ].map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <tab.icon className=\"w-4 h-4\" />\r\n                <span>{tab.name}</span>\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {analytics && (\r\n          <>\r\n            {/* Overview Tab */}\r\n            {activeTab === 'overview' && (\r\n              <div className=\"space-y-6\">\r\n                {/* Key Metrics */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                        <MapPin className=\"w-6 h-6 text-blue-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('saccoDashboard.totalRoutes')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{analytics.routeMetrics.totalRoutes}</p>\r\n                        <p className=\"text-xs text-gray-500\">{analytics.routeMetrics.activeRoutes} {t('saccoDashboard.active')}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                        <Star className=\"w-6 h-6 text-green-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('saccoDashboard.avgRating')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">\r\n                          {analytics.routeMetrics.routePerformance.length > 0 \r\n                            ? (analytics.routeMetrics.routePerformance.reduce((sum, route) => sum + route.avgRating, 0) / analytics.routeMetrics.routePerformance.length).toFixed(1)\r\n                            : 'N/A'\r\n                          }\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500\">{t('saccoDashboard.outOf')} 5.0</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n                        <AlertTriangle className=\"w-6 h-6 text-yellow-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('saccoDashboard.totalReports')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">{analytics.reportMetrics.totalReports}</p>\r\n                        <p className=\"text-xs text-gray-500\">{analytics.reportMetrics.avgReportsPerDay} {t('saccoDashboard.perDay')}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                        <Award className=\"w-6 h-6 text-purple-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('saccoDashboard.marketRank')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">#{analytics.competitiveAnalysis.saccoRanking}</p>\r\n                        <p className=\"text-xs text-gray-500\">{t('saccoDashboard.ofSaccos')} {analytics.competitiveAnalysis.totalSaccos} {t('saccoDashboard.ofSaccos')}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Performance Summary */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('saccoDashboard.reportsByType')}</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {analytics.reportMetrics.reportsByType.map((report) => (\r\n                        <div key={report.type} className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center\">\r\n                            <div className=\"w-3 h-3 bg-red-500 rounded-full mr-3\"></div>\r\n                            <span className=\"text-sm font-medium text-gray-900 capitalize\">\r\n                              {report.type.replace('_', ' ')}\r\n                            </span>\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-500\">{report.count}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('saccoDashboard.reportsBySeverity')}</h3>\r\n                    <div className=\"space-y-3\">\r\n                      {analytics.reportMetrics.reportsBySeverity.map((severity) => (\r\n                        <div key={severity.severity} className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center\">\r\n                            <div className={`w-3 h-3 rounded-full mr-3 ${\r\n                              severity.severity === 'critical' ? 'bg-red-600' :\r\n                              severity.severity === 'high' ? 'bg-orange-500' :\r\n                              severity.severity === 'medium' ? 'bg-yellow-500' : 'bg-green-500'\r\n                            }`}></div>\r\n                            <span className=\"text-sm font-medium text-gray-900 capitalize\">\r\n                              {severity.severity}\r\n                            </span>\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-500\">{severity.count}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Route Performance Tab */}\r\n            {activeTab === 'routes' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-white shadow rounded-lg\">\r\n                  <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                    <h3 className=\"text-lg leading-6 font-medium text-gray-900\">{t('saccoDashboard.routePerformanceAnalysis')}</h3>\r\n                  </div>\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                      <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('saccoDashboard.route')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('saccoDashboard.overallRating')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('saccoDashboard.safety')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('saccoDashboard.punctuality')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('saccoDashboard.comfort')}\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {t('saccoDashboard.totalRatings')}\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {analytics.routeMetrics.routePerformance.map((route) => (\r\n                          <tr key={route._id}>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                              {route.routeNumber} - {route.routeName}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              <div className=\"flex items-center\">\r\n                                <span className=\"text-yellow-400\">★</span>\r\n                                <span className=\"ml-1\">{route.avgRating.toFixed(1)}</span>\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              {route.avgSafety.toFixed(1)}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              {route.avgPunctuality.toFixed(1)}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              {route.avgComfort.toFixed(1)}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              {route.totalRatings}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Revenue Analytics Tab */}\r\n            {activeTab === 'revenue' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                        <DollarSign className=\"w-6 h-6 text-green-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('saccoDashboard.totalRevenue')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">\r\n                          KES {analytics.revenueAnalytics.totalRevenue.toLocaleString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                        <TrendingUp className=\"w-6 h-6 text-blue-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('saccoDashboard.avgDailyRevenue')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">\r\n                          KES {analytics.revenueAnalytics.avgDailyRevenue}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                        <Activity className=\"w-6 h-6 text-purple-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-600\">{t('saccoDashboard.revenueDays')}</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900\">\r\n                          {analytics.revenueAnalytics.dailyRevenue.length}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('saccoDashboard.dailyRevenueTrends')}</h3>\r\n                  <div className=\"space-y-3\">\r\n                    {analytics.revenueAnalytics.dailyRevenue.slice(0, 10).map((day) => (\r\n                      <div key={day._id.day} className=\"flex items-center justify-between\">\r\n                        <span className=\"text-sm text-gray-600\">{day._id.day}</span>\r\n                        <div className=\"flex items-center space-x-4\">\r\n                          <span className=\"text-sm text-gray-500\">{day.reportCount} reports</span>\r\n                          <span className=\"text-sm font-medium text-gray-900\">\r\n                            KES {day.totalFare.toLocaleString()}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Competitive Analysis Tab */}\r\n            {activeTab === 'competitive' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('saccoDashboard.marketPosition.title')}</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                      <h4 className=\"text-md font-medium text-gray-700 mb-3\">{t('saccoDashboard.yourPerformance')}</h4>\r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"flex justify-between\">\r\n                          <span className=\"text-sm text-gray-600\">{t('saccoDashboard.marketRanking')}</span>\r\n                          <span className=\"text-sm font-medium\">#{analytics.competitiveAnalysis.saccoRanking}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                          <span className=\"text-sm text-gray-600\">{t('saccoDashboard.totalReports')}:</span>\r\n                          <span className=\"text-sm font-medium\">{analytics.competitiveAnalysis.performanceVsMarket.saccoReports}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between\">\r\n                          <span className=\"text-sm text-gray-600\">{t('saccoDashboard.marketAverage')}</span>\r\n                          <span className=\"text-sm font-medium\">{analytics.competitiveAnalysis.performanceVsMarket.marketAvg}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"text-md font-medium text-gray-700 mb-3\">{t('saccoDashboard.top5Saccos')}</h4>\r\n                      <div className=\"space-y-2\">\r\n                        {analytics.competitiveAnalysis.marketPosition.map((sacco, index) => (\r\n                          <div key={sacco._id} className=\"flex justify-between items-center\">\r\n                            <span className=\"text-sm text-gray-600\">\r\n                              #{index + 1} {sacco._id}\r\n                            </span>\r\n                            <span className=\"text-sm font-medium\">{sacco.totalReports} reports</span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Geographic Insights Tab */}\r\n            {activeTab === 'insights' && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('saccoDashboard.incidentHotspots')}</h3>\r\n                  <div className=\"space-y-3\">\r\n                    {analytics.geographicInsights.hotspots.map((hotspot, index) => (\r\n                      <div key={index} className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                          <MapPin className=\"w-4 h-4 text-red-500 mr-2\" />\r\n                          <span className=\"text-sm text-gray-600\">\r\n                            {hotspot._id.lat.toFixed(2)}, {hotspot._id.lng.toFixed(2)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            {hotspot.types.join(', ')}\r\n                          </span>\r\n                          <span className=\"text-sm font-medium text-gray-900\">{hotspot.count}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{t('saccoDashboard.peakHoursAnalysis')}</h3>\r\n                  <div className=\"space-y-3\">\r\n                    {analytics.timeAnalytics.peakHours.map((hour) => (\r\n                      <div key={hour.hour} className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                          <Clock className=\"w-4 h-4 text-blue-500 mr-2\" />\r\n                          <span className=\"text-sm text-gray-600\">\r\n                            {hour.hour}:00 - {hour.hour + 1}:00\r\n                          </span>\r\n                        </div>\r\n                        <span className=\"text-sm font-medium text-gray-900\">{hour.count} reports</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SaccoDashboard"],"names":["SaccoDashboard","state","useApp","t","useTranslation","analytics","setAnalytics","useState","loading","setLoading","error","setError","period","setPeriod","activeTab","setActiveTab","saccoName","_a","loadSaccoAnalytics","response","apiService","err","sampleError","useEffect","jsxs","jsx","RefreshCw","AlertTriangle","e","BarChart3","MapPin","DollarSign","Award","Eye","tab","Fragment","Star","sum","route","report","severity","TrendingUp","Activity","day","sacco","index","hotspot","hour","Clock"],"mappings":"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"}