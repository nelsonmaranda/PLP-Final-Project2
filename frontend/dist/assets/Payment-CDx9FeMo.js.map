{"version":3,"file":"Payment-CDx9FeMo.js","sources":["../../src/screens/Payment.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useNavigate, useSearchParams } from 'react-router-dom'\r\nimport { useApp } from '../contexts/AppContext'\r\nimport { useTranslation } from '../hooks/useTranslation'\r\nimport apiService from '../services/api'\r\n\r\ninterface PaymentData {\r\n  amount: number\r\n  currency: string\r\n  description: string\r\n  planType: string\r\n  planName: string\r\n  features: string[]\r\n}\r\n\r\nconst Payment: React.FC = () => {\r\n  const { t } = useTranslation()\r\n  const { state } = useApp()\r\n  const navigate = useNavigate()\r\n  const [searchParams] = useSearchParams()\r\n  \r\n  const [paymentData, setPaymentData] = useState<PaymentData | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [processing, setProcessing] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [paymentMethod, setPaymentMethod] = useState('stripe')\r\n\r\n  useEffect(() => {\r\n    const planType = searchParams.get('plan')\r\n    const amount = searchParams.get('amount')\r\n    const planName = searchParams.get('planName')\r\n    \r\n    if (!planType || !amount) {\r\n      setError(t('payment.errors.invalidData'))\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    const planFeatures = {\r\n      free: [t('subscription.plans.free.features.basicInfo'), t('subscription.plans.free.features.reports'), t('subscription.plans.free.features.support')],\r\n      premium: [t('subscription.plans.premium.features.unlimitedReports'), t('subscription.plans.premium.features.advancedAnalytics'), t('subscription.plans.premium.features.prioritySupport'), t('subscription.plans.premium.features.realTimeNotifications')],\r\n      sacco: [t('subscription.plans.sacco.features.allPremium'), t('subscription.plans.sacco.features.revenueAnalytics'), t('subscription.plans.sacco.features.customBranding'), t('subscription.plans.sacco.features.apiAccess'), t('subscription.plans.sacco.features.dedicatedSupport')],\r\n      enterprise: [t('subscription.plans.enterprise.features.allSacco'), t('subscription.plans.enterprise.features.whiteLabel'), t('subscription.plans.enterprise.features.customIntegrations'), t('subscription.plans.enterprise.features.support247'), t('subscription.plans.enterprise.features.slaGuarantee')]\r\n    }\r\n\r\n    setPaymentData({\r\n      amount: parseInt(amount),\r\n      currency: 'KES',\r\n      description: `${planName || planType} ${t('payment.subscriptionWord')}`,\r\n      planType,\r\n      planName: planName || planType,\r\n      features: (planFeatures as any)[planType] || []\r\n    })\r\n    \r\n    setLoading(false)\r\n  }, [searchParams, t])\r\n\r\n  const handlePayment = async () => {\r\n    if (!paymentData || !state.user) return\r\n\r\n    setProcessing(true)\r\n    setError(null)\r\n\r\n    try {\r\n      if (state.user.email === 'nelsonmaranda2@gmail.com') {\r\n        const response = await apiService.confirmPayment('admin_payment', paymentData.planType)\r\n        if (response.success) {\r\n          navigate('/subscription?success=true&plan=' + paymentData.planType)\r\n        }\r\n        return\r\n      }\r\n\r\n      const paymentIntent = await apiService.createPaymentIntent(\r\n        paymentData.amount,\r\n        paymentData.currency,\r\n        paymentData.description\r\n      )\r\n\r\n      if (paymentIntent.success && paymentIntent.data) {\r\n        setTimeout(async () => {\r\n          try {\r\n            const confirmResponse = await apiService.confirmPayment(\r\n              paymentIntent.data?.paymentId || '',\r\n              paymentData.planType\r\n            )\r\n            \r\n            if (confirmResponse.success) {\r\n              navigate('/subscription?success=true&plan=' + paymentData.planType)\r\n            } else {\r\n              setError(t('payment.errors.confirmFailed'))\r\n            }\r\n          } catch (err) {\r\n            setError(t('payment.errors.confirmFailed'))\r\n          } finally {\r\n            setProcessing(false)\r\n          }\r\n        }, 2000)\r\n      } else {\r\n        setError(t('payment.errors.createFailed'))\r\n        setProcessing(false)\r\n      }\r\n    } catch (err) {\r\n      setError(t('payment.errors.paymentFailed'))\r\n      setProcessing(false)\r\n    }\r\n  }\r\n\r\n  const handleBackToPlans = () => {\r\n    navigate('/subscription')\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">{t('common.loading')}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error && !paymentData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"bg-red-50 border border-red-200 rounded-md p-6 max-w-md\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex-shrink-0\">\r\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <h3 className=\"text-sm font-medium text-red-800\">{t('payment.errors.header')}</h3>\r\n                <p className=\"mt-1 text-sm text-red-700\">{error}</p>\r\n                <button\r\n                  onClick={handleBackToPlans}\r\n                  className=\"mt-3 bg-red-100 text-red-800 px-3 py-1 rounded-md text-sm hover:bg-red-200\"\r\n                >\r\n                  {t('payment.backToPlans')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            {t('payment.title')}\r\n          </h1>\r\n          <p className=\"text-gray-600\">\r\n            {t('payment.subtitle').replace('{plan}', paymentData?.planName || '')}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Payment Summary */}\r\n        <div className=\"bg-white shadow rounded-lg mb-8\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-medium text-gray-900\">{t('payment.orderSummary')}</h2>\r\n          </div>\r\n          <div className=\"px-6 py-4\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-gray-900\">{t('payment.planLabel').replace('{plan}', paymentData?.planName || '')}</h3>\r\n                <p className=\"text-sm text-gray-500\">{t('payment.monthly')}</p>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {paymentData?.amount === 0 ? t('payment.free') : `KES ${paymentData?.amount.toLocaleString()}`}\r\n                </p>\r\n                {paymentData && paymentData.amount > 0 && (\r\n                  <p className=\"text-sm text-gray-500\">{t('payment.perMonth')}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"border-t border-gray-200 pt-4\">\r\n              <h4 className=\"text-sm font-medium text-gray-900 mb-2\">{t('payment.planFeatures')}</h4>\r\n              <ul className=\"space-y-1\">\r\n                {paymentData?.features.map((feature, index) => (\r\n                  <li key={index} className=\"flex items-center text-sm text-gray-600\">\r\n                    <svg className=\"h-4 w-4 text-green-500 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                    {feature}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Payment Method Selection */}\r\n        <div className=\"bg-white shadow rounded-lg mb-8\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-medium text-gray-900\">{t('payment.paymentMethod')}</h2>\r\n          </div>\r\n          <div className=\"px-6 py-4\">\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  id=\"stripe\"\r\n                  name=\"payment-method\"\r\n                  type=\"radio\"\r\n                  value=\"stripe\"\r\n                  checked={paymentMethod === 'stripe'}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\r\n                />\r\n                <label htmlFor=\"stripe\" className=\"ml-3 flex items-center\">\r\n                  <svg className=\"h-6 w-6 mr-2\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                    <path d=\"M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.274 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.573-2.354 1.573-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z\"/>\r\n                  </svg>\r\n                  <span className=\"text-sm font-medium text-gray-700\">{t('payment.card')}</span>\r\n                </label>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  id=\"mpesa\"\r\n                  name=\"payment-method\"\r\n                  type=\"radio\"\r\n                  value=\"mpesa\"\r\n                  checked={paymentMethod === 'mpesa'}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\r\n                />\r\n                <label htmlFor=\"mpesa\" className=\"ml-3 flex items-center\">\r\n                  <div className=\"h-6 w-6 mr-2 bg-green-600 rounded flex items-center justify-center\">\r\n                    <span className=\"text-white text-xs font-bold\">M</span>\r\n                  </div>\r\n                  <span className=\"text-sm font-medium text-gray-700\">{t('payment.mpesa')}</span>\r\n                </label>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  id=\"airtel\"\r\n                  name=\"payment-method\"\r\n                  type=\"radio\"\r\n                  value=\"airtel\"\r\n                  checked={paymentMethod === 'airtel'}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\r\n                />\r\n                <label htmlFor=\"airtel\" className=\"ml-3 flex items-center\">\r\n                  <div className=\"h-6 w-6 mr-2 bg-red-600 rounded flex items-center justify-center\">\r\n                    <span className=\"text-white text-xs font-bold\">A</span>\r\n                  </div>\r\n                  <span className=\"text-sm font-medium text-gray-700\">{t('payment.airtel')}</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"mb-6 bg-red-50 border border-red-200 rounded-md p-4\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex-shrink-0\">\r\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <p className=\"text-sm text-red-800\">{error}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Payment Actions */}\r\n        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n          <button\r\n            onClick={handleBackToPlans}\r\n            className=\"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-md font-medium hover:bg-gray-400 transition-colors\"\r\n          >\r\n            {t('payment.backToPlans')}\r\n          </button>\r\n          \r\n          <button\r\n            onClick={handlePayment}\r\n            disabled={processing || paymentData?.amount === 0}\r\n            className={`flex-1 py-3 px-4 rounded-md font-medium transition-colors ${\r\n              processing || paymentData?.amount === 0\r\n                ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                : 'bg-blue-600 text-white hover:bg-blue-700'\r\n            }`}\r\n          >\r\n            {processing ? (\r\n              <div className=\"flex items-center justify-center\">\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                {t('payment.processingPayment')}\r\n              </div>\r\n            ) : paymentData?.amount === 0 ? (\r\n              t('payment.activateFreePlan')\r\n            ) : (\r\n              t('payment.payAmount').replace('{amount}', (paymentData?.amount || 0).toLocaleString())\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Security Notice */}\r\n        <div className=\"mt-8 text-center\">\r\n          <div className=\"flex items-center justify-center text-sm text-gray-500\">\r\n            <svg className=\"h-4 w-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fillRule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n            {t('payment.secureNote')}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Payment\r\n"],"names":["Payment","t","useTranslation","state","useApp","navigate","useNavigate","searchParams","useSearchParams","paymentData","setPaymentData","useState","loading","setLoading","processing","setProcessing","error","setError","paymentMethod","setPaymentMethod","useEffect","planType","amount","planName","planFeatures","handlePayment","apiService","paymentIntent","_a","handleBackToPlans","jsxs","jsx","feature","index","e"],"mappings":"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"}