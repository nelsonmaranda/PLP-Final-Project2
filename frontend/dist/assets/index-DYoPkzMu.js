const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-mxsMXR5G.js","assets/vendor-BKU87Gzz.js","assets/router-Z6rqMkFf.js","assets/icons-laTIaZ17.js","assets/MapView-BnbcWrBp.js","assets/leaflet-C--L-ZsF.js","assets/MapView-Dgihpmma.css","assets/ReportForm-BssJyctY.js","assets/Login-BsHBQf00.js","assets/Signup-CxcUcevz.js","assets/Profile-7x7nMTIZ.js","assets/Admin-BX9rkjMG.js","assets/AnalyticsDashboard-DbDDXM3w.js","assets/SaccoDashboard-DaJNgprR.js","assets/AuthorityDashboard-MA41cdQS.js","assets/UserManagement-DOlMPiiZ.js","assets/RouteEditor-dfiZ52EL.js"])))=>i.map(i=>d[i]);
var Ir=Object.defineProperty;var sa=t=>{throw TypeError(t)};var Fr=(t,e,a)=>e in t?Ir(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var q=(t,e,a)=>Fr(t,typeof e!="symbol"?e+"":e,a),Ct=(t,e,a)=>e.has(t)||sa("Cannot "+a);var h=(t,e,a)=>(Ct(t,e,"read from private field"),a?a.call(t):e.get(t)),k=(t,e,a)=>e.has(t)?sa("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),x=(t,e,a,r)=>(Ct(t,e,"write to private field"),r?r.call(t,a):e.set(t,a),a),F=(t,e,a)=>(Ct(t,e,"access private method"),a);var it=(t,e,a,r)=>({set _(s){x(t,e,s,a)},get _(){return h(t,e,r)}});import{r as A,b as Dr,a as Ja}from"./vendor-BKU87Gzz.js";import{u as $t,L as we,N as ia,R as Lr,a as B,B as zr}from"./router-Z6rqMkFf.js";import{M as Pe,B as Qa,U as le,L as Ga,X as Za,a as Ya,C as _r,H as Xa,T as We,S as na,G as nt,b as ot,c as Hr,d as ct,e as lt,f as ut,g as oa,h as qr,i as ca,P as Br,A as Kr,R as Wr,j as Vr}from"./icons-laTIaZ17.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}})();var er={exports:{}},Rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=A,Jr=Symbol.for("react.element"),Qr=Symbol.for("react.fragment"),Gr=Object.prototype.hasOwnProperty,Zr=$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yr={key:!0,ref:!0,__self:!0,__source:!0};function tr(t,e,a){var r,s={},n=null,i=null;a!==void 0&&(n=""+a),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)Gr.call(e,r)&&!Yr.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Jr,type:t,key:n,ref:i,props:s,_owner:Zr.current}}Rt.Fragment=Qr;Rt.jsx=tr;Rt.jsxs=tr;er.exports=Rt;var o=er.exports,It={},la=Dr;It.createRoot=la.createRoot,It.hydrateRoot=la.hydrateRoot;var St=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xr={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ue,Vt,za,es=(za=class{constructor(){k(this,ue,Xr);k(this,Vt,!1)}setTimeoutProvider(t){x(this,ue,t)}setTimeout(t,e){return h(this,ue).setTimeout(t,e)}clearTimeout(t){h(this,ue).clearTimeout(t)}setInterval(t,e){return h(this,ue).setInterval(t,e)}clearInterval(t){h(this,ue).clearInterval(t)}},ue=new WeakMap,Vt=new WeakMap,za),Ft=new es;function ts(t){setTimeout(t,0)}var xt=typeof window>"u"||"Deno"in globalThis;function V(){}function as(t,e){return typeof t=="function"?t(e):t}function rs(t){return typeof t=="number"&&t>=0&&t!==1/0}function ss(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dt(t,e){return typeof t=="function"?t(e):t}function is(t,e){return typeof t=="function"?t(e):t}function ua(t,e){const{type:a="all",exact:r,fetchStatus:s,predicate:n,queryKey:i,stale:c}=t;if(i){if(r){if(e.queryHash!==Jt(i,e.options))return!1}else if(!Je(e.queryKey,i))return!1}if(a!=="all"){const m=e.isActive();if(a==="active"&&!m||a==="inactive"&&m)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||n&&!n(e))}function da(t,e){const{exact:a,status:r,predicate:s,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(a){if($e(e.options.mutationKey)!==$e(n))return!1}else if(!Je(e.options.mutationKey,n))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Jt(t,e){return((e==null?void 0:e.queryKeyHashFn)||$e)(t)}function $e(t){return JSON.stringify(t,(e,a)=>Lt(a)?Object.keys(a).sort().reduce((r,s)=>(r[s]=a[s],r),{}):a)}function Je(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(a=>Je(t[a],e[a])):!1}var ns=Object.prototype.hasOwnProperty;function ar(t,e){if(t===e)return t;const a=ha(t)&&ha(e);if(!a&&!(Lt(t)&&Lt(e)))return e;const s=(a?t:Object.keys(t)).length,n=a?e:Object.keys(e),i=n.length,c=a?new Array(i):{};let m=0;for(let f=0;f<i;f++){const d=a?f:n[f],u=t[d],b=e[d];if(u===b){c[d]=u,(a?f<s:ns.call(t,d))&&m++;continue}if(u===null||b===null||typeof u!="object"||typeof b!="object"){c[d]=b;continue}const v=ar(u,b);c[d]=v,v===u&&m++}return s===i&&m===s?t:c}function ha(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lt(t){if(!fa(t))return!1;const e=t.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!fa(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fa(t){return Object.prototype.toString.call(t)==="[object Object]"}function os(t){return new Promise(e=>{Ft.setTimeout(e,t)})}function cs(t,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,e):a.structuralSharing!==!1?ar(t,e):e}function ls(t,e,a=0){const r=[...t,e];return a&&r.length>a?r.slice(1):r}function us(t,e,a=0){const r=[e,...t];return a&&r.length>a?r.slice(0,-1):r}var Qt=Symbol();function rr(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Qt?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var xe,de,Ue,_a,ds=(_a=class extends St{constructor(){super();k(this,xe);k(this,de);k(this,Ue);x(this,Ue,a=>{if(!xt&&window.addEventListener){const r=()=>a();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){h(this,de)||this.setEventListener(h(this,Ue))}onUnsubscribe(){var a;this.hasListeners()||((a=h(this,de))==null||a.call(this),x(this,de,void 0))}setEventListener(a){var r;x(this,Ue,a),(r=h(this,de))==null||r.call(this),x(this,de,a(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(a){h(this,xe)!==a&&(x(this,xe,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(r=>{r(a)})}isFocused(){var a;return typeof h(this,xe)=="boolean"?h(this,xe):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},xe=new WeakMap,de=new WeakMap,Ue=new WeakMap,_a),sr=new ds;function hs(){let t,e;const a=new Promise((s,n)=>{t=s,e=n});a.status="pending",a.catch(()=>{});function r(s){Object.assign(a,s),delete a.resolve,delete a.reject}return a.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},a.reject=s=>{r({status:"rejected",reason:s}),e(s)},a}var fs=ts;function ms(){let t=[],e=0,a=c=>{c()},r=c=>{c()},s=fs;const n=c=>{e?t.push(c):s(()=>{a(c)})},i=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(m=>{a(m)})})})};return{batch:c=>{let m;e++;try{m=c()}finally{e--,e||i()}return m},batchCalls:c=>(...m)=>{n(()=>{c(...m)})},schedule:n,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var z=ms(),Me,he,Ie,Ha,ps=(Ha=class extends St{constructor(){super();k(this,Me,!0);k(this,he);k(this,Ie);x(this,Ie,e=>{if(!xt&&window.addEventListener){const a=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}})}onSubscribe(){h(this,he)||this.setEventListener(h(this,Ie))}onUnsubscribe(){var e;this.hasListeners()||((e=h(this,he))==null||e.call(this),x(this,he,void 0))}setEventListener(e){var a;x(this,Ie,e),(a=h(this,he))==null||a.call(this),x(this,he,e(this.setOnline.bind(this)))}setOnline(e){h(this,Me)!==e&&(x(this,Me,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return h(this,Me)}},Me=new WeakMap,he=new WeakMap,Ie=new WeakMap,Ha),yt=new ps;function ys(t){return Math.min(1e3*2**t,3e4)}function ir(t){return(t??"online")==="online"?yt.isOnline():!0}var zt=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function nr(t){let e=!1,a=0,r;const s=hs(),n=()=>s.status!=="pending",i=y=>{var g;if(!n()){const S=new zt(y);b(S),(g=t.onCancel)==null||g.call(t,S)}},c=()=>{e=!0},m=()=>{e=!1},f=()=>sr.isFocused()&&(t.networkMode==="always"||yt.isOnline())&&t.canRun(),d=()=>ir(t.networkMode)&&t.canRun(),u=y=>{n()||(r==null||r(),s.resolve(y))},b=y=>{n()||(r==null||r(),s.reject(y))},v=()=>new Promise(y=>{var g;r=S=>{(n()||f())&&y(S)},(g=t.onPause)==null||g.call(t)}).then(()=>{var y;r=void 0,n()||(y=t.onContinue)==null||y.call(t)}),p=()=>{if(n())return;let y;const g=a===0?t.initialPromise:void 0;try{y=g??t.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(u).catch(S=>{var U;if(n())return;const j=t.retry??(xt?0:3),R=t.retryDelay??ys,w=typeof R=="function"?R(a,S):R,T=j===!0||typeof j=="number"&&a<j||typeof j=="function"&&j(a,S);if(e||!T){b(S);return}a++,(U=t.onFail)==null||U.call(t,a,S),os(w).then(()=>f()?void 0:v()).then(()=>{e?b(S):p()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:c,continueRetry:m,canStart:d,start:()=>(d()?p():v().then(p),s)}}var Ee,qa,or=(qa=class{constructor(){k(this,Ee)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rs(this.gcTime)&&x(this,Ee,Ft.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xt?1/0:5*60*1e3))}clearGcTimeout(){h(this,Ee)&&(Ft.clearTimeout(h(this,Ee)),x(this,Ee,void 0))}},Ee=new WeakMap,qa),je,Fe,K,ke,M,Qe,Ae,$,re,Ba,gs=(Ba=class extends or{constructor(e){super();k(this,$);k(this,je);k(this,Fe);k(this,K);k(this,ke);k(this,M);k(this,Qe);k(this,Ae);x(this,Ae,!1),x(this,Qe,e.defaultOptions),this.setOptions(e.options),this.observers=[],x(this,ke,e.client),x(this,K,h(this,ke).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,x(this,je,ma(this.options)),this.state=e.state??h(this,je),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=h(this,M))==null?void 0:e.promise}setOptions(e){if(this.options={...h(this,Qe),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=ma(this.options);a.data!==void 0&&(this.setData(a.data,{updatedAt:a.dataUpdatedAt,manual:!0}),x(this,je,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&h(this,K).remove(this)}setData(e,a){const r=cs(this.state.data,e,this.options);return F(this,$,re).call(this,{data:r,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),r}setState(e,a){F(this,$,re).call(this,{type:"setState",state:e,setStateOptions:a})}cancel(e){var r,s;const a=(r=h(this,M))==null?void 0:r.promise;return(s=h(this,M))==null||s.cancel(e),a?a.then(V).catch(V):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(h(this,je))}isActive(){return this.observers.some(e=>is(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Dt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ss(this.state.dataUpdatedAt,e)}onFocus(){var a;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(a=h(this,M))==null||a.continue()}onOnline(){var a;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(a=h(this,M))==null||a.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),h(this,K).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(h(this,M)&&(h(this,Ae)?h(this,M).cancel({revert:!0}):h(this,M).cancelRetry()),this.scheduleGc()),h(this,K).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||F(this,$,re).call(this,{type:"invalidate"})}async fetch(e,a){var m,f,d,u,b,v,p,y,g,S,j,R;if(this.state.fetchStatus!=="idle"&&((m=h(this,M))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(h(this,M))return h(this,M).continueRetry(),h(this,M).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(T=>T.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,s=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(x(this,Ae,!0),r.signal)})},n=()=>{const w=rr(this.options,a),U=(()=>{const P={client:h(this,ke),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return x(this,Ae,!1),this.options.persister?this.options.persister(w,U,this):w(U)},c=(()=>{const w={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:h(this,ke),state:this.state,fetchFn:n};return s(w),w})();(f=this.options.behavior)==null||f.onFetch(c,this),x(this,Fe,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&F(this,$,re).call(this,{type:"fetch",meta:(u=c.fetchOptions)==null?void 0:u.meta}),x(this,M,nr({initialPromise:a==null?void 0:a.initialPromise,fn:c.fetchFn,onCancel:w=>{w instanceof zt&&w.revert&&this.setState({...h(this,Fe),fetchStatus:"idle"}),r.abort()},onFail:(w,T)=>{F(this,$,re).call(this,{type:"failed",failureCount:w,error:T})},onPause:()=>{F(this,$,re).call(this,{type:"pause"})},onContinue:()=>{F(this,$,re).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const w=await h(this,M).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(v=(b=h(this,K).config).onSuccess)==null||v.call(b,w,this),(y=(p=h(this,K).config).onSettled)==null||y.call(p,w,this.state.error,this),w}catch(w){if(w instanceof zt){if(w.silent)return h(this,M).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw F(this,$,re).call(this,{type:"error",error:w}),(S=(g=h(this,K).config).onError)==null||S.call(g,w,this),(R=(j=h(this,K).config).onSettled)==null||R.call(j,this.state.data,w,this),w}finally{this.scheduleGc()}}},je=new WeakMap,Fe=new WeakMap,K=new WeakMap,ke=new WeakMap,M=new WeakMap,Qe=new WeakMap,Ae=new WeakMap,$=new WeakSet,re=function(e){const a=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ws(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return x(this,Fe,e.manual?s:void 0),s;case"error":const n=e.error;return{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=a(this.state),z.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),h(this,K).notify({query:this,type:"updated",action:e})})},Ba);function ws(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ir(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ma(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,a=e!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function pa(t){return{onFetch:(e,a)=>{var d,u,b,v,p;const r=e.options,s=(b=(u=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:b.direction,n=((v=e.state.data)==null?void 0:v.pages)||[],i=((p=e.state.data)==null?void 0:p.pageParams)||[];let c={pages:[],pageParams:[]},m=0;const f=async()=>{let y=!1;const g=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},S=rr(e.options,e.fetchOptions),j=async(R,w,T)=>{if(y)return Promise.reject();if(w==null&&R.pages.length)return Promise.resolve(R);const P=(()=>{const Z={client:e.client,queryKey:e.queryKey,pageParam:w,direction:T?"backward":"forward",meta:e.options.meta};return g(Z),Z})(),ie=await S(P),{maxPages:G}=e.options,C=T?us:ls;return{pages:C(R.pages,ie,G),pageParams:C(R.pageParams,w,G)}};if(s&&n.length){const R=s==="backward",w=R?bs:ya,T={pages:n,pageParams:i},U=w(r,T);c=await j(T,U,R)}else{const R=t??n.length;do{const w=m===0?i[0]??r.initialPageParam:ya(r,c);if(m>0&&w==null)break;c=await j(c,w),m++}while(m<R)}return c};e.options.persister?e.fetchFn=()=>{var y,g;return(g=(y=e.options).persister)==null?void 0:g.call(y,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a)}:e.fetchFn=f}}}function ya(t,{pages:e,pageParams:a}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,a[r],a):void 0}function bs(t,{pages:e,pageParams:a}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,a[0],a):void 0}var Ge,ee,L,Te,te,ce,Ka,vs=(Ka=class extends or{constructor(e){super();k(this,te);k(this,Ge);k(this,ee);k(this,L);k(this,Te);x(this,Ge,e.client),this.mutationId=e.mutationId,x(this,L,e.mutationCache),x(this,ee,[]),this.state=e.state||Rs(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){h(this,ee).includes(e)||(h(this,ee).push(e),this.clearGcTimeout(),h(this,L).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){x(this,ee,h(this,ee).filter(a=>a!==e)),this.scheduleGc(),h(this,L).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){h(this,ee).length||(this.state.status==="pending"?this.scheduleGc():h(this,L).remove(this))}continue(){var e;return((e=h(this,Te))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,c,m,f,d,u,b,v,p,y,g,S,j,R,w,T,U,P,ie,G;const a=()=>{F(this,te,ce).call(this,{type:"continue"})},r={client:h(this,Ge),meta:this.options.meta,mutationKey:this.options.mutationKey};x(this,Te,nr({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(C,Z)=>{F(this,te,ce).call(this,{type:"failed",failureCount:C,error:Z})},onPause:()=>{F(this,te,ce).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>h(this,L).canRun(this)}));const s=this.state.status==="pending",n=!h(this,Te).canStart();try{if(s)a();else{F(this,te,ce).call(this,{type:"pending",variables:e,isPaused:n}),await((c=(i=h(this,L).config).onMutate)==null?void 0:c.call(i,e,this,r));const Z=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,e,r));Z!==this.state.context&&F(this,te,ce).call(this,{type:"pending",context:Z,variables:e,isPaused:n})}const C=await h(this,Te).start();return await((u=(d=h(this,L).config).onSuccess)==null?void 0:u.call(d,C,e,this.state.context,this,r)),await((v=(b=this.options).onSuccess)==null?void 0:v.call(b,C,e,this.state.context,r)),await((y=(p=h(this,L).config).onSettled)==null?void 0:y.call(p,C,null,this.state.variables,this.state.context,this,r)),await((S=(g=this.options).onSettled)==null?void 0:S.call(g,C,null,e,this.state.context,r)),F(this,te,ce).call(this,{type:"success",data:C}),C}catch(C){try{throw await((R=(j=h(this,L).config).onError)==null?void 0:R.call(j,C,e,this.state.context,this,r)),await((T=(w=this.options).onError)==null?void 0:T.call(w,C,e,this.state.context,r)),await((P=(U=h(this,L).config).onSettled)==null?void 0:P.call(U,void 0,C,this.state.variables,this.state.context,this,r)),await((G=(ie=this.options).onSettled)==null?void 0:G.call(ie,void 0,C,e,this.state.context,r)),C}finally{F(this,te,ce).call(this,{type:"error",error:C})}}finally{h(this,L).runNext(this)}}},Ge=new WeakMap,ee=new WeakMap,L=new WeakMap,Te=new WeakMap,te=new WeakSet,ce=function(e){const a=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),z.batch(()=>{h(this,ee).forEach(r=>{r.onMutationUpdate(e)}),h(this,L).notify({mutation:this,type:"updated",action:e})})},Ka);function Rs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var se,J,Ze,Wa,Ss=(Wa=class extends St{constructor(e={}){super();k(this,se);k(this,J);k(this,Ze);this.config=e,x(this,se,new Set),x(this,J,new Map),x(this,Ze,0)}build(e,a,r){const s=new vs({client:e,mutationCache:this,mutationId:++it(this,Ze)._,options:e.defaultMutationOptions(a),state:r});return this.add(s),s}add(e){h(this,se).add(e);const a=dt(e);if(typeof a=="string"){const r=h(this,J).get(a);r?r.push(e):h(this,J).set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(h(this,se).delete(e)){const a=dt(e);if(typeof a=="string"){const r=h(this,J).get(a);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&h(this,J).delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=dt(e);if(typeof a=="string"){const r=h(this,J).get(a),s=r==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const a=dt(e);if(typeof a=="string"){const s=(r=h(this,J).get(a))==null?void 0:r.find(n=>n!==e&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){z.batch(()=>{h(this,se).forEach(e=>{this.notify({type:"removed",mutation:e})}),h(this,se).clear(),h(this,J).clear()})}getAll(){return Array.from(h(this,se))}find(e){const a={exact:!0,...e};return this.getAll().find(r=>da(a,r))}findAll(e={}){return this.getAll().filter(a=>da(e,a))}notify(e){z.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return z.batch(()=>Promise.all(e.map(a=>a.continue().catch(V))))}},se=new WeakMap,J=new WeakMap,Ze=new WeakMap,Wa);function dt(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ae,Va,xs=(Va=class extends St{constructor(e={}){super();k(this,ae);this.config=e,x(this,ae,new Map)}build(e,a,r){const s=a.queryKey,n=a.queryHash??Jt(s,a);let i=this.get(n);return i||(i=new gs({client:e,queryKey:s,queryHash:n,options:e.defaultQueryOptions(a),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){h(this,ae).has(e.queryHash)||(h(this,ae).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=h(this,ae).get(e.queryHash);a&&(e.destroy(),a===e&&h(this,ae).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return h(this,ae).get(e)}getAll(){return[...h(this,ae).values()]}find(e){const a={exact:!0,...e};return this.getAll().find(r=>ua(a,r))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(r=>ua(e,r)):a}notify(e){z.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ae=new WeakMap,Va),N,fe,me,De,Le,pe,ze,_e,$a,Es=($a=class{constructor(t={}){k(this,N);k(this,fe);k(this,me);k(this,De);k(this,Le);k(this,pe);k(this,ze);k(this,_e);x(this,N,t.queryCache||new xs),x(this,fe,t.mutationCache||new Ss),x(this,me,t.defaultOptions||{}),x(this,De,new Map),x(this,Le,new Map),x(this,pe,0)}mount(){it(this,pe)._++,h(this,pe)===1&&(x(this,ze,sr.subscribe(async t=>{t&&(await this.resumePausedMutations(),h(this,N).onFocus())})),x(this,_e,yt.subscribe(async t=>{t&&(await this.resumePausedMutations(),h(this,N).onOnline())})))}unmount(){var t,e;it(this,pe)._--,h(this,pe)===0&&((t=h(this,ze))==null||t.call(this),x(this,ze,void 0),(e=h(this,_e))==null||e.call(this),x(this,_e,void 0))}isFetching(t){return h(this,N).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return h(this,fe).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const e=this.defaultQueryOptions({queryKey:t});return(a=h(this,N).get(e.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),a=h(this,N).build(this,e),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(Dt(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return h(this,N).findAll(t).map(({queryKey:e,state:a})=>{const r=a.data;return[e,r]})}setQueryData(t,e,a){const r=this.defaultQueryOptions({queryKey:t}),s=h(this,N).get(r.queryHash),n=s==null?void 0:s.state.data,i=as(e,n);if(i!==void 0)return h(this,N).build(this,r).setData(i,{...a,manual:!0})}setQueriesData(t,e,a){return z.batch(()=>h(this,N).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,a)]))}getQueryState(t){var a;const e=this.defaultQueryOptions({queryKey:t});return(a=h(this,N).get(e.queryHash))==null?void 0:a.state}removeQueries(t){const e=h(this,N);z.batch(()=>{e.findAll(t).forEach(a=>{e.remove(a)})})}resetQueries(t,e){const a=h(this,N);return z.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const a={revert:!0,...e},r=z.batch(()=>h(this,N).findAll(t).map(s=>s.cancel(a)));return Promise.all(r).then(V).catch(V)}invalidateQueries(t,e={}){return z.batch(()=>(h(this,N).findAll(t).forEach(a=>{a.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const a={...e,cancelRefetch:e.cancelRefetch??!0},r=z.batch(()=>h(this,N).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let n=s.fetch(void 0,a);return a.throwOnError||(n=n.catch(V)),s.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(V)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const a=h(this,N).build(this,e);return a.isStaleByTime(Dt(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(V).catch(V)}fetchInfiniteQuery(t){return t.behavior=pa(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(V).catch(V)}ensureInfiniteQueryData(t){return t.behavior=pa(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yt.isOnline()?h(this,fe).resumePausedMutations():Promise.resolve()}getQueryCache(){return h(this,N)}getMutationCache(){return h(this,fe)}getDefaultOptions(){return h(this,me)}setDefaultOptions(t){x(this,me,t)}setQueryDefaults(t,e){h(this,De).set($e(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...h(this,De).values()],a={};return e.forEach(r=>{Je(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,e){h(this,Le).set($e(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...h(this,Le).values()],a={};return e.forEach(r=>{Je(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const e={...h(this,me).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Jt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Qt&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...h(this,me).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){h(this,N).clear(),h(this,fe).clear()}},N=new WeakMap,fe=new WeakMap,me=new WeakMap,De=new WeakMap,Le=new WeakMap,pe=new WeakMap,ze=new WeakMap,_e=new WeakMap,$a),js=A.createContext(void 0),ks=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(js.Provider,{value:t,children:e}));const As="modulepreload",Ts=function(t){return"/"+t},ga={},W=function(e,a,r){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(a.map(m=>{if(m=Ts(m),m in ga)return;ga[m]=!0;const f=m.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${d}`))return;const u=document.createElement("link");if(u.rel=f?"stylesheet":As,f||(u.as="script"),u.crossOrigin="",u.href=m,c&&u.setAttribute("nonce",c),document.head.appendChild(u),f)return new Promise((b,v)=>{u.addEventListener("load",b),u.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${m}`)))})}))}function n(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&n(c.reason);return e().catch(n)})};function cr(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ns}=Object.prototype,{getPrototypeOf:Gt}=Object,{iterator:Et,toStringTag:lr}=Symbol,jt=(t=>e=>{const a=Ns.call(e);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Q=t=>(t=t.toLowerCase(),e=>jt(e)===t),kt=t=>e=>typeof e===t,{isArray:qe}=Array,He=kt("undefined");function Ye(t){return t!==null&&!He(t)&&t.constructor!==null&&!He(t.constructor)&&_(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ur=Q("ArrayBuffer");function Cs(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ur(t.buffer),e}const Os=kt("string"),_=kt("function"),dr=kt("number"),Xe=t=>t!==null&&typeof t=="object",Ps=t=>t===!0||t===!1,ft=t=>{if(jt(t)!=="object")return!1;const e=Gt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lr in t)&&!(Et in t)},Us=t=>{if(!Xe(t)||Ye(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ms=Q("Date"),Is=Q("File"),Fs=Q("Blob"),Ds=Q("FileList"),Ls=t=>Xe(t)&&_(t.pipe),zs=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_(t.append)&&((e=jt(t))==="formdata"||e==="object"&&_(t.toString)&&t.toString()==="[object FormData]"))},_s=Q("URLSearchParams"),[Hs,qs,Bs,Ks]=["ReadableStream","Request","Response","Headers"].map(Q),Ws=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function et(t,e,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),qe(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Ye(t))return;const n=a?Object.getOwnPropertyNames(t):Object.keys(t),i=n.length;let c;for(r=0;r<i;r++)c=n[r],e.call(null,t[c],c,t)}}function hr(t,e){if(Ye(t))return null;e=e.toLowerCase();const a=Object.keys(t);let r=a.length,s;for(;r-- >0;)if(s=a[r],e===s.toLowerCase())return s;return null}const Se=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fr=t=>!He(t)&&t!==Se;function _t(){const{caseless:t,skipUndefined:e}=fr(this)&&this||{},a={},r=(s,n)=>{const i=t&&hr(a,n)||n;ft(a[i])&&ft(s)?a[i]=_t(a[i],s):ft(s)?a[i]=_t({},s):qe(s)?a[i]=s.slice():(!e||!He(s))&&(a[i]=s)};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&et(arguments[s],r);return a}const Vs=(t,e,a,{allOwnKeys:r}={})=>(et(e,(s,n)=>{a&&_(s)?t[n]=cr(s,a):t[n]=s},{allOwnKeys:r}),t),$s=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Js=(t,e,a,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),a&&Object.assign(t.prototype,a)},Qs=(t,e,a,r)=>{let s,n,i;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),n=s.length;n-- >0;)i=s[n],(!r||r(i,t,e))&&!c[i]&&(e[i]=t[i],c[i]=!0);t=a!==!1&&Gt(t)}while(t&&(!a||a(t,e))&&t!==Object.prototype);return e},Gs=(t,e,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=e.length;const r=t.indexOf(e,a);return r!==-1&&r===a},Zs=t=>{if(!t)return null;if(qe(t))return t;let e=t.length;if(!dr(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=t[e];return a},Ys=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gt(Uint8Array)),Xs=(t,e)=>{const r=(t&&t[Et]).call(t);let s;for(;(s=r.next())&&!s.done;){const n=s.value;e.call(t,n[0],n[1])}},ei=(t,e)=>{let a;const r=[];for(;(a=t.exec(e))!==null;)r.push(a);return r},ti=Q("HTMLFormElement"),ai=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,s){return r.toUpperCase()+s}),wa=(({hasOwnProperty:t})=>(e,a)=>t.call(e,a))(Object.prototype),ri=Q("RegExp"),mr=(t,e)=>{const a=Object.getOwnPropertyDescriptors(t),r={};et(a,(s,n)=>{let i;(i=e(s,n,t))!==!1&&(r[n]=i||s)}),Object.defineProperties(t,r)},si=t=>{mr(t,(e,a)=>{if(_(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(_(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ii=(t,e)=>{const a={},r=s=>{s.forEach(n=>{a[n]=!0})};return qe(t)?r(t):r(String(t).split(e)),a},ni=()=>{},oi=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ci(t){return!!(t&&_(t.append)&&t[lr]==="FormData"&&t[Et])}const li=t=>{const e=new Array(10),a=(r,s)=>{if(Xe(r)){if(e.indexOf(r)>=0)return;if(Ye(r))return r;if(!("toJSON"in r)){e[s]=r;const n=qe(r)?[]:{};return et(r,(i,c)=>{const m=a(i,s+1);!He(m)&&(n[c]=m)}),e[s]=void 0,n}}return r};return a(t,0)},ui=Q("AsyncFunction"),di=t=>t&&(Xe(t)||_(t))&&_(t.then)&&_(t.catch),pr=((t,e)=>t?setImmediate:e?((a,r)=>(Se.addEventListener("message",({source:s,data:n})=>{s===Se&&n===a&&r.length&&r.shift()()},!1),s=>{r.push(s),Se.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",_(Se.postMessage)),hi=typeof queueMicrotask<"u"?queueMicrotask.bind(Se):typeof process<"u"&&process.nextTick||pr,fi=t=>t!=null&&_(t[Et]),l={isArray:qe,isArrayBuffer:ur,isBuffer:Ye,isFormData:zs,isArrayBufferView:Cs,isString:Os,isNumber:dr,isBoolean:Ps,isObject:Xe,isPlainObject:ft,isEmptyObject:Us,isReadableStream:Hs,isRequest:qs,isResponse:Bs,isHeaders:Ks,isUndefined:He,isDate:Ms,isFile:Is,isBlob:Fs,isRegExp:ri,isFunction:_,isStream:Ls,isURLSearchParams:_s,isTypedArray:Ys,isFileList:Ds,forEach:et,merge:_t,extend:Vs,trim:Ws,stripBOM:$s,inherits:Js,toFlatObject:Qs,kindOf:jt,kindOfTest:Q,endsWith:Gs,toArray:Zs,forEachEntry:Xs,matchAll:ei,isHTMLForm:ti,hasOwnProperty:wa,hasOwnProp:wa,reduceDescriptors:mr,freezeMethods:si,toObjectSet:ii,toCamelCase:ai,noop:ni,toFiniteNumber:oi,findKey:hr,global:Se,isContextDefined:fr,isSpecCompliantForm:ci,toJSONObject:li,isAsyncFn:ui,isThenable:di,setImmediate:pr,asap:hi,isIterable:fi};function E(t,e,a,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}l.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}});const yr=E.prototype,gr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gr[t]={value:t}});Object.defineProperties(E,gr);Object.defineProperty(yr,"isAxiosError",{value:!0});E.from=(t,e,a,r,s,n)=>{const i=Object.create(yr);l.toFlatObject(t,i,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const c=t&&t.message?t.message:"Error",m=e==null&&t?t.code:e;return E.call(i,c,m,a,r,s),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",n&&Object.assign(i,n),i};const mi=null;function Ht(t){return l.isPlainObject(t)||l.isArray(t)}function wr(t){return l.endsWith(t,"[]")?t.slice(0,-2):t}function ba(t,e,a){return t?t.concat(e).map(function(s,n){return s=wr(s),!a&&n?"["+s+"]":s}).join(a?".":""):e}function pi(t){return l.isArray(t)&&!t.some(Ht)}const yi=l.toFlatObject(l,{},null,function(e){return/^is[A-Z]/.test(e)});function At(t,e,a){if(!l.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,a=l.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!l.isUndefined(g[y])});const r=a.metaTokens,s=a.visitor||d,n=a.dots,i=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(e);if(!l.isFunction(s))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(l.isDate(p))return p.toISOString();if(l.isBoolean(p))return p.toString();if(!m&&l.isBlob(p))throw new E("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(p)||l.isTypedArray(p)?m&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,g){let S=p;if(p&&!g&&typeof p=="object"){if(l.endsWith(y,"{}"))y=r?y:y.slice(0,-2),p=JSON.stringify(p);else if(l.isArray(p)&&pi(p)||(l.isFileList(p)||l.endsWith(y,"[]"))&&(S=l.toArray(p)))return y=wr(y),S.forEach(function(R,w){!(l.isUndefined(R)||R===null)&&e.append(i===!0?ba([y],w,n):i===null?y:y+"[]",f(R))}),!1}return Ht(p)?!0:(e.append(ba(g,y,n),f(p)),!1)}const u=[],b=Object.assign(yi,{defaultVisitor:d,convertValue:f,isVisitable:Ht});function v(p,y){if(!l.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(p),l.forEach(p,function(S,j){(!(l.isUndefined(S)||S===null)&&s.call(e,S,l.isString(j)?j.trim():j,y,b))===!0&&v(S,y?y.concat(j):[j])}),u.pop()}}if(!l.isObject(t))throw new TypeError("data must be an object");return v(t),e}function va(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Zt(t,e){this._pairs=[],t&&At(t,this,e)}const br=Zt.prototype;br.append=function(e,a){this._pairs.push([e,a])};br.toString=function(e){const a=e?function(r){return e.call(this,r,va)}:va;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function gi(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vr(t,e,a){if(!e)return t;const r=a&&a.encode||gi;l.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let n;if(s?n=s(e,a):n=l.isURLSearchParams(e)?e.toString():new Zt(e,a).toString(r),n){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t}class Ra{constructor(){this.handlers=[]}use(e,a,r){return this.handlers.push({fulfilled:e,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){l.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Rr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wi=typeof URLSearchParams<"u"?URLSearchParams:Zt,bi=typeof FormData<"u"?FormData:null,vi=typeof Blob<"u"?Blob:null,Ri={isBrowser:!0,classes:{URLSearchParams:wi,FormData:bi,Blob:vi},protocols:["http","https","file","blob","url","data"]},Yt=typeof window<"u"&&typeof document<"u",qt=typeof navigator=="object"&&navigator||void 0,Si=Yt&&(!qt||["ReactNative","NativeScript","NS"].indexOf(qt.product)<0),xi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ei=Yt&&window.location.href||"http://localhost",ji=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yt,hasStandardBrowserEnv:Si,hasStandardBrowserWebWorkerEnv:xi,navigator:qt,origin:Ei},Symbol.toStringTag,{value:"Module"})),D={...ji,...Ri};function ki(t,e){return At(t,new D.classes.URLSearchParams,{visitor:function(a,r,s,n){return D.isNode&&l.isBuffer(a)?(this.append(r,a.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...e})}function Ai(t){return l.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ti(t){const e={},a=Object.keys(t);let r;const s=a.length;let n;for(r=0;r<s;r++)n=a[r],e[n]=t[n];return e}function Sr(t){function e(a,r,s,n){let i=a[n++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),m=n>=a.length;return i=!i&&l.isArray(s)?s.length:i,m?(l.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!c):((!s[i]||!l.isObject(s[i]))&&(s[i]=[]),e(a,r,s[i],n)&&l.isArray(s[i])&&(s[i]=Ti(s[i])),!c)}if(l.isFormData(t)&&l.isFunction(t.entries)){const a={};return l.forEachEntry(t,(r,s)=>{e(Ai(r),s,a,0)}),a}return null}function Ni(t,e,a){if(l.isString(t))try{return(e||JSON.parse)(t),l.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const tt={transitional:Rr,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const r=a.getContentType()||"",s=r.indexOf("application/json")>-1,n=l.isObject(e);if(n&&l.isHTMLForm(e)&&(e=new FormData(e)),l.isFormData(e))return s?JSON.stringify(Sr(e)):e;if(l.isArrayBuffer(e)||l.isBuffer(e)||l.isStream(e)||l.isFile(e)||l.isBlob(e)||l.isReadableStream(e))return e;if(l.isArrayBufferView(e))return e.buffer;if(l.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ki(e,this.formSerializer).toString();if((c=l.isFileList(e))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return At(c?{"files[]":e}:e,m&&new m,this.formSerializer)}}return n||s?(a.setContentType("application/json",!1),Ni(e)):e}],transformResponse:[function(e){const a=this.transitional||tt.transitional,r=a&&a.forcedJSONParsing,s=this.responseType==="json";if(l.isResponse(e)||l.isReadableStream(e))return e;if(e&&l.isString(e)&&(r&&!this.responseType||s)){const i=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?E.from(c,E.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:D.classes.FormData,Blob:D.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],t=>{tt.headers[t]={}});const Ci=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Oi=t=>{const e={};let a,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),a=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!a||e[a]&&Ci[a])&&(a==="set-cookie"?e[a]?e[a].push(r):e[a]=[r]:e[a]=e[a]?e[a]+", "+r:r)}),e},Sa=Symbol("internals");function Ve(t){return t&&String(t).trim().toLowerCase()}function mt(t){return t===!1||t==null?t:l.isArray(t)?t.map(mt):String(t)}function Pi(t){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)e[r[1]]=r[2];return e}const Ui=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ot(t,e,a,r,s){if(l.isFunction(r))return r.call(this,e,a);if(s&&(e=a),!!l.isString(e)){if(l.isString(r))return e.indexOf(r)!==-1;if(l.isRegExp(r))return r.test(e)}}function Mi(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,r)=>a.toUpperCase()+r)}function Ii(t,e){const a=l.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(s,n,i){return this[r].call(this,e,s,n,i)},configurable:!0})})}let H=class{constructor(e){e&&this.set(e)}set(e,a,r){const s=this;function n(c,m,f){const d=Ve(m);if(!d)throw new Error("header name must be a non-empty string");const u=l.findKey(s,d);(!u||s[u]===void 0||f===!0||f===void 0&&s[u]!==!1)&&(s[u||m]=mt(c))}const i=(c,m)=>l.forEach(c,(f,d)=>n(f,d,m));if(l.isPlainObject(e)||e instanceof this.constructor)i(e,a);else if(l.isString(e)&&(e=e.trim())&&!Ui(e))i(Oi(e),a);else if(l.isObject(e)&&l.isIterable(e)){let c={},m,f;for(const d of e){if(!l.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[f=d[0]]=(m=c[f])?l.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}i(c,a)}else e!=null&&n(a,e,r);return this}get(e,a){if(e=Ve(e),e){const r=l.findKey(this,e);if(r){const s=this[r];if(!a)return s;if(a===!0)return Pi(s);if(l.isFunction(a))return a.call(this,s,r);if(l.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=Ve(e),e){const r=l.findKey(this,e);return!!(r&&this[r]!==void 0&&(!a||Ot(this,this[r],r,a)))}return!1}delete(e,a){const r=this;let s=!1;function n(i){if(i=Ve(i),i){const c=l.findKey(r,i);c&&(!a||Ot(r,r[c],c,a))&&(delete r[c],s=!0)}}return l.isArray(e)?e.forEach(n):n(e),s}clear(e){const a=Object.keys(this);let r=a.length,s=!1;for(;r--;){const n=a[r];(!e||Ot(this,this[n],n,e,!0))&&(delete this[n],s=!0)}return s}normalize(e){const a=this,r={};return l.forEach(this,(s,n)=>{const i=l.findKey(r,n);if(i){a[i]=mt(s),delete a[n];return}const c=e?Mi(n):String(n).trim();c!==n&&delete a[n],a[c]=mt(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return l.forEach(this,(r,s)=>{r!=null&&r!==!1&&(a[s]=e&&l.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const r=new this(e);return a.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Sa]=this[Sa]={accessors:{}}).accessors,s=this.prototype;function n(i){const c=Ve(i);r[c]||(Ii(s,i),r[c]=!0)}return l.isArray(e)?e.forEach(n):n(e),this}};H.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(H.prototype,({value:t},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[a]=r}}});l.freezeMethods(H);function Pt(t,e){const a=this||tt,r=e||a,s=H.from(r.headers);let n=r.data;return l.forEach(t,function(c){n=c.call(a,n,s.normalize(),e?e.status:void 0)}),s.normalize(),n}function xr(t){return!!(t&&t.__CANCEL__)}function Be(t,e,a){E.call(this,t??"canceled",E.ERR_CANCELED,e,a),this.name="CanceledError"}l.inherits(Be,E,{__CANCEL__:!0});function Er(t,e,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):e(new E("Request failed with status code "+a.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Fi(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Di(t,e){t=t||10;const a=new Array(t),r=new Array(t);let s=0,n=0,i;return e=e!==void 0?e:1e3,function(m){const f=Date.now(),d=r[n];i||(i=f),a[s]=m,r[s]=f;let u=n,b=0;for(;u!==s;)b+=a[u++],u=u%t;if(s=(s+1)%t,s===n&&(n=(n+1)%t),f-i<e)return;const v=d&&f-d;return v?Math.round(b*1e3/v):void 0}}function Li(t,e){let a=0,r=1e3/e,s,n;const i=(f,d=Date.now())=>{a=d,s=null,n&&(clearTimeout(n),n=null),t(...f)};return[(...f)=>{const d=Date.now(),u=d-a;u>=r?i(f,d):(s=f,n||(n=setTimeout(()=>{n=null,i(s)},r-u)))},()=>s&&i(s)]}const gt=(t,e,a=3)=>{let r=0;const s=Di(50,250);return Li(n=>{const i=n.loaded,c=n.lengthComputable?n.total:void 0,m=i-r,f=s(m),d=i<=c;r=i;const u={loaded:i,total:c,progress:c?i/c:void 0,bytes:m,rate:f||void 0,estimated:f&&c&&d?(c-i)/f:void 0,event:n,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(u)},a)},xa=(t,e)=>{const a=t!=null;return[r=>e[0]({lengthComputable:a,total:t,loaded:r}),e[1]]},Ea=t=>(...e)=>l.asap(()=>t(...e)),zi=D.hasStandardBrowserEnv?((t,e)=>a=>(a=new URL(a,D.origin),t.protocol===a.protocol&&t.host===a.host&&(e||t.port===a.port)))(new URL(D.origin),D.navigator&&/(msie|trident)/i.test(D.navigator.userAgent)):()=>!0,_i=D.hasStandardBrowserEnv?{write(t,e,a,r,s,n){const i=[t+"="+encodeURIComponent(e)];l.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),l.isString(r)&&i.push("path="+r),l.isString(s)&&i.push("domain="+s),n===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hi(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qi(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function jr(t,e,a){let r=!Hi(e);return t&&(r||a==!1)?qi(t,e):e}const ja=t=>t instanceof H?{...t}:t;function Ce(t,e){e=e||{};const a={};function r(f,d,u,b){return l.isPlainObject(f)&&l.isPlainObject(d)?l.merge.call({caseless:b},f,d):l.isPlainObject(d)?l.merge({},d):l.isArray(d)?d.slice():d}function s(f,d,u,b){if(l.isUndefined(d)){if(!l.isUndefined(f))return r(void 0,f,u,b)}else return r(f,d,u,b)}function n(f,d){if(!l.isUndefined(d))return r(void 0,d)}function i(f,d){if(l.isUndefined(d)){if(!l.isUndefined(f))return r(void 0,f)}else return r(void 0,d)}function c(f,d,u){if(u in e)return r(f,d);if(u in t)return r(void 0,f)}const m={url:n,method:n,data:n,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(f,d,u)=>s(ja(f),ja(d),u,!0)};return l.forEach(Object.keys({...t,...e}),function(d){const u=m[d]||s,b=u(t[d],e[d],d);l.isUndefined(b)&&u!==c||(a[d]=b)}),a}const kr=t=>{const e=Ce({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:n,headers:i,auth:c}=e;if(e.headers=i=H.from(i),e.url=vr(jr(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),l.isFormData(a)){if(D.hasStandardBrowserEnv||D.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(l.isFunction(a.getHeaders)){const m=a.getHeaders(),f=["content-type","content-length"];Object.entries(m).forEach(([d,u])=>{f.includes(d.toLowerCase())&&i.set(d,u)})}}if(D.hasStandardBrowserEnv&&(r&&l.isFunction(r)&&(r=r(e)),r||r!==!1&&zi(e.url))){const m=s&&n&&_i.read(n);m&&i.set(s,m)}return e},Bi=typeof XMLHttpRequest<"u",Ki=Bi&&function(t){return new Promise(function(a,r){const s=kr(t);let n=s.data;const i=H.from(s.headers).normalize();let{responseType:c,onUploadProgress:m,onDownloadProgress:f}=s,d,u,b,v,p;function y(){v&&v(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function S(){if(!g)return;const R=H.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:R,config:t,request:g};Er(function(P){a(P),y()},function(P){r(P),y()},T),g=null}"onloadend"in g?g.onloadend=S:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(S)},g.onabort=function(){g&&(r(new E("Request aborted",E.ECONNABORTED,t,g)),g=null)},g.onerror=function(w){const T=w&&w.message?w.message:"Network Error",U=new E(T,E.ERR_NETWORK,t,g);U.event=w||null,r(U),g=null},g.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||Rr;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new E(w,T.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,t,g)),g=null},n===void 0&&i.setContentType(null),"setRequestHeader"in g&&l.forEach(i.toJSON(),function(w,T){g.setRequestHeader(T,w)}),l.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),c&&c!=="json"&&(g.responseType=s.responseType),f&&([b,p]=gt(f,!0),g.addEventListener("progress",b)),m&&g.upload&&([u,v]=gt(m),g.upload.addEventListener("progress",u),g.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=R=>{g&&(r(!R||R.type?new Be(null,t,g):R),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const j=Fi(s.url);if(j&&D.protocols.indexOf(j)===-1){r(new E("Unsupported protocol "+j+":",E.ERR_BAD_REQUEST,t));return}g.send(n||null)})},Wi=(t,e)=>{const{length:a}=t=t?t.filter(Boolean):[];if(e||a){let r=new AbortController,s;const n=function(f){if(!s){s=!0,c();const d=f instanceof Error?f:this.reason;r.abort(d instanceof E?d:new Be(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,n(new E(`timeout ${e} of ms exceeded`,E.ETIMEDOUT))},e);const c=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(n):f.removeEventListener("abort",n)}),t=null)};t.forEach(f=>f.addEventListener("abort",n));const{signal:m}=r;return m.unsubscribe=()=>l.asap(c),m}},Vi=function*(t,e){let a=t.byteLength;if(a<e){yield t;return}let r=0,s;for(;r<a;)s=r+e,yield t.slice(r,s),r=s},$i=async function*(t,e){for await(const a of Ji(t))yield*Vi(a,e)},Ji=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:a,value:r}=await e.read();if(a)break;yield r}}finally{await e.cancel()}},ka=(t,e,a,r)=>{const s=$i(t,e);let n=0,i,c=m=>{i||(i=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:f,value:d}=await s.next();if(f){c(),m.close();return}let u=d.byteLength;if(a){let b=n+=u;a(b)}m.enqueue(new Uint8Array(d))}catch(f){throw c(f),f}},cancel(m){return c(m),s.return()}},{highWaterMark:2})},Aa=64*1024,{isFunction:ht}=l,Qi=(({Request:t,Response:e})=>({Request:t,Response:e}))(l.global),{ReadableStream:Ta,TextEncoder:Na}=l.global,Ca=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Gi=t=>{t=l.merge.call({skipUndefined:!0},Qi,t);const{fetch:e,Request:a,Response:r}=t,s=e?ht(e):typeof fetch=="function",n=ht(a),i=ht(r);if(!s)return!1;const c=s&&ht(Ta),m=s&&(typeof Na=="function"?(p=>y=>p.encode(y))(new Na):async p=>new Uint8Array(await new a(p).arrayBuffer())),f=n&&c&&Ca(()=>{let p=!1;const y=new a(D.origin,{body:new Ta,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=i&&c&&Ca(()=>l.isReadableStream(new r("").body)),u={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!u[p]&&(u[p]=(y,g)=>{let S=y&&y[p];if(S)return S.call(y);throw new E(`Response type '${p}' is not supported`,E.ERR_NOT_SUPPORT,g)})});const b=async p=>{if(p==null)return 0;if(l.isBlob(p))return p.size;if(l.isSpecCompliantForm(p))return(await new a(D.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(l.isArrayBufferView(p)||l.isArrayBuffer(p))return p.byteLength;if(l.isURLSearchParams(p)&&(p=p+""),l.isString(p))return(await m(p)).byteLength},v=async(p,y)=>{const g=l.toFiniteNumber(p.getContentLength());return g??b(y)};return async p=>{let{url:y,method:g,data:S,signal:j,cancelToken:R,timeout:w,onDownloadProgress:T,onUploadProgress:U,responseType:P,headers:ie,withCredentials:G="same-origin",fetchOptions:C}=kr(p),Z=e||fetch;P=P?(P+"").toLowerCase():"text";let rt=Wi([j,R&&R.toAbortSignal()],w),Ke=null;const ye=rt&&rt.unsubscribe&&(()=>{rt.unsubscribe()});let ea;try{if(U&&f&&g!=="get"&&g!=="head"&&(ea=await v(ie,S))!==0){let oe=new a(y,{method:"POST",body:S,duplex:"half"}),Oe;if(l.isFormData(S)&&(Oe=oe.headers.get("content-type"))&&ie.setContentType(Oe),oe.body){const[Nt,st]=xa(ea,gt(Ea(U)));S=ka(oe.body,Aa,Nt,st)}}l.isString(G)||(G=G?"include":"omit");const Y=n&&"credentials"in a.prototype,ta={...C,signal:rt,method:g.toUpperCase(),headers:ie.normalize().toJSON(),body:S,duplex:"half",credentials:Y?G:void 0};Ke=n&&new a(y,ta);let ne=await(n?Z(Ke,C):Z(y,ta));const aa=d&&(P==="stream"||P==="response");if(d&&(T||aa&&ye)){const oe={};["status","statusText","headers"].forEach(ra=>{oe[ra]=ne[ra]});const Oe=l.toFiniteNumber(ne.headers.get("content-length")),[Nt,st]=T&&xa(Oe,gt(Ea(T),!0))||[];ne=new r(ka(ne.body,Aa,Nt,()=>{st&&st(),ye&&ye()}),oe)}P=P||"text";let Mr=await u[l.findKey(u,P)||"text"](ne,p);return!aa&&ye&&ye(),await new Promise((oe,Oe)=>{Er(oe,Oe,{data:Mr,headers:H.from(ne.headers),status:ne.status,statusText:ne.statusText,config:p,request:Ke})})}catch(Y){throw ye&&ye(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,p,Ke),{cause:Y.cause||Y}):E.from(Y,Y&&Y.code,p,Ke)}}},Zi=new Map,Ar=t=>{let e=t?t.env:{};const{fetch:a,Request:r,Response:s}=e,n=[r,s,a];let i=n.length,c=i,m,f,d=Zi;for(;c--;)m=n[c],f=d.get(m),f===void 0&&d.set(m,f=c?new Map:Gi(e)),d=f;return f};Ar();const Bt={http:mi,xhr:Ki,fetch:{get:Ar}};l.forEach(Bt,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Oa=t=>`- ${t}`,Yi=t=>l.isFunction(t)||t===null||t===!1,Tr={getAdapter:(t,e)=>{t=l.isArray(t)?t:[t];const{length:a}=t;let r,s;const n={};for(let i=0;i<a;i++){r=t[i];let c;if(s=r,!Yi(r)&&(s=Bt[(c=String(r)).toLowerCase()],s===void 0))throw new E(`Unknown adapter '${c}'`);if(s&&(l.isFunction(s)||(s=s.get(e))))break;n[c||"#"+i]=s}if(!s){const i=Object.entries(n).map(([m,f])=>`adapter ${m} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=a?i.length>1?`since :
`+i.map(Oa).join(`
`):" "+Oa(i[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Bt};function Ut(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Be(null,t)}function Pa(t){return Ut(t),t.headers=H.from(t.headers),t.data=Pt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Tr.getAdapter(t.adapter||tt.adapter,t)(t).then(function(r){return Ut(t),r.data=Pt.call(t,t.transformResponse,r),r.headers=H.from(r.headers),r},function(r){return xr(r)||(Ut(t),r&&r.response&&(r.response.data=Pt.call(t,t.transformResponse,r.response),r.response.headers=H.from(r.response.headers))),Promise.reject(r)})}const Nr="1.12.2",Tt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Tt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ua={};Tt.transitional=function(e,a,r){function s(n,i){return"[Axios v"+Nr+"] Transitional option '"+n+"'"+i+(r?". "+r:"")}return(n,i,c)=>{if(e===!1)throw new E(s(i," has been removed"+(a?" in "+a:"")),E.ERR_DEPRECATED);return a&&!Ua[i]&&(Ua[i]=!0,console.warn(s(i," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(n,i,c):!0}};Tt.spelling=function(e){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Xi(t,e,a){if(typeof t!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const n=r[s],i=e[n];if(i){const c=t[n],m=c===void 0||i(c,n,t);if(m!==!0)throw new E("option "+n+" must be "+m,E.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new E("Unknown option "+n,E.ERR_BAD_OPTION)}}const pt={assertOptions:Xi,validators:Tt},X=pt.validators;let Ne=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ra,response:new Ra}}async request(e,a){try{return await this._request(e,a)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const n=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?n&&!String(r.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+n):r.stack=n}catch{}}throw r}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=Ce(this.defaults,a);const{transitional:r,paramsSerializer:s,headers:n}=a;r!==void 0&&pt.assertOptions(r,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1),s!=null&&(l.isFunction(s)?a.paramsSerializer={serialize:s}:pt.assertOptions(s,{encode:X.function,serialize:X.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),pt.assertOptions(a,{baseUrl:X.spelling("baseURL"),withXsrfToken:X.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=n&&l.merge(n.common,n[a.method]);n&&l.forEach(["delete","get","head","post","put","patch","common"],p=>{delete n[p]}),a.headers=H.concat(i,n);const c=[];let m=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(m=m&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let d,u=0,b;if(!m){const p=[Pa.bind(this),void 0];for(p.unshift(...c),p.push(...f),b=p.length,d=Promise.resolve(a);u<b;)d=d.then(p[u++],p[u++]);return d}b=c.length;let v=a;for(;u<b;){const p=c[u++],y=c[u++];try{v=p(v)}catch(g){y.call(this,g);break}}try{d=Pa.call(this,v)}catch(p){return Promise.reject(p)}for(u=0,b=f.length;u<b;)d=d.then(f[u++],f[u++]);return d}getUri(e){e=Ce(this.defaults,e);const a=jr(e.baseURL,e.url,e.allowAbsoluteUrls);return vr(a,e.params,e.paramsSerializer)}};l.forEach(["delete","get","head","options"],function(e){Ne.prototype[e]=function(a,r){return this.request(Ce(r||{},{method:e,url:a,data:(r||{}).data}))}});l.forEach(["post","put","patch"],function(e){function a(r){return function(n,i,c){return this.request(Ce(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ne.prototype[e]=a(),Ne.prototype[e+"Form"]=a(!0)});let en=class Cr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(n){a=n});const r=this;this.promise.then(s=>{if(!r._listeners)return;let n=r._listeners.length;for(;n-- >0;)r._listeners[n](s);r._listeners=null}),this.promise.then=s=>{let n;const i=new Promise(c=>{r.subscribe(c),n=c}).then(s);return i.cancel=function(){r.unsubscribe(n)},i},e(function(n,i,c){r.reason||(r.reason=new Be(n,i,c),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=r=>{e.abort(r)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new Cr(function(s){e=s}),cancel:e}}};function tn(t){return function(a){return t.apply(null,a)}}function an(t){return l.isObject(t)&&t.isAxiosError===!0}const Kt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kt).forEach(([t,e])=>{Kt[e]=t});function Or(t){const e=new Ne(t),a=cr(Ne.prototype.request,e);return l.extend(a,Ne.prototype,e,{allOwnKeys:!0}),l.extend(a,e,null,{allOwnKeys:!0}),a.create=function(s){return Or(Ce(t,s))},a}const O=Or(tt);O.Axios=Ne;O.CanceledError=Be;O.CancelToken=en;O.isCancel=xr;O.VERSION=Nr;O.toFormData=At;O.AxiosError=E;O.Cancel=O.CanceledError;O.all=function(e){return Promise.all(e)};O.spread=tn;O.isAxiosError=an;O.mergeConfig=Ce;O.AxiosHeaders=H;O.formToJSON=t=>Sr(l.isHTMLForm(t)?new FormData(t):t);O.getAdapter=Tr.getAdapter;O.HttpStatusCode=Kt;O.default=O;const{Axios:zn,AxiosError:_n,CanceledError:Hn,isCancel:qn,CancelToken:Bn,VERSION:Kn,all:Wn,Cancel:Vn,isAxiosError:$n,spread:Jn,toFormData:Qn,AxiosHeaders:Gn,HttpStatusCode:Zn,formToJSON:Yn,getAdapter:Xn,mergeConfig:eo}=O;var rn={};class sn{constructor(){q(this,"api");this.api=O.create({baseURL:"https://us-central1-smart-matwana-ke.cloudfunctions.net/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(e=>{const a=localStorage.getItem("authToken");return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e)),this.api.interceptors.response.use(e=>e,e=>{var a;return((a=e.response)==null?void 0:a.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user")),Promise.reject(e)})}async getHealth(){try{return(await this.api.get("/health")).data}catch(e){throw this.handleError(e)}}async login(e){try{const a=await this.api.post("/auth/login",e);return a.data.success&&a.data.data&&(localStorage.setItem("authToken",a.data.data.token),localStorage.setItem("user",JSON.stringify(a.data.data.user))),a.data}catch(a){throw this.handleError(a)}}async signup(e){try{const a=await this.api.post("/auth/register",e);return a.data.success&&a.data.data&&(localStorage.setItem("authToken",a.data.data.token),localStorage.setItem("user",JSON.stringify(a.data.data.user))),a.data}catch(a){throw this.handleError(a)}}async logout(){localStorage.removeItem("authToken"),localStorage.removeItem("user")}async getCurrentUser(){var e;try{return((e=(await this.api.get("/auth/profile")).data.data)==null?void 0:e.user)||null}catch{const r=localStorage.getItem("user");return r?JSON.parse(r):null}}async getRoutes(e){try{return(await this.api.get("/routes",{params:e})).data}catch(a){throw this.handleError(a)}}async getNearbyRoutes(e,a,r=5){try{return(await this.api.get("/routes/nearby",{params:{lat:e,lng:a,radius:r}})).data}catch(s){throw this.handleError(s)}}async getRoute(e){try{return(await this.api.get(`/routes/${e}`)).data}catch(a){throw this.handleError(a)}}async rateRoute(e,a){try{return(await this.api.post(`/routes/${e}/rate`,a)).data}catch(r){throw this.handleError(r)}}async createRoute(e){try{return(await this.api.post("/routes",e)).data}catch(a){throw this.handleError(a)}}async updateRoute(e,a){try{return(await this.api.put(`/routes/${e}`,a)).data}catch(r){throw this.handleError(r)}}async deleteRoute(e){try{return(await this.api.delete(`/routes/${e}`)).data}catch(a){throw this.handleError(a)}}async getReports(e=1,a=10){try{return(await this.api.get(`/reports?page=${e}&limit=${a}`)).data}catch(r){throw this.handleError(r)}}async getReportsByRoute(e){try{return(await this.api.get(`/reports/route/${e}`)).data}catch(a){throw this.handleError(a)}}async createReport(e){try{return(await this.api.post("/reports",e)).data}catch(a){throw this.handleError(a)}}async updateReport(e,a){try{return(await this.api.put(`/reports/${e}`,a)).data}catch(r){throw this.handleError(r)}}async deleteReport(e){try{return(await this.api.delete(`/reports/${e}`)).data}catch(a){throw this.handleError(a)}}async getScores(e){try{return(await this.api.get("/scores",{params:e})).data}catch(a){throw this.handleError(a)}}async getScoresByRoute(e){try{return(await this.api.get(`/scores/route/${e}`)).data}catch(a){throw this.handleError(a)}}async getTopRoutes(e=10){try{return(await this.api.get(`/scores/top/${e}`)).data}catch(a){throw this.handleError(a)}}async getWorstRoutes(e=10){try{return(await this.api.get(`/scores/worst/${e}`)).data}catch(a){throw this.handleError(a)}}async getAnalytics(){try{return(await this.api.get("/analytics/summary")).data}catch(e){throw this.handleError(e)}}async getHomepageAnalytics(){try{return(await this.api.get("/analytics/homepage")).data}catch(e){throw this.handleError(e)}}async getUsers(e=1,a=10){try{return(await this.api.get(`/users?page=${e}&limit=${a}`)).data}catch(r){throw this.handleError(r)}}async adminCreateUser(e){try{return(await this.api.post("/admin/users",e)).data}catch(a){throw this.handleError(a)}}async adminUpdateUser(e,a){try{return(await this.api.put(`/admin/users/${e}`,a)).data}catch(r){throw this.handleError(r)}}async getUser(e){try{return(await this.api.get(`/users/${e}`)).data}catch(a){throw this.handleError(a)}}async updateUser(e,a){try{return(await this.api.put(`/users/${e}`,a)).data}catch(r){throw this.handleError(r)}}async deleteUser(e){try{return(await this.api.delete(`/users/${e}`)).data}catch(a){throw this.handleError(a)}}handleError(e){var a,r;return e.response?new Error(((a=e.response.data)==null?void 0:a.message)||((r=e.response.data)==null?void 0:r.error)||"Server error"):e.request?new Error("Network error - please check your connection"):new Error(e.message||"An unexpected error occurred")}async uploadFile(e,a){try{const r=new FormData;return r.append("file",e),r.append("type",a),(await this.api.post("/upload",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw this.handleError(r)}}async searchRoutes(e,a){try{return(await this.api.get(`/routes/search/${encodeURIComponent(e)}`,{params:a})).data}catch(r){throw this.handleError(r)}}async geocodeAddress(e){try{return(await this.api.get(`/geocode?address=${encodeURIComponent(e)}`)).data}catch(a){throw this.handleError(a)}}async predict(e,a){var r;try{return((r=window==null?void 0:window.featureFlags)==null?void 0:r.ai)===!0||rn.VITE_ENABLE_AI==="true"?(await this.api.post("/ai/predict",{routeId:e,features:a})).data:{success:!0,data:{prediction:.5,label:"medium",confidence:.5}}}catch(s){throw this.handleError(s)}}async updateProfile(e,a){try{return(await this.api.put(`/users/${e}`,a)).data}catch(r){throw this.handleError(r)}}async getUserReports(e){try{return(await this.api.get(`/users/${e}/reports`)).data}catch(a){throw this.handleError(a)}}async getFavoriteRoutes(e){try{return(await this.api.get(`/users/${e}/favorites`)).data}catch(a){throw this.handleError(a)}}async addFavoriteRoute(e,a){try{return(await this.api.post(`/users/${e}/favorites`,{routeId:a})).data}catch(r){throw this.handleError(r)}}async removeFavoriteRoute(e,a){try{return(await this.api.delete(`/users/${e}/favorites/${a}`)).data}catch(r){throw this.handleError(r)}}async getUserAnalytics(e){try{return(await this.api.get(`/users/${e}/analytics`)).data}catch(a){throw this.handleError(a)}}async getDashboardStats(){try{return(await this.api.get("/dashboard/stats")).data}catch(e){throw this.handleError(e)}}async getWeatherData(){try{return(await this.api.get("/weather")).data}catch(e){throw this.handleError(e)}}async getRouteInsights(e){try{const a={};return e!=null&&e.limit&&(a.limit=e.limit),e!=null&&e.days&&(a.days=e.days),(await this.api.get("/insights/routes",{params:a})).data}catch(a){throw this.handleError(a)}}async getFarePrediction(e,a){try{const r=a?{timeOfDay:a}:{};return(await this.api.get(`/predictions/fare/${e}`,{params:r})).data}catch(r){throw this.handleError(r)}}async getSafetyScore(e){try{return(await this.api.get(`/predictions/safety/${e}`)).data}catch(a){throw this.handleError(a)}}async getCrowdDensity(e,a){try{const r=a?{timeOfDay:a}:{};return(await this.api.get(`/predictions/crowd/${e}`,{params:r})).data}catch(r){throw this.handleError(r)}}async getRouteEfficiency(e){try{return(await this.api.get(`/analytics/efficiency/${e}`)).data}catch(a){throw this.handleError(a)}}async predictTravelTime(e,a,r,s){try{return(await this.api.post("/analytics/travel-time/predict",{routeId:e,fromStop:a,toStop:r,timeOfDay:s})).data}catch(n){throw this.handleError(n)}}async findAlternativeRoutes(e,a,r,s){try{return(await this.api.post("/analytics/routes/alternatives",{fromStop:e,toStop:a,maxTime:r,maxCost:s})).data}catch(n){throw this.handleError(n)}}async analyzeTrends(e,a="weekly"){try{return(await this.api.get(`/analytics/trends/${e}`,{params:{period:a}})).data}catch(r){throw this.handleError(r)}}async forecastDemand(e,a){try{return(await this.api.post("/analytics/demand/forecast",{routeId:e,timeSlot:a})).data}catch(r){throw this.handleError(r)}}async getUserRecommendations(e,a){try{const r={};return a!=null&&a.limit&&(r.limit=a.limit),(await this.api.get(`/analytics/recommendations/${e}`,{params:r})).data}catch(r){throw this.handleError(r)}}async getBulkEfficiencyScores(e){try{return(await this.api.post("/analytics/efficiency/bulk",{routeIds:e})).data}catch(a){throw this.handleError(a)}}async compareRoutes(e){try{return(await this.api.post("/analytics/routes/compare",{routeIds:e})).data}catch(a){throw this.handleError(a)}}async getAnalyticsDashboard(e){try{return(await this.api.get(`/analytics/dashboard/${e}`)).data}catch(a){throw this.handleError(a)}}async getSaccoDashboard(){try{return(await this.api.get("/sacco/dashboard")).data}catch(e){throw this.handleError(e)}}async getAuthorityDashboard(){try{return(await this.api.get("/authority/dashboard")).data}catch(e){throw this.handleError(e)}}async exportComplianceData(){try{return(await this.api.get("/export/compliance",{responseType:"blob"})).data}catch(e){throw this.handleError(e)}}async exportIncidentsData(){try{return(await this.api.get("/export/incidents",{responseType:"blob"})).data}catch(e){throw this.handleError(e)}}}const Mt=new sn,Ma=()=>{try{return localStorage.getItem("language")==="sw"?"sw":"en"}catch{return"en"}},Pr={user:null,isAuthenticated:void 0,language:Ma(),settings:{language:Ma(),notifications:{email:!0,push:!0,safety:!0,updates:!0},privacy:{shareLocation:!0,shareReports:!0,analytics:!0},display:{theme:"auto",mapStyle:"default"}},theme:"light",notifications:!0,isLoading:!0,error:null};function nn(t,e){switch(e.type){case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload,isLoading:!1};case"SET_USER":return{...t,user:e.payload,isAuthenticated:!!e.payload};case"SET_AUTHENTICATED":return{...t,isAuthenticated:e.payload};case"SET_LANGUAGE":return{...t,language:e.payload,settings:{...t.settings,language:e.payload}};case"SET_THEME":return{...t,theme:e.payload,settings:{...t.settings,display:{...t.settings.display,theme:e.payload}}};case"SET_NOTIFICATIONS":return{...t,notifications:e.payload,settings:{...t.settings,notifications:{...t.settings.notifications,push:e.payload}}};case"UPDATE_SETTINGS":const a={...t.settings,...e.payload};return{...t,settings:a,language:a.language||t.language};case"LOGOUT":return{...t,user:null,isAuthenticated:!1,error:null};case"RESET":return Pr;default:return t}}const Ur=A.createContext(void 0);function on({children:t}){const[e,a]=A.useReducer(nn,Pr);A.useEffect(()=>{(async()=>{try{a({type:"SET_LOADING",payload:!0});const g=localStorage.getItem("authToken"),S=localStorage.getItem("user");if(g&&S)try{const j=await Mt.getCurrentUser();j?a({type:"SET_USER",payload:j}):(console.warn("API call failed, clearing stored data"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),a({type:"SET_USER",payload:null}))}catch(j){console.warn("Failed to refresh user data, clearing stored data:",j),localStorage.removeItem("authToken"),localStorage.removeItem("user"),a({type:"SET_USER",payload:null})}}catch(g){console.error("Error loading user:",g)}finally{a({type:"SET_LOADING",payload:!1})}})()},[]),A.useEffect(()=>{(()=>{try{const g=localStorage.getItem("appSettings");if(g){const S=JSON.parse(g);a({type:"UPDATE_SETTINGS",payload:S})}}catch(g){console.error("Error loading settings:",g)}})()},[]),A.useEffect(()=>{try{localStorage.setItem("appSettings",JSON.stringify(e.settings))}catch(y){console.error("Error saving settings:",y)}},[e.settings]),A.useEffect(()=>{const y=document.documentElement;e.theme==="dark"||e.theme==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches?y.classList.add("dark"):y.classList.remove("dark")},[e.theme]),A.useEffect(()=>{document.documentElement.lang=e.language},[e.language]);const r=y=>{a({type:"SET_LOADING",payload:y})},s=y=>{a({type:"SET_ERROR",payload:y})},n=y=>{console.log("AppContext setUser called with:",y),a({type:"SET_USER",payload:y})},i=y=>{try{localStorage.setItem("language",y)}catch(g){console.error("Error saving language to localStorage:",g)}a({type:"SET_LANGUAGE",payload:y})},c=y=>{a({type:"SET_THEME",payload:y})},m=y=>{a({type:"SET_NOTIFICATIONS",payload:y})},f=y=>{a({type:"UPDATE_SETTINGS",payload:y})},d=()=>{Mt.logout(),a({type:"LOGOUT"})},u=()=>{Mt.logout(),a({type:"RESET"})},b=e.theme==="dark"||e.theme==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches,v=e.language,p={state:e,dispatch:a,setLoading:r,setError:s,setUser:n,setLanguage:i,setTheme:c,setNotifications:m,updateSettings:f,logout:d,reset:u,isDarkMode:b,currentLanguage:v};return o.jsx(Ur.Provider,{value:p,children:t})}function at(){const t=A.useContext(Ur);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t}const Ia={en:{common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",view:"View",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",sort:"Sort",refresh:"Refresh"},navigation:{home:"Home",map:"Map",report:"Report",login:"Login",signup:"Sign Up",admin:"Admin",profile:"Profile",settings:"Settings",dashboard:"Dashboard",analytics:"Analytics",saccoDashboard:"SACCO Dashboard",authorityDashboard:"Authority Dashboard",userManagement:"User Management",adminPanel:"Admin Panel",quickActions:"Quick Actions",favorites:"Favorites",reports:"Reports",safety:"Safety",predictions:"Predictions",saccoManagement:"SACCO Management",authorityTools:"Authority Tools",fleetManagement:"Fleet Management",compliance:"Compliance"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",displayName:"Display Name",rememberMe:"Remember Me",forgotPassword:"Forgot Password?",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",loginTitle:"Welcome Back",loginSubtitle:"Sign in to your account to continue",signupTitle:"Create Account",signupSubtitle:"Join Smart Matatu and start your journey",emailPlaceholder:"Enter your email",passwordPlaceholder:"Enter your password",displayNamePlaceholder:"Enter your display name",confirmPasswordPlaceholder:"Confirm your password",organizationPlaceholder:"Enter your organization (optional)",selectRole:"Select your role",signIn:"Sign In",signUp:"Sign Up",creatingAccount:"Creating account...",signingIn:"Signing in...",loginSuccess:"Login successful!",signupSuccess:"Account created successfully!",loginError:"Login failed. Please check your credentials.",signupError:"Signup failed. Please try again.",emailRequired:"Email is required",passwordRequired:"Password is required",displayNameRequired:"Display name is required",passwordTooShort:"Password must be at least 8 characters",emailInvalid:"Please enter a valid email address",passwordsDoNotMatch:"Passwords do not match"},map:{title:"Nairobi Matatu Routes",loading:"Loading routes...",noRoutes:"No routes available",selectRoute:"Select a route",viewDetails:"View Details",reportTrip:"Report Trip",filter:"Filter",sort:"Sort",toggleFilters:"Toggle filter panel",toggleListView:"Toggle list view",quickFilters:"Quick Filters",highReliability:"High Reliability (4+ stars)",safeRoutes:"Safe Routes (4+ stars)",lowFare:"Low Fare (Under 50 KES)",ofRoutes:"{current} of {total} routes",availableRoutes:"Available Routes",filters:"Filters",routeFilters:"Route filters",fare:"Fare",hours:"Hours",stops:"Stops",routeNo:"Route No.",viewOnMap:"View on Map",rate:"Rate",tryAgain:"Try Again",genericError:"An error occurred",mapAria:"Interactive map showing Nairobi matatu routes"},report:{title:"Report Your Trip",route:"Route",selectRoute:"Select a route",saccoOptional:"Matatu SACCO (optional)",selectSacco:"Select SACCO",otherSacco:"Other",specifyOtherSacco:"Specify Other SACCO",otherSaccoPlaceholder:"Enter SACCO name...",otherSaccoRequired:"Please specify the SACCO name",direction:"Direction",fromCBD:"From CBD",toCBD:"To CBD",alongRoute:"Along this route",fare:"Fare (KSh)",farePlaceholder:"e.g., 80",reportType:"Report Type",delay:"Delay",overcrowding:"Overcrowding",breakdown:"Breakdown",safety:"Safety issue",other:"Other",severity:"Severity",low:"Low",medium:"Medium",high:"High",critical:"Critical",anonymous:"Submit anonymously",description:"Description",descriptionPlaceholder:"Describe the issue...",loading:"Loading report form...",submit:"Submit Report",success:"Report submitted successfully"},analytics:{loading:"Loading Advanced Analytics...",errorTitle:"Error Loading Analytics",retry:"Retry",headerTitle:"Advanced Analytics",headerSubtitle:"Comprehensive insights and predictions for route optimization",tabs:{efficiency:"Route Efficiency",predictions:"Travel Predictions",trends:"Trend Analysis",recommendations:"Recommendations"},efficiencyTitle:"Route Efficiency Scores",selectRoute:"Select a route",refresh:"Refresh",recommendationsTitle:"Personalized Recommendations",yourPreferences:"Your Preferences",prefEfficiency:"Efficiency",prefSafety:"Safety",prefCost:"Cost",prefConvenience:"Convenience",goodPerformance:"Good performance",recommendedRoutes:"Recommended Routes",travelPredictionsTitle:"Travel Time Predictions",predict:"Predict",fromStop:"From stop",toStop:"To stop",timeSlot:"Time",minutesShort:"min",confidence:"confidence",optimistic:"Optimistic",realistic:"Realistic",pessimistic:"Pessimistic",factors:"Factors",alternativeRoutesTitle:"Alternative Routes",find:"Find",reasons:"Reasons",trendAnalysisTitle:"Trend Analysis",periodDaily:"Daily",periodWeekly:"Weekly",periodMonthly:"Monthly",update:"Update",routeTrends:"Route Trends",current:"Current",previous:"Previous",insights:"Insights",demandForecastsTitle:"Demand Forecasts"},home:{title:"Welcome to Smart Matatu",subtitle:"Find reliable and safe matatu routes across Nairobi with real-time updates, community insights, and safety information.",viewMap:"View Map",reportTrip:"Report Trip",systemOnline:"System Online - All services operational",systemOffline:"System Offline - Limited functionality",checkingStatus:"Checking system status...",activeRoutes:"Active Routes",reportsToday:"Reports Today",safetyRating:"Safety Rating",activeUsers:"Active Users",howItWorks:"How Smart Matatu Works",howItWorksDesc:"Our platform combines community insights with real-time data to make Nairobi's transport system more reliable and safe.",realTimeTracking:"Real-time Route Tracking",realTimeTrackingDesc:"Get live updates on matatu locations, delays, and availability.",safetyReports:"Safety Reports",safetyReportsDesc:"Report and view safety incidents to help keep everyone safe.",reliabilityScores:"Reliability Scores",reliabilityScoresDesc:"See which routes are most reliable based on community data.",communityInsights:"Community Insights",communityInsightsDesc:"Share experiences and help others make informed transport decisions.",readyToStart:"Ready to Get Started?",readyToStartDesc:"Join thousands of Nairobi commuters who are already using Smart Matatu to make their daily journeys safer and more reliable.",signUpNow:"Sign Up Now",exploreMap:"Explore Map"},dashboard:{title:"Dashboard",welcome:"Welcome back",smartRouteInsights:"Smart Route Insights",weatherConditions:"Weather Conditions",favoriteRoutes:"Favorite Routes",recentReports:"Recent Reports",viewAllReports:"View All Reports",noReports:"No recent reports",noFavorites:"No favorite routes yet",addFavorites:"Add some routes to your favorites to see them here",loading:"Loading dashboard...",loadingYourDashboard:"Loading your smart dashboard...",errorTitle:"Dashboard Error",tryAgain:"Try Again",headerSubtitle:"Here's your personalized matatu insights for today",currentWeather:"Current Weather",humidityLabel:"humidity",windSpeedLabel:"km/h",activeRoutesTitle:"Active Routes",routesMonitored:"Routes monitored",avgFareTitle:"Avg Fare",currentAverage:"Current average",overallSafety:"Overall safety",viewAllRoutesBtn:"View All Routes",aiRecommendations:"AI-powered recommendations for your daily commute",noInsights:"No route insights available",exploreRoutes:"Explore Routes",routeIdLabel:"Route ID",crowdSuffix:"crowd",crowdLow:"Low crowd",crowdMedium:"Medium crowd",crowdHigh:"High crowd",predictedFareLabel:"Predicted fare",safetyScoreLabel:"Safety score",travelTimeLabel:"Travel time",bestTimeLabel:"Best time",routeLabel:"Route",viewLabel:"View",submitReportBtn:"Submit Report",quickActions:"Quick Actions",quickViewMap:"View Map",quickSubmitReport:"Submit Report",quickViewProfile:"View Profile",totalRoutes:"Total Routes",activeReports:"Active Reports",averageFare:"Average Fare",safetyRating:"Safety Rating",temperature:"Temperature",humidity:"Humidity",windSpeed:"Wind Speed",routeName:"Route Name",farePrediction:"Fare Prediction",safetyScore:"Safety Score",crowdDensity:"Crowd Density",travelTime:"Travel Time",recommendedTime:"Recommended Time",alternativeRoutes:"Alternative Routes",weatherImpact:"Weather Impact",lastUpdated:"Last Updated",low:"Low",medium:"Medium",high:"High",excellent:"Excellent",good:"Good",average:"Average",poor:"Poor",veryPoor:"Very Poor"},footer:{description:"Making Nairobi's transport system more reliable, safe, and accessible for everyone.",quickLinks:"Quick Links",services:"Services",contact:"Contact",routePlanning:"Route Planning",safetyReports:"Safety Reports",realTimeUpdates:"Real-time Updates",analytics:"Analytics",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",allRightsReserved:"All rights reserved."},sacco:{loading:"Loading SACCO Dashboard...",title:"SACCO Dashboard",subtitle:"Manage your fleet, drivers, and routes",date7d:"Last 7 days",date30d:"Last 30 days",date90d:"Last 90 days",refresh:"Refresh",tabs:{overview:"Overview",routes:"Route Performance",drivers:"Driver Management",feedback:"Customer Feedback",fleet:"Fleet Management"},metrics:{activeRoutes:"Active Routes",activeDrivers:"Active Drivers",totalRevenue7d:"Total Revenue (7d)",avgRating:"Avg Rating"},revenueTooltip:"Estimated: unique devices reporting on each route in the last 7 days  route fare. This is a directional proxy, not audited revenue.",fleetStatus:"Fleet Status",activeVehicles:"Active Vehicles",ofTotal:"of {total} total",maintenanceDue:"Maintenance Due",vehiclesNeedService:"vehicles need service",utilizationRate:"Utilization Rate",averageFleetUsage:"average fleet usage",routePerformance:"Route Performance",table:{route:"Route",efficiency:"Efficiency",revenue7d:"Revenue (7d)",passengers:"Passengers",onTime:"On-Time %",safety:"Safety",trend:"Trend"},driverPerformance:"Driver Performance",driversTable:{driver:"Driver",safetyScore:"Safety Score",onTime:"On-Time %",rating:"Rating",incidents:"Incidents",status:"Status",routes:"Routes"},customerFeedback:"Customer Feedback",filters:{allStatus:"All Status",pending:"Pending",inProgress:"In Progress",resolved:"Resolved"},resolvedInDays:"Resolved in {days} days",fleetOverview:"Fleet Overview",totalVehicles:"Total Vehicles",averageAge:"Average Age",years:"years",fleetUtilization:"Fleet Utilization"},authority:{title:"Transport Authority Dashboard",subtitle:"Monitor compliance, incidents, and system metrics",loading:"Loading Authority Dashboard...",last7Days:"Last 7 days",last30Days:"Last 30 days",last90Days:"Last 90 days",refresh:"Refresh",tabs:{compliance:"Compliance",incidents:"Incidents",metrics:"System Metrics",reports:"Reports & Export",audit:"Audit Log",system:"System Health"},kpiCards:{totalSaccos:"Total SACCOs",compliantSaccos:"Compliant SACCOs",activeIncidents:"Active Incidents",systemUptime:"System Uptime"},complianceTable:{title:"SACCO Compliance Status",sacco:"SACCO",licenseStatus:"License Status",safetyScore:"Safety Score",incidentCount:"Incidents",lastInspection:"Last Inspection",violations:"Violations",status:"Status"},complianceStatus:{compliant:"Compliant",warning:"Warning",nonCompliant:"Non-Compliant",valid:"Valid",expired:"Expired",pending:"Pending",unknown:"Unknown"},incidentsTable:{title:"Safety Incidents",route:"Route",type:"Type",severity:"Severity",description:"Description",location:"Location",reportedAt:"Reported At",assignedTo:"Assigned To",resolution:"Resolution",resolvedAt:"Resolved At",allSeverity:"All Severity",allStatus:"All Status",low:"Low",medium:"Medium",high:"High",critical:"Critical",reported:"Reported",investigating:"Investigating",resolved:"Resolved",closed:"Closed"},systemMetrics:{title:"System Metrics",totalUsers:"Total Users",activeReports:"Active Reports",totalRoutes:"Total Routes",systemUptime:"System Uptime",dataQuality:"Data Quality",averageResponseTime:"Average Response Time"},performance:{title:"Performance",systemUptime:"System Uptime",avgResponseTime:"Avg Response Time",dataQuality:"Data Quality"},reports:{title:"Data Export & Reports",complianceReport:{title:"Compliance Report",description:"SACCO compliance data"},safetyIncidents:{title:"Safety Incidents",description:"Incident reports and data"},systemAnalytics:{title:"System Analytics",description:"Performance metrics"},exportCsv:"Export CSV",exportXls:"Export XLS"},auditTable:{title:"System Audit Logs",action:"Action",user:"User",timestamp:"Timestamp",details:"Details",ipAddress:"IP Address",status:"Status",success:"Success",failed:"Failed",warning:"Warning"},systemHealth:{title:"System Health",systemUptime:"System Uptime",dataQuality:"Data Quality",averageResponseTime:"Average Response Time"},userActivity:{title:"User Activity",totalUsers:"Total Users",activeReports:"Active Reports",totalRoutes:"Total Routes"}},userManagement:{title:"User Management",subtitle:"Manage users, roles, and permissions",loading:"Loading Users...",refresh:"Refresh",addUser:"Add User",search:"Search",searchPlaceholder:"Search users...",statusLabel:"Status",role:"Role",requestedRole:"Requested Role",organization:"Organization",created:"Created",tabs:{users:"Users",roles:"Roles"},table:{displayName:"Display Name",email:"Email",role:"Role",status:"Status",actions:"Actions"},actions:{editUser:"Edit User",deleteUser:"Delete User",viewProfile:"View Profile",approve:"Approve",reject:"Reject",edit:"Edit"},status:{active:"Active",pending:"Pending",suspended:"Suspended",rejected:"Rejected"},roles:{admin:"Admin",moderator:"Moderator",sacco:"SACCO",authority:"Authority",user:"User"},deleteConfirm:{title:"Confirm Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",cancel:"Cancel",delete:"Delete"},messages:{userDeleted:"User deleted successfully",userUpdated:"User updated successfully",userCreated:"User created successfully",userApproved:"User approved successfully",userRejected:"User rejected successfully",deleteError:"Failed to delete user",updateError:"Failed to update user",createError:"Failed to create user",approveError:"Failed to approve user",rejectError:"Failed to reject user",fetchError:"Failed to fetch users",loadError:"Failed to load users"},rejectionReason:"Rejection reason:",modals:{addUser:{title:"Add User",fullName:"Full name",email:"Email",password:"Temporary password",organization:"Organization (optional)",cancel:"Cancel",create:"Create"},editUser:{title:"Edit User",fullName:"Full name",email:"Email",organization:"Organization (optional)",cancel:"Cancel",save:"Save"}},filters:{searchUsers:"Search users...",filterByRole:"Filter by role",filterByStatus:"Filter by status",allRoles:"All Roles",allStatus:"All Status",applyFilters:"Apply Filters",clearFilters:"Clear Filters"},noUsers:"No users found",noUsersMessage:"Try adjusting your search or filter criteria."},admin:{title:"Admin Dashboard",subtitle:"System administration and management",loading:"Loading Admin Dashboard...",stats:{totalRoutes:"Total Routes",activeRoutes:"Active Routes",totalReports:"Total Reports",safetyIssues:"Safety Issues",totalUsers:"Total Users",systemUptime:"System Uptime"},seedRoutes:"Seed Curated CBD Routes",seeding:"Seeding",runSeed:"Run Seed",seedDescription:"Seeds about 50 CBD routes in small chunks. Requires admin login.",tools:"Tools",routeEditor:"Route Editor",routeManagement:"Route Management",addRoute:"Add Route",addNewRoute:"Add New Route",routeName:"Route Name",routeNamePlaceholder:"e.g., Route 42 - Thika Road",description:"Description",descriptionPlaceholder:"Route description",cancel:"Cancel",route:"Route",reliability:"Reliability",safety:"Safety",reports:"Reports",statusLabel:"Status",actions:"Actions",activate:"Activate",deactivate:"Deactivate",status:{active:"Active",inactive:"Inactive",maintenance:"Maintenance"},quickActions:{title:"Quick Actions",addRoute:"Add Route",manageUsers:"Manage Users",viewReports:"View Reports",systemSettings:"System Settings"},recentActivity:{title:"Recent Activity",noActivity:"No recent activity"}},profile:{title:"Profile",subtitle:"Manage your account settings",loading:"Loading Profile...",pleaseLogin:"Please log in",loginRequired:"You need to be logged in to view your profile.",goToLogin:"Go to Login",role:"Role",updateError:"Failed to update profile. Please try again.",myTripReports:"My Trip Reports",favoriteRoutes:"Favorite Routes",noFavoriteRoutes:"No favorite routes yet",exploreRoutes:"Explore Routes",yourAnalytics:"Your Analytics",totalReports:"Total Reports",favorites:"Favorites",accountInformation:"Account Information",accountType:"Account Type",memberSince:"Member Since",noReportsYet:"No reports submitted yet",submitFirstReport:"Submit Your First Report",thisMonth:"This Month",avgRating:"Avg Rating",refresh:"Refresh",tabs:{personal:"Personal Information",security:"Security",reports:"My Reports",favorites:"Favorites",analytics:"Analytics"},personalInfo:{displayName:"Display Name",email:"Email Address",role:"Role",organization:"Organization",uploadPhoto:"Upload Photo",editProfile:"Edit Profile",uploading:"Uploading...",saveChanges:"Save Changes"},security:{changePassword:"Change Password",oldPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password"},messages:{profileUpdated:"Profile updated successfully",profileError:"Failed to update profile",passwordUpdated:"Password updated successfully",passwordError:"Failed to update password",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 8 characters",currentPasswordIncorrect:"Current password is incorrect",newPasswordSameAsOld:"New password must be different from current password",uploadingImage:"Uploading image...",imageUploadError:"Failed to upload image",avatarUpdateError:"Failed to update profile with new avatar"}}},sw:{common:{loading:"Inapakia...",error:"Hitilafu",success:"Imefanikiwa",cancel:"Ghairi",save:"Hifadhi",delete:"Futa",edit:"Hariri",view:"Ona",close:"Funga",back:"Rudi",next:"Ifuatayo",previous:"Iliyotangulia",submit:"Wasilisha",search:"Tafuta",filter:"Chuja",sort:"Panga",refresh:"Sasisha"},navigation:{home:"Nyumbani",map:"Ramani",report:"Ripoti",login:"Ingia",signup:"Jisajili",admin:"Msimamizi",profile:"Wasifu",settings:"Mipangilio",dashboard:"Dashibodi",analytics:"Uchambuzi",saccoDashboard:"Dashibodi ya SACCO",authorityDashboard:"Dashibodi ya Mamlaka",userManagement:"Usimamizi wa Watumiaji",adminPanel:"Paneli ya Msimamizi",quickActions:"Vitendo vya Haraka",favorites:"Vipendwa",reports:"Ripoti",safety:"Usalama",predictions:"Utabiri",saccoManagement:"Usimamizi wa SACCO",authorityTools:"Vifaa vya Mamlaka",fleetManagement:"Usimamizi wa Gari",compliance:"Utii"},auth:{login:"Ingia",signup:"Jisajili",logout:"Ondoka",email:"Barua Pepe",password:"Nenosiri",confirmPassword:"Thibitisha Nenosiri",displayName:"Jina la Maonyesho",rememberMe:"Nikumbuke",forgotPassword:"Umesahau Nenosiri?",createAccount:"Unda Akaunti",alreadyHaveAccount:"Una akaunti?",dontHaveAccount:"Huna akaunti?",loginTitle:"Karibu Tena",loginSubtitle:"Ingia kwenye akaunti yako ili kuendelea",signupTitle:"Unda Akaunti",signupSubtitle:"Jiunge na Smart Matatu na uanze safari yako",emailPlaceholder:"Ingiza barua pepe yako",passwordPlaceholder:"Ingiza nenosiri lako",displayNamePlaceholder:"Ingiza jina lako la maonyesho",confirmPasswordPlaceholder:"Thibitisha nenosiri lako",organizationPlaceholder:"Ingiza shirika lako (si lazima)",selectRole:"Chagua jukumu lako",signIn:"Ingia",signUp:"Jisajili",creatingAccount:"Inaunda akaunti...",signingIn:"Inaingia...",loginSuccess:"Umeingia kwa mafanikio!",signupSuccess:"Akaunti imeundwa kwa mafanikio!",loginError:"Kuingia kumeshindwa. Tafadhali angalia maelezo yako.",signupError:"Kujisajili kumeshindwa. Tafadhali jaribu tena.",emailRequired:"Barua pepe inahitajika",passwordRequired:"Nenosiri linahitajika",displayNameRequired:"Jina la maonyesho linahitajika",passwordTooShort:"Nenosiri lazima liwe na angalau herufi 8",emailInvalid:"Tafadhali ingiza barua pepe halali",passwordsDoNotMatch:"Nenosiri halifanani"},map:{title:"Njia za Matatu Nairobi",loading:"Inapakia njia...",noRoutes:"Hakuna njia zinazopatikana",selectRoute:"Chagua njia",viewDetails:"Ona Maelezo",reportTrip:"Ripoti Safari",filter:"Chuja",sort:"Panga",toggleFilters:"Washa/Zima paneli ya vichujio",toggleListView:"Washa/Zima mwonekano wa orodha",quickFilters:"Vichujio vya Haraka",highReliability:"Kuegemea Juu (nyota 4+)",safeRoutes:"Njia Salama (nyota 4+)",lowFare:"Kodi ya Chini (chini ya KES 50)",ofRoutes:"{current} kati ya {total} njia",availableRoutes:"Njia Zilizopo",filters:"Vichujio",routeFilters:"Vichujio vya njia",fare:"Kodi",hours:"Saa",stops:"Vituo",routeNo:"Nambari ya Njia",viewOnMap:"Ona kwenye Ramani",rate:"Kadiria",tryAgain:"Jaribu Tena",genericError:"Hitilafu imetokea",mapAria:"Ramani shirikishi inayoonyesha njia za matatu Nairobi"},report:{title:"Ripoti Safari Yako",route:"Njia",selectRoute:"Chagua njia",saccoOptional:"SACCO ya Matatu (hiari)",selectSacco:"Chagua SACCO",otherSacco:"Nyingine",specifyOtherSacco:"Taja SACCO Nyingine",otherSaccoPlaceholder:"Ingiza jina la SACCO...",otherSaccoRequired:"Tafadhali taja jina la SACCO",direction:"Mwelekeo",fromCBD:"Kutoka CBD",toCBD:"Kwenda CBD",alongRoute:"Kalongoni ya njia hii",fare:"Kodi (KSh)",farePlaceholder:"mf., 80",reportType:"Aina ya Ripoti",delay:"Kuchelewa",overcrowding:"Msongamano Mkubwa",breakdown:"Kuvunjika",safety:"Suala la Usalama",other:"Nyingine",severity:"Ukali",low:"Chini",medium:"Wastani",high:"Juu",critical:"Hatari",anonymous:"Wasilisha bila kujitambulisha",description:"Maelezo",descriptionPlaceholder:"Eleza tatizo...",loading:"Inapakia fomu ya ripoti...",submit:"Wasilisha Ripoti",success:"Ripoti imewasilishwa kwa mafanikio"},analytics:{loading:"Inapakia Uchambuzi wa Juu...",errorTitle:"Hitilafu Wakati wa Kupakia Uchambuzi",retry:"Jaribu Tena",headerTitle:"Uchambuzi wa Juu",headerSubtitle:"Maarifa kamili na utabiri wa kuboresha njia",tabs:{efficiency:"Ufanisi wa Njia",predictions:"Utabiri wa Safari",trends:"Uchambuzi wa Mitindo",recommendations:"Mapendekezo"},efficiencyTitle:"Alama za Ufanisi wa Njia",selectRoute:"Chagua njia",refresh:"Sasisha",recommendationsTitle:"Mapendekezo ya Kibinafsi",yourPreferences:"Upendeleo Wako",prefEfficiency:"Ufanisi",prefSafety:"Usalama",prefCost:"Gharama",prefConvenience:"Urahisi",goodPerformance:"Utendaji mzuri",recommendedRoutes:"Njia Zilizopendekezwa",travelPredictionsTitle:"Utabiri wa Muda wa Safari",predict:"Tabiri",fromStop:"Kituo cha Mwanzo",toStop:"Kituo cha Mwisho",timeSlot:"Muda",minutesShort:"dak",confidence:"uhakika",optimistic:"Ya Kutosha",realistic:"Halisi",pessimistic:"Ya Tahadhari",factors:"Vigezo",alternativeRoutesTitle:"Njia Mbadala",find:"Tafuta",reasons:"Sababu",trendAnalysisTitle:"Uchambuzi wa Mitindo",periodDaily:"Kila siku",periodWeekly:"Kila wiki",periodMonthly:"Kila mwezi",update:"Sasisha",routeTrends:"Mitindo ya Njia",current:"Sasa",previous:"Iliyopita",insights:"Maarifa",demandForecastsTitle:"Utabiri wa Mahitaji"},home:{title:"Karibu Smart Matatu",subtitle:"Pata njia za matatu za kuegemea na salama Nairobi kwa masasisho ya wakati halisi, maarifa ya jamii, na taarifa za usalama.",viewMap:"Ona Ramani",reportTrip:"Ripoti Safari",systemOnline:"Mfumo Uko Mtandaoni - Huduma zote zinatumika",systemOffline:"Mfumo Haupo Mtandaoni - Utendaji mdogo",checkingStatus:"Inachunguza hali ya mfumo...",activeRoutes:"Njia Zinazotumika",reportsToday:"Ripoti za Leo",safetyRating:"Kiwango cha Usalama",activeUsers:"Watumiaji Waliohai",howItWorks:"Smart Matatu Inafanyaje Kazi",howItWorksDesc:"Jukwaa letu linaunganisha maarifa ya jamii na data ya wakati halisi ili kufanya mfumo wa usafiri wa Nairobi uwe wa kuegemea na salama zaidi.",realTimeTracking:"Kufuatilia Njia kwa Wakati Halisi",realTimeTrackingDesc:"Pata masasisho ya moja kwa moja kuhusu maeneo ya matatu, ucheleweshaji, na upatikanaji.",safetyReports:"Ripoti za Usalama",safetyReportsDesc:"Ripoti na ona matukio ya usalama ili kusaidia kuhakikisha kila mtu ana usalama.",reliabilityScores:"Alama za Kuegemea",reliabilityScoresDesc:"Ona ni njia zipi za kuegemea zaidi kulingana na data ya jamii.",communityInsights:"Maarifa ya Jamii",communityInsightsDesc:"Shiriki uzoefu na usaidie wengine kufanya maamuzi ya usafiri yenye misingi.",readyToStart:"Uko Tayari Kuanza?",readyToStartDesc:"Jiunge na maelfu ya wasafiri wa Nairobi ambao tayari wanatumia Smart Matatu kufanya safari zao za kila siku ziwe salama na za kuegemea zaidi.",signUpNow:"Jisajili Sasa",exploreMap:"Chunguza Ramani"},dashboard:{title:"Dashibodi",welcome:"Karibu tena",smartRouteInsights:"Maarifa ya Njia za Akili",weatherConditions:"Hali ya Hewa",favoriteRoutes:"Njia za Kupendeza",recentReports:"Ripoti za Hivi Karibuni",viewAllReports:"Ona Ripoti Zote",noReports:"Hakuna ripoti za hivi karibuni",noFavorites:"Hakuna njia za kupendeza bado",addFavorites:"Ongeza njia kadhaa kwenye vipendeleo vyako ili uwaone hapa",loading:"Inapakia dashibodi...",loadingYourDashboard:"Inapakia dashibodi yako ya kisasa...",errorTitle:"Hitilafu ya Dashibodi",tryAgain:"Jaribu Tena",headerSubtitle:"Hapa kuna maarifa yako ya kibinafsi ya matatu kwa leo",currentWeather:"Hali ya Hewa ya Sasa",humidityLabel:"unyevu",windSpeedLabel:"km/h",activeRoutesTitle:"Njia Zinazotumika",routesMonitored:"Njia zinazofuatiliwa",avgFareTitle:"Kodi ya Wastani",currentAverage:"Wastani wa sasa",overallSafety:"Usalama kwa ujumla",viewAllRoutesBtn:"Ona Njia Zote",aiRecommendations:"Mapendekezo yanayoendeshwa na AI kwa safari yako ya kila siku",noInsights:"Hakuna maarifa ya njia yaliyopo",exploreRoutes:"Chunguza Njia",routeIdLabel:"Kitambulisho cha Njia",crowdSuffix:"msongamano",crowdLow:"Msongamano kidogo",crowdMedium:"Msongamano wastani",crowdHigh:"Msongamano kubwa",predictedFareLabel:"Utabiri wa kodi",safetyScoreLabel:"Alama ya usalama",travelTimeLabel:"Muda wa kusafiri",bestTimeLabel:"Muda bora",routeLabel:"Njia",viewLabel:"Ona",submitReportBtn:"Wasilisha Ripoti",quickActions:"Vitendo vya Haraka",quickViewMap:"Ona Ramani",quickSubmitReport:"Tuma Ripoti",quickViewProfile:"Ona Wasifu",totalRoutes:"Jumla ya Njia",activeReports:"Ripoti Zinazotumika",averageFare:"Kodi ya Wastani",safetyRating:"Kiwango cha Usalama",temperature:"Joto",humidity:"Unyevu",windSpeed:"Kasi ya Upepo",routeName:"Jina la Njia",farePrediction:"Utabiri wa Kodi",safetyScore:"Alama ya Usalama",crowdDensity:"Msongamano wa Watu",travelTime:"Muda wa Kusafiri",recommendedTime:"Muda wa Kupendekezwa",alternativeRoutes:"Njia Mbadala",weatherImpact:"Athari ya Hali ya Hewa",lastUpdated:"Imesasishwa Mwisho",low:"Msongamano Kidogo",medium:"Msongamano Wastani",high:"Msongamano Kubwa",excellent:"Bora Sana",good:"Nzuri",average:"Wastani",poor:"Duni",veryPoor:"Duni Sana"},footer:{description:"Kufanya mfumo wa usafiri wa Nairobi uwe wa kuegemea, salama, na wa kupatikana kwa kila mtu.",quickLinks:"Viungo vya Haraka",services:"Huduma",contact:"Mawasiliano",routePlanning:"Kupanga Njia",safetyReports:"Ripoti za Usalama",realTimeUpdates:"Masasisho ya Wakati Halisi",analytics:"Uchambuzi",privacyPolicy:"Sera ya Faragha",termsOfService:"Masharti ya Huduma",allRightsReserved:"Haki zote zimehifadhiwa."},sacco:{loading:"Inapakia Dashibodi ya SACCO...",title:"Dashibodi ya SACCO",subtitle:"Simamia magari, madereva, na njia zako",date7d:"Siku 7 zilizopita",date30d:"Siku 30 zilizopita",date90d:"Siku 90 zilizopita",refresh:"Sasisha",tabs:{overview:"Muhtasari",routes:"Utendaji wa Njia",drivers:"Usimamizi wa Madereva",feedback:"Maoni ya Wateja",fleet:"Usimamizi wa Magari"},metrics:{activeRoutes:"Njia Zinazotumika",activeDrivers:"Madereva Hai",totalRevenue7d:"Mapato Jumla (7d)",avgRating:"Kiwango cha Wastani"},revenueTooltip:"Makadirio: vifaa vya kipekee vilivyoripoti kwa kila njia katika siku 7 zilizopita  nauli ya njia. Hii ni rejea ya mwongozo, sio mapato yaliyokaguliwa.",fleetStatus:"Hali ya Magari",activeVehicles:"Magari Hai",ofTotal:"kati ya jumla ya {total}",maintenanceDue:"Matengenezo Yanahitajika",vehiclesNeedService:"magari yanahitaji huduma",utilizationRate:"Kiwango cha Matumizi",averageFleetUsage:"matumizi ya wastani ya magari",routePerformance:"Utendaji wa Njia",table:{route:"Njia",efficiency:"Ufanisi",revenue7d:"Mapato (7d)",passengers:"Abiria",onTime:"Kwa Wakati %",safety:"Usalama",trend:"Mwelekeo"},driverPerformance:"Utendaji wa Dereva",driversTable:{driver:"Dereva",safetyScore:"Alama ya Usalama",onTime:"Kwa Wakati %",rating:"Kiwango",incidents:"Matukio",status:"Hali",routes:"Njia"},customerFeedback:"Maoni ya Wateja",filters:{allStatus:"Hali Zote",pending:"Inasubiri",inProgress:"Inaendelea",resolved:"Imetatuliwa"},resolvedInDays:"Imetatuliwa ndani ya siku {days}",fleetOverview:"Muhtasari wa Magari",totalVehicles:"Magari Jumla",averageAge:"Umri wa Wastani",years:"miaka",fleetUtilization:"Matumizi ya Magari"},authority:{title:"Dashibodi ya Mamlaka za Usafiri",subtitle:"Fuatilia utii, matukio, na vipimo vya mfumo",loading:"Inapakia Dashibodi ya Mamlaka...",last7Days:"Siku 7 zilizopita",last30Days:"Siku 30 zilizopita",last90Days:"Siku 90 zilizopita",refresh:"Sasisha",tabs:{compliance:"Utii",incidents:"Matukio",metrics:"Vipimo vya Mfumo",reports:"Ripoti na Uhamishaji",audit:"Kumbukumbu za Ukaguzi",system:"Afya ya Mfumo"},kpiCards:{totalSaccos:"SACCO Jumla",compliantSaccos:"SACCO Zinatii",activeIncidents:"Matukio Hai",systemUptime:"Muda wa Mfumo"},complianceTable:{title:"Hali ya Utii wa SACCO",sacco:"SACCO",licenseStatus:"Hali ya Leseni",safetyScore:"Alama ya Usalama",incidentCount:"Matukio",lastInspection:"Ukaguzi wa Mwisho",violations:"Ukiukaji",status:"Hali"},complianceStatus:{compliant:"Anatii",warning:"Onyo",nonCompliant:"Hatatii",valid:"Halali",expired:"Imeisha",pending:"Inasubiri",unknown:"Haijulikani"},incidentsTable:{title:"Matukio ya Usalama",route:"Njia",type:"Aina",severity:"Ukali",description:"Maelezo",location:"Mahali",reportedAt:"Iliripotiwa",assignedTo:"Imepewa",resolution:"Suluhisho",resolvedAt:"Ilitatuliwa",allSeverity:"Ukali Wote",allStatus:"Hali Zote",low:"Chini",medium:"Wastani",high:"Juu",critical:"Muhimu",reported:"Imeripotiwa",investigating:"Inachunguzwa",resolved:"Imesuluhishwa",closed:"Imezimwa"},systemMetrics:{title:"Vipimo vya Mfumo",totalUsers:"Watumiaji Jumla",activeReports:"Ripoti Hai",totalRoutes:"Njia Jumla",systemUptime:"Muda wa Mfumo",dataQuality:"Ubora wa Data",averageResponseTime:"Muda wa Wastani wa Majibu"},performance:{title:"Utendaji",systemUptime:"Muda wa Mfumo",avgResponseTime:"Muda wa Wastani wa Majibu",dataQuality:"Ubora wa Data"},reports:{title:"Uhamishaji wa Data na Ripoti",complianceReport:{title:"Ripoti ya Utii",description:"Data ya utii wa SACCO"},safetyIncidents:{title:"Matukio ya Usalama",description:"Ripoti na data ya matukio"},systemAnalytics:{title:"Uchambuzi wa Mfumo",description:"Vipimo vya utendaji"},exportCsv:"Hamisha CSV",exportXls:"Hamisha XLS"},auditTable:{title:"Kumbukumbu za Ukaguzi wa Mfumo",action:"Kitendo",user:"Mtumiaji",timestamp:"Wakati",details:"Maelezo",ipAddress:"Anwani ya IP",status:"Hali",success:"Imefanikiwa",failed:"Imeshindwa",warning:"Onyo"},systemHealth:{title:"Afya ya Mfumo",systemUptime:"Muda wa Mfumo",dataQuality:"Ubora wa Data",averageResponseTime:"Muda wa Wastani wa Majibu"},userActivity:{title:"Shughuli za Watumiaji",totalUsers:"Watumiaji Jumla",activeReports:"Ripoti Hai",totalRoutes:"Njia Jumla"}},userManagement:{title:"Usimamizi wa Watumiaji",subtitle:"Simamia watumiaji, majukumu, na ruhusa",loading:"Inapakia Watumiaji...",refresh:"Sasisha",addUser:"Ongeza Mtumiaji",search:"Tafuta",searchPlaceholder:"Tafuta watumiaji...",statusLabel:"Hali",role:"Jukumu",requestedRole:"Jukumu linalohitajika",organization:"Shirika",created:"Imeundwa",tabs:{users:"Watumiaji",roles:"Majukumu"},table:{displayName:"Jina la Maonyesho",email:"Barua Pepe",role:"Jukumu",status:"Hali",actions:"Vitendo"},actions:{editUser:"Hariri Mtumiaji",deleteUser:"Futa Mtumiaji",viewProfile:"Ona Wasifu",approve:"Idhinisha",reject:"Kataa",edit:"Hariri"},status:{active:"Hai",pending:"Inasubiri",suspended:"Imesimamishwa",rejected:"Imekataliwa"},roles:{admin:"Msimamizi",moderator:"Mdhibiti",sacco:"SACCO",authority:"Mamlaka",user:"Mtumiaji"},deleteConfirm:{title:"Thibitisha Kufuta Mtumiaji",message:"Una uhakika unataka kumfuta mtumiaji huyu? Kitendo hiki hakiwezi kurudishwa.",cancel:"Ghairi",delete:"Futa"},messages:{userDeleted:"Mtumiaji amefutwa kwa mafanikio",userUpdated:"Mtumiaji amesasishwa kwa mafanikio",userCreated:"Mtumiaji ameundwa kwa mafanikio",userApproved:"Mtumiaji ameidhinishwa kwa mafanikio",userRejected:"Mtumiaji amekataliwa kwa mafanikio",deleteError:"Imeshindwa kumfuta mtumiaji",updateError:"Imeshindwa kumsasisha mtumiaji",createError:"Imeshindwa kumunda mtumiaji",approveError:"Imeshindwa kumidhinisha mtumiaji",rejectError:"Imeshindwa kumkataa mtumiaji",fetchError:"Imeshindwa kupata watumiaji",loadError:"Imeshindwa kupakia watumiaji"},rejectionReason:"Sababu ya kukataa:",modals:{addUser:{title:"Ongeza Mtumiaji",fullName:"Jina kamili",email:"Barua pepe",password:"Nenosiri la muda",organization:"Shirika (si lazima)",cancel:"Ghairi",create:"Unda"},editUser:{title:"Hariri Mtumiaji",fullName:"Jina kamili",email:"Barua pepe",organization:"Shirika (si lazima)",cancel:"Ghairi",save:"Hifadhi"}},filters:{searchUsers:"Tafuta watumiaji...",filterByRole:"Chuja kwa jukumu",filterByStatus:"Chuja kwa hali",allRoles:"Majukumu Yote",allStatus:"Hali Zote",applyFilters:"Tumia Vichujio",clearFilters:"Futa Vichujio"},noUsers:"Hakuna watumiaji waliopatikana",noUsersMessage:"Jaribu kubadilisha vigezo vya utafutaji au uchujaji."},admin:{title:"Dashibodi ya Msimamizi",subtitle:"Utawala na usimamizi wa mfumo",loading:"Inapakia Dashibodi ya Msimamizi...",stats:{totalRoutes:"Njia Jumla",activeRoutes:"Njia Zinazotumika",totalReports:"Ripoti Jumla",safetyIssues:"Masuala ya Usalama",totalUsers:"Watumiaji Jumla",systemUptime:"Muda wa Mfumo"},seedRoutes:"Panda Njia za CBD Zilizochaguliwa",seeding:"Inapanda",runSeed:"Panda",seedDescription:"Inapanda takriban njia 50 za CBD katika vipande vidogo. Inahitaji kuingia kama msimamizi.",tools:"Vifaa",routeEditor:"Mhariri wa Njia",routeManagement:"Usimamizi wa Njia",addRoute:"Ongeza Njia",addNewRoute:"Ongeza Njia Mpya",routeName:"Jina la Njia",routeNamePlaceholder:"mf., Njia 42 - Barabara ya Thika",description:"Maelezo",descriptionPlaceholder:"Maelezo ya njia",cancel:"Ghairi",route:"Njia",reliability:"Kuegemea",safety:"Usalama",reports:"Ripoti",statusLabel:"Hali",actions:"Vitendo",activate:"Amilisha",deactivate:"Zima",status:{active:"Inatumika",inactive:"Haijatumika",maintenance:"Matengenezo"},quickActions:{title:"Vitendo vya Haraka",addRoute:"Ongeza Njia",manageUsers:"Simamia Watumiaji",viewReports:"Ona Ripoti",systemSettings:"Mipangilio ya Mfumo"},recentActivity:{title:"Shughuli za Hivi Karibuni",noActivity:"Hakuna shughuli za hivi karibuni"}},profile:{title:"Wasifu",subtitle:"Simamia mipangilio ya akaunti yako",loading:"Inapakia Wasifu...",pleaseLogin:"Tafadhali ingia",loginRequired:"Unahitaji kuingia ili kuona wasifu wako.",goToLogin:"Nenda Kuingia",role:"Jukumu",updateError:"Imeshindwa kusasisha wasifu. Tafadhali jaribu tena.",myTripReports:"Ripoti za Safari Zangu",favoriteRoutes:"Njia Zinazopendwa",noFavoriteRoutes:"Hakuna njia zinazopendwa bado",exploreRoutes:"Chunguza Njia",yourAnalytics:"Uchambuzi Wako",totalReports:"Ripoti Jumla",favorites:"Vipendwa",accountInformation:"Maelezo ya Akaunti",accountType:"Aina ya Akaunti",memberSince:"Mwanachama Tangu",noReportsYet:"Hakuna ripoti zilizowasilishwa bado",submitFirstReport:"Wasilisha Ripoti Yako ya Kwanza",thisMonth:"Mwezi Huu",avgRating:"Alama ya Wastani",refresh:"Sasisha",tabs:{personal:"Maelezo ya Kibinafsi",security:"Usalama",reports:"Ripoti Zangu",favorites:"Vipendwa",analytics:"Uchambuzi"},personalInfo:{displayName:"Jina la Maonyesho",email:"Anwani ya Barua Pepe",role:"Jukumu",organization:"Shirika",uploadPhoto:"Pakia Picha",editProfile:"Hariri Wasifu",uploading:"Inapakia...",saveChanges:"Hifadhi Mabadiliko"},security:{changePassword:"Badili Nenosiri",oldPassword:"Nenosiri la Sasa",newPassword:"Nenosiri Jipya",confirmNewPassword:"Thibitisha Nenosiri Jipya",updatePassword:"Sasisha Nenosiri"},messages:{profileUpdated:"Wasifu umesasishwa kwa mafanikio",profileError:"Imeshindwa kusasisha wasifu",passwordUpdated:"Nenosiri limesasishwa kwa mafanikio",passwordError:"Imeshindwa kusasisha nenosiri",passwordMismatch:"Nenosiri halifanani",passwordTooShort:"Nenosiri lazima liwe na angalau herufi 8",currentPasswordIncorrect:"Nenosiri la sasa si sahihi",newPasswordSameAsOld:"Nenosiri jipya lazima litofautiane na la sasa",uploadingImage:"Inapakia picha...",imageUploadError:"Imeshindwa kupakia picha",avatarUpdateError:"Imeshindwa kusasisha wasifu na picha mpya"}}}},Fa={announceChanges:!0,highContrast:!1,reducedMotion:!1,fontSize:"medium",screenReader:!1},be=class be{constructor(){q(this,"announcerElement",null);this.createAnnouncerElement()}static getInstance(){return be.instance||(be.instance=new be),be.instance}createAnnouncerElement(){typeof document<"u"&&(this.announcerElement=document.createElement("div"),this.announcerElement.setAttribute("aria-live","polite"),this.announcerElement.setAttribute("aria-atomic","true"),this.announcerElement.className="sr-only",this.announcerElement.style.cssText=`
        position: absolute;
        left: -10000px;
        width: 1px;
        height: 1px;
        overflow: hidden;
      `,document.body.appendChild(this.announcerElement))}announce(e,a="polite"){this.announcerElement&&(this.announcerElement.setAttribute("aria-live",a),this.announcerElement.textContent=e,setTimeout(()=>{this.announcerElement&&(this.announcerElement.textContent="")},1e3))}};q(be,"instance");let Wt=be;const ve=class ve{constructor(){q(this,"focusHistory",[])}static getInstance(){return ve.instance||(ve.instance=new ve),ve.instance}saveFocus(){const e=document.activeElement;e&&this.focusHistory.push(e)}restoreFocus(){const e=this.focusHistory.pop();e&&e.focus()}clearHistory(){this.focusHistory=[]}focusFirst(e){const a=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');a==null||a.focus()}focusLast(e){const a=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=a[a.length-1];r==null||r.focus()}};q(ve,"instance");let wt=ve;const cn=A.createContext(void 0);function ln({children:t}){const[e,a]=A.useState(Fa),[r,s]=A.useState(!1);A.useEffect(()=>{(()=>{const p=localStorage.getItem("accessibilityConfig");if(p)try{const S=JSON.parse(p);a({...Fa,...S})}catch(S){console.warn("Failed to parse saved accessibility config:",S)}const y=window.matchMedia("(prefers-reduced-motion: reduce)").matches,g=window.matchMedia("(prefers-contrast: high)").matches;a(S=>({...S,reducedMotion:y,highContrast:g})),s(!0)})()},[]),A.useEffect(()=>{if(!r)return;const v=document.documentElement;e.highContrast?v.classList.add("high-contrast"):v.classList.remove("high-contrast"),e.reducedMotion?v.classList.add("reduced-motion"):v.classList.remove("reduced-motion"),v.className=v.className.replace(/font-size-\w+/g,""),v.classList.add(`font-size-${e.fontSize}`),localStorage.setItem("accessibilityConfig",JSON.stringify(e))},[e,r]);const n=v=>{a(p=>({...p,...v}))},i=(v,p="polite")=>{e.announceChanges&&Wt.getInstance().announce(v,p)},b={config:e,updateConfig:n,announce:i,toggleHighContrast:()=>{const v=!e.highContrast;n({highContrast:v}),i(`High contrast mode ${v?"enabled":"disabled"}`)},toggleReducedMotion:()=>{const v=!e.reducedMotion;n({reducedMotion:v}),i(`Reduced motion mode ${v?"enabled":"disabled"}`)},setFontSize:v=>{n({fontSize:v}),i(`Font size set to ${v}`)},saveFocus:()=>{wt.getInstance().saveFocus()},restoreFocus:()=>{wt.getInstance().restoreFocus()}};return o.jsx(cn.Provider,{value:b,children:t})}function Xt(){const{state:t}=at(),e=t.language||"en";return{t:r=>{const s=r.split(".");let n=Ia[e];for(const i of s)if(n&&typeof n=="object"&&i in n)n=n[i];else{n=Ia.en;for(const c of s)if(n&&typeof n=="object"&&c in n)n=n[c];else return r;break}return typeof n=="string"?n:r},language:e}}function un(){const[t,e]=A.useState(!1),a=$t(),{state:r,logout:s,setLanguage:n}=at(),{t:i,language:c}=Xt(),m=[{name:i("navigation.home"),href:"/",icon:Pe},{name:i("navigation.map"),href:"/map",icon:Pe},{name:i("navigation.report"),href:"/report",icon:Qa}],f=r.isAuthenticated?[{name:i("navigation.profile"),href:"/profile",icon:le},{name:i("navigation.logout"),href:"#",icon:Ga,action:s}]:[{name:i("navigation.login"),href:"/login",icon:le}],d=u=>a.pathname===u;return o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",role:"banner",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs(we,{to:"/",className:"flex items-center space-x-2","aria-label":"Smart Matatu - Home",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:o.jsx(Pe,{className:"w-5 h-5 text-white","aria-hidden":"true"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Smart Matatu"})]}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-8",role:"navigation","aria-label":"Main navigation",children:[m.map(u=>{const b=u.icon;return o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-1 ${d(u.href)?"nav-link-active":""}`,"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)}),f.map(u=>{const b=u.icon;return u.action?o.jsxs("button",{onClick:u.action,className:"nav-link flex items-center space-x-1",children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name):o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-1 ${d(u.href)?"nav-link-active":""}`,"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[r.isAuthenticated&&r.user&&o.jsxs("div",{className:"hidden md:block text-sm text-gray-600",children:["Welcome, ",r.user.displayName]}),o.jsx("button",{onClick:()=>n(c==="en"?"sw":"en"),className:"btn btn-ghost btn-sm","aria-label":`Switch to ${c==="en"?"Swahili":"English"}`,children:c==="en"?"EN":"SW"}),o.jsx("button",{onClick:()=>e(!t),className:"md:hidden btn btn-ghost btn-sm","aria-expanded":t,"aria-controls":"mobile-menu","aria-label":t?"Close menu":"Open menu",children:t?o.jsx(Za,{className:"w-5 h-5","aria-hidden":"true"}):o.jsx(Ya,{className:"w-5 h-5","aria-hidden":"true"})})]})]}),t&&o.jsx("div",{id:"mobile-menu",className:"md:hidden border-t border-gray-200",role:"navigation","aria-label":"Mobile navigation",children:o.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[m.map(u=>{const b=u.icon;return o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-2 w-full ${d(u.href)?"nav-link-active":""}`,onClick:()=>e(!1),"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)}),f.map(u=>{const b=u.icon;return u.action?o.jsxs("button",{onClick:()=>{var v;(v=u.action)==null||v.call(u),e(!1)},className:"nav-link flex items-center space-x-2 w-full",children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name):o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-2 w-full ${d(u.href)?"nav-link-active":""}`,onClick:()=>e(!1),"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)})]})})]})})}function dn(){var S,j;const[t,e]=A.useState(!1),a=$t(),{state:r,logout:s,setLanguage:n}=at(),{t:i}=Xt(),c=r.language,m=R=>a.pathname===R,f=()=>{var T;const R=(T=r.user)==null?void 0:T.role,w=[{name:i("navigation.dashboard"),href:"/",icon:Xa},{name:i("navigation.map"),href:"/map",icon:Pe},{name:i("navigation.report"),href:"/report",icon:Qa}];switch(R){case"admin":return[...w,{name:i("navigation.analytics"),href:"/analytics",icon:We},{name:i("navigation.saccoDashboard"),href:"/sacco",icon:ot},{name:i("navigation.authorityDashboard"),href:"/authority",icon:nt},{name:i("navigation.userManagement"),href:"/users",icon:Hr},{name:i("navigation.adminPanel"),href:"/admin",icon:na},{name:i("navigation.profile"),href:"/profile",icon:le}];case"sacco":return[...w,{name:i("navigation.saccoDashboard"),href:"/sacco",icon:ot},{name:i("navigation.analytics"),href:"/analytics",icon:We},{name:i("navigation.profile"),href:"/profile",icon:le}];case"authority":return[...w,{name:i("navigation.authorityDashboard"),href:"/authority",icon:nt},{name:i("navigation.analytics"),href:"/analytics",icon:We},{name:i("navigation.profile"),href:"/profile",icon:le}];case"moderator":return[...w,{name:i("navigation.analytics"),href:"/analytics",icon:We},{name:i("navigation.adminPanel"),href:"/admin",icon:na},{name:i("navigation.profile"),href:"/profile",icon:le}];default:return[...w,{name:i("navigation.analytics"),href:"/analytics",icon:We},{name:i("navigation.profile"),href:"/profile",icon:le}]}},d=()=>{var w;switch((w=r.user)==null?void 0:w.role){case"admin":return[{name:i("navigation.favorites"),href:"/profile?tab=favorites",icon:ct},{name:i("navigation.reports"),href:"/profile?tab=reports",icon:lt},{name:i("navigation.safety"),href:"/profile?tab=safety",icon:ut},{name:i("navigation.predictions"),href:"/analytics",icon:oa},{name:i("navigation.saccoManagement"),href:"/sacco",icon:ot},{name:i("navigation.authorityTools"),href:"/authority",icon:nt}];case"sacco":return[{name:i("navigation.favorites"),href:"/profile?tab=favorites",icon:ct},{name:i("navigation.reports"),href:"/profile?tab=reports",icon:lt},{name:i("navigation.safety"),href:"/profile?tab=safety",icon:ut},{name:i("navigation.fleetManagement"),href:"/sacco",icon:ot}];case"authority":return[{name:i("navigation.favorites"),href:"/profile?tab=favorites",icon:ct},{name:i("navigation.reports"),href:"/profile?tab=reports",icon:lt},{name:i("navigation.safety"),href:"/profile?tab=safety",icon:ut},{name:i("navigation.compliance"),href:"/authority",icon:nt}];default:return[{name:i("navigation.favorites"),href:"/profile?tab=favorites",icon:ct},{name:i("navigation.reports"),href:"/profile?tab=reports",icon:lt},{name:i("navigation.safety"),href:"/profile?tab=safety",icon:ut},{name:i("navigation.predictions"),href:"/analytics",icon:oa}]}},u=()=>{var w;switch((w=r.user)==null?void 0:w.role){case"admin":return"Administrator";case"sacco":return"SACCO Manager";case"authority":return"Transport Authority";case"moderator":return"Moderator";default:return"User"}},b=()=>{var w;switch((w=r.user)==null?void 0:w.role){case"admin":return"bg-purple-100 text-purple-800";case"sacco":return"bg-blue-100 text-blue-800";case"authority":return"bg-red-100 text-red-800";case"moderator":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=f(),p=d(),y=()=>{e(!t)},g=()=>{s(),e(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:y,className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-label":"Open sidebar",children:o.jsx(Ya,{className:"h-6 w-6"})}),o.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${t?"translate-x-0":"-translate-x-full"}`,children:[o.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_r,{className:"h-8 w-8 text-blue-600"}),o.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:c==="sw"?"Matatu Smart":"Smart Matatu"})]}),o.jsx("button",{onClick:y,className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:o.jsx(Za,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(le,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((S=r.user)==null?void 0:S.displayName)||"User"}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:((j=r.user)==null?void 0:j.email)||"user@example.com"}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b()}`,children:u()})]})]})}),o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Language:"}),o.jsx("button",{onClick:()=>n(c==="en"?"sw":"en"),className:"px-3 py-1 text-xs font-medium rounded-md bg-blue-100 text-blue-800 hover:bg-blue-200",children:c==="en"?"EN":"SW"})]})}),o.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:[o.jsx("div",{className:"space-y-1",children:v.map(R=>o.jsxs(we,{to:R.href,onClick:()=>e(!1),className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${m(R.href)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx(R.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),R.name]},R.name))}),o.jsxs("div",{className:"pt-4",children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:i("navigation.quickActions")}),o.jsx("div",{className:"mt-2 space-y-1",children:p.map(R=>o.jsxs(we,{to:R.href,onClick:()=>e(!1),className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[o.jsx(R.icon,{className:"mr-3 h-4 w-4 flex-shrink-0"}),R.name]},R.name))})]})]}),o.jsx("div",{className:"p-4 border-t border-gray-200",children:o.jsxs("button",{onClick:g,className:"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[o.jsx(Ga,{className:"mr-3 h-5 w-5 flex-shrink-0"}),c==="sw"?"Ondoka":"Logout"]})})]})]}),t&&o.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:y})]})}function Da(){const{t}=Xt();return o.jsx("footer",{className:"bg-gray-900 text-white",role:"contentinfo",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:o.jsx(Pe,{className:"w-5 h-5 text-white","aria-hidden":"true"})}),o.jsx("span",{className:"text-xl font-bold",children:"Smart Matatu"})]}),o.jsx("p",{className:"text-gray-400 text-sm",children:t("footer.description")}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Visit our website",children:o.jsx(qr,{className:"w-5 h-5","aria-hidden":"true"})}),o.jsx("a",{href:"mailto:contact@smart-matatu.ke",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Send us an email",children:o.jsx(ca,{className:"w-5 h-5","aria-hidden":"true"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("footer.quickLinks")}),o.jsx("nav",{"aria-label":"Footer navigation",children:o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"/",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.home")})}),o.jsx("li",{children:o.jsx("a",{href:"/map",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.map")})}),o.jsx("li",{children:o.jsx("a",{href:"/report",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.report")})}),o.jsx("li",{children:o.jsx("a",{href:"/login",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.login")})})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("footer.services")}),o.jsx("nav",{"aria-label":"Services navigation",children:o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.routePlanning")})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.safetyReports")})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.realTimeUpdates")})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.analytics")})})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("footer.contact")}),o.jsx("address",{className:"not-italic",children:o.jsxs("ul",{className:"space-y-2",children:[o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Pe,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}),o.jsx("span",{className:"text-gray-400",children:"Western Heights, Muthithi Rd, Westlands"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(ca,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}),o.jsx("button",{onClick:()=>{window.location.href="mailto:contact@smart-matatu.ke?subject=Smart Matatu Inquiry&body=Hello, I would like to get in touch regarding Smart Matatu services."},className:"text-gray-400 hover:text-white transition-colors text-left",children:"contact@smart-matatu.ke"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Br,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}),o.jsx("button",{onClick:()=>window.open("tel:+254763612953","_blank"),className:"text-gray-400 hover:text-white transition-colors text-left",children:"+254 763 612 953"})]})]})})]})]}),o.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs("p",{className:"text-gray-400 text-sm",children:[" 2024 Smart Matatu. ",t("footer.allRightsReserved")]}),o.jsxs("nav",{className:"flex space-x-6 mt-4 md:mt-0","aria-label":"Legal links",children:[o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:t("footer.privacyPolicy")}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:t("footer.termsOfService")})]})]})})]})})}function bt({size:t="md",text:e,className:a=""}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return o.jsxs("div",{className:`flex flex-col items-center justify-center ${a}`,children:[o.jsx("div",{className:`loading-spinner ${r[t]}`}),e&&o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e})]})}function hn({children:t}){const{state:e}=at();return e.isLoading?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(bt,{}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading Smart Matatu..."})]})}):e.isAuthenticated?o.jsxs("div",{className:"min-h-screen flex",children:[o.jsx(dn,{}),o.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[o.jsx("main",{className:"flex-1",children:t}),o.jsx(Da,{})]})]}):o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(un,{}),o.jsx("main",{className:"flex-1",children:t}),o.jsx(Da,{})]})}const Re=class Re{constructor(){q(this,"errors",[]);q(this,"maxErrors",100)}static getInstance(){return Re.instance||(Re.instance=new Re),Re.instance}logError(e,a,r){const s={code:this.generateErrorCode(e),message:e.message,details:{...r,stack:e.stack,errorInfo:a},timestamp:new Date().toISOString(),userId:this.getCurrentUserId(),sessionId:this.getSessionId(),url:window.location.href,userAgent:navigator.userAgent};this.errors.push(s),this.errors.length>this.maxErrors&&(this.errors=this.errors.slice(-this.maxErrors)),this.sendToErrorService(s)}getErrors(){return[...this.errors]}clearErrors(){this.errors=[]}generateErrorCode(e){const a=e.constructor.name,r=this.hashString(e.message);return`${a}-${r}`}hashString(e){let a=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);a=(a<<5)-a+s,a=a&a}return Math.abs(a).toString(36)}getCurrentUserId(){try{const e=localStorage.getItem("user");return e?JSON.parse(e)._id:void 0}catch{return}}getSessionId(){let e=sessionStorage.getItem("sessionId");return e||(e=this.generateSessionId(),sessionStorage.setItem("sessionId",e)),e}generateSessionId(){return Math.random().toString(36).substr(2,9)+Date.now().toString(36)}async sendToErrorService(e){try{console.log("Sending error to service:",e)}catch(a){console.error("Failed to send error to service:",a)}}};q(Re,"instance");let vt=Re;const I={NETWORK:"NETWORK_ERROR",VALIDATION:"VALIDATION_ERROR",AUTHENTICATION:"AUTHENTICATION_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",NOT_FOUND:"NOT_FOUND_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},La={[I.NETWORK]:"Network connection failed. Please check your internet connection.",[I.VALIDATION]:"Please check your input and try again.",[I.AUTHENTICATION]:"Please log in to continue.",[I.AUTHORIZATION]:"You do not have permission to perform this action.",[I.NOT_FOUND]:"The requested resource was not found.",[I.SERVER]:"Server error occurred. Please try again later.",[I.CLIENT]:"An error occurred. Please refresh the page.",[I.UNKNOWN]:"An unexpected error occurred. Please try again."};function fn(t){var e,a,r;if((e=t==null?void 0:t.response)!=null&&e.status){const s=t.response.status;if(s>=500)return I.SERVER;if(s===404)return I.NOT_FOUND;if(s===401)return I.AUTHENTICATION;if(s===403)return I.AUTHORIZATION;if(s>=400)return I.CLIENT}return(t==null?void 0:t.code)==="NETWORK_ERROR"||(a=t==null?void 0:t.message)!=null&&a.includes("Network Error")?I.NETWORK:(t==null?void 0:t.name)==="ValidationError"||(r=t==null?void 0:t.message)!=null&&r.includes("validation")?I.VALIDATION:I.UNKNOWN}function mn(t){const e=fn(t);return La[e]||La[I.UNKNOWN]}function pn(){const t=vt.getInstance();window.addEventListener("unhandledrejection",e=>{t.logError(new Error(e.reason),null,{type:"unhandledrejection",reason:e.reason})}),window.addEventListener("error",e=>{t.logError(e.error||new Error(e.message),null,{type:"uncaught",filename:e.filename,lineno:e.lineno,colno:e.colno})})}class yn extends A.Component{constructor(a){super(a);q(this,"maxRetries",3);q(this,"handleRetry",()=>{this.state.retryCount<this.maxRetries?this.setState(a=>({hasError:!1,error:null,errorInfo:null,retryCount:a.retryCount+1})):this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0})});q(this,"handleGoHome",()=>{window.location.href="/"});q(this,"handleReportError",()=>{const{error:a,errorInfo:r}=this.state;a&&(console.log("Reporting error:",{error:a,errorInfo:r}),alert("Error reported. Thank you for helping us improve!"))});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){vt.getInstance().logError(a,r,{component:"EnhancedErrorBoundary",retryCount:this.state.retryCount}),this.setState({error:a,errorInfo:r}),this.props.onError&&this.props.onError(a,r)}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:a}=this.state,r=a?mn(a):"An unexpected error occurred",s=this.state.retryCount<this.maxRetries;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:o.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:o.jsx(Kr,{className:"h-6 w-6 text-red-600"})}),o.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:r}),o.jsxs("div",{className:"space-y-3",children:[s&&o.jsxs("button",{onClick:this.handleRetry,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[o.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Try Again"]}),o.jsxs("button",{onClick:this.handleGoHome,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[o.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Go Home"]}),o.jsxs("button",{onClick:this.handleReportError,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[o.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Report Error"]})]}),this.props.showDetails&&this.state.error&&o.jsxs("details",{className:"mt-6 text-left",children:[o.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"Technical Details"}),o.jsxs("div",{className:"mt-2 p-3 bg-gray-100 rounded-md text-xs font-mono text-gray-700 overflow-auto max-h-32",children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("strong",{children:"Error:"})," ",this.state.error.message]}),this.state.error.stack&&o.jsxs("div",{children:[o.jsx("strong",{children:"Stack:"}),o.jsx("pre",{className:"whitespace-pre-wrap mt-1",children:this.state.error.stack})]})]})]}),o.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Retry attempt: ",this.state.retryCount+1," of ",this.maxRetries+1]})]})})})}return this.props.children}}function ge({children:t,allowedRoles:e=[],requireAuth:a=!0}){var n;const{state:r}=at(),s=$t();if(r.isLoading)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(bt,{}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})});if(!r.isLoading&&r.isAuthenticated===void 0)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(bt,{}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})});if(a&&!r.isAuthenticated)return o.jsx(ia,{to:"/login",state:{from:s},replace:!0});if(a&&e.length>0&&((n=r.user)!=null&&n.role)&&!e.includes(r.user.role)){const i=gn(r.user.role);return o.jsx(ia,{to:i,replace:!0})}return o.jsx(o.Fragment,{children:t})}function gn(t){switch(t){case"admin":return"/admin";case"sacco":return"/sacco";case"authority":return"/authority";case"moderator":return"/admin";default:return"/"}}const wn=A.lazy(()=>W(()=>import("./HomePage-mxsMXR5G.js"),__vite__mapDeps([0,1,2,3]))),bn=A.lazy(()=>W(()=>import("./MapView-BnbcWrBp.js"),__vite__mapDeps([4,1,5,3,2,6]))),vn=A.lazy(()=>W(()=>import("./ReportForm-BssJyctY.js"),__vite__mapDeps([7,1,2,3]))),Rn=A.lazy(()=>W(()=>import("./Login-BsHBQf00.js"),__vite__mapDeps([8,1,2,3]))),Sn=A.lazy(()=>W(()=>import("./Signup-CxcUcevz.js"),__vite__mapDeps([9,1,2,3]))),xn=A.lazy(()=>W(()=>import("./Profile-7x7nMTIZ.js"),__vite__mapDeps([10,1,2,3]))),En=A.lazy(()=>W(()=>import("./Admin-BX9rkjMG.js"),__vite__mapDeps([11,1,2,3]))),jn=A.lazy(()=>W(()=>import("./AnalyticsDashboard-DbDDXM3w.js"),__vite__mapDeps([12,1,3,2]))),kn=A.lazy(()=>W(()=>import("./SaccoDashboard-DaJNgprR.js"),__vite__mapDeps([13,1,3,2]))),An=A.lazy(()=>W(()=>import("./AuthorityDashboard-MA41cdQS.js"),__vite__mapDeps([14,1,3,2]))),Tn=A.lazy(()=>W(()=>import("./UserManagement-DOlMPiiZ.js"),__vite__mapDeps([15,1,3,2]))),Nn=A.lazy(()=>W(()=>import("./RouteEditor-dfiZ52EL.js"),__vite__mapDeps([16,1,5,3,2])));function Cn(){return Ja.useEffect(()=>{pn()},[]),o.jsx(yn,{showDetails:!1,children:o.jsx(ln,{children:o.jsx(on,{children:o.jsx(hn,{children:o.jsx(A.Suspense,{fallback:o.jsx(bt,{}),children:o.jsxs(Lr,{children:[o.jsx(B,{path:"/",element:o.jsx(wn,{})}),o.jsx(B,{path:"/map",element:o.jsx(bn,{})}),o.jsx(B,{path:"/report",element:o.jsx(vn,{})}),o.jsx(B,{path:"/login",element:o.jsx(Rn,{})}),o.jsx(B,{path:"/signup",element:o.jsx(Sn,{})}),o.jsx(B,{path:"/profile",element:o.jsx(ge,{requireAuth:!0,children:o.jsx(xn,{})})}),o.jsx(B,{path:"/analytics",element:o.jsx(ge,{requireAuth:!0,children:o.jsx(jn,{})})}),o.jsx(B,{path:"/admin",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["admin","moderator"],children:o.jsx(En,{})})}),o.jsx(B,{path:"/users",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["admin"],children:o.jsx(Tn,{})})}),o.jsx(B,{path:"/admin/routes",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["admin"],children:o.jsx(Nn,{})})}),o.jsx(B,{path:"/sacco",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["sacco","admin"],children:o.jsx(kn,{})})}),o.jsx(B,{path:"/authority",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["authority","admin"],children:o.jsx(An,{})})})]})})})})})})}const On=new Es({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});It.createRoot(document.getElementById("root")).render(o.jsx(Ja.StrictMode,{children:o.jsx(ks,{client:On,children:o.jsx(zr,{children:o.jsx(Cn,{})})})}));export{bt as L,Mt as a,at as b,o as j,Xt as u};
//# sourceMappingURL=index-DYoPkzMu.js.map
