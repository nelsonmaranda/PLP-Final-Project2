{"version":3,"file":"AuthorityDashboard-bn-Yu4k4.js","sources":["../../src/screens/AuthorityDashboard.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { \r\n  Shield, \r\n  AlertTriangle, \r\n  FileText, \r\n  Download, \r\n  Users, \r\n  CheckCircle,\r\n  TrendingUp,\r\n  BarChart3,\r\n  RefreshCw,\r\n  Eye,\r\n  Settings\r\n} from 'lucide-react'\r\nimport apiService from '../services/api'\r\nimport { useTranslation } from '../hooks/useTranslation'\r\n\r\ninterface ComplianceData {\r\n  saccoId: string\r\n  saccoName: string\r\n  licenseStatus: 'valid' | 'expired' | 'pending'\r\n  safetyScore: number\r\n  incidentCount: number\r\n  lastInspection: string\r\n  violations: number\r\n  status: 'compliant' | 'warning' | 'non-compliant'\r\n}\r\n\r\ninterface SafetyIncident {\r\n  id: string\r\n  routeId: string\r\n  routeName: string\r\n  saccoName: string\r\n  type: 'accident' | 'breakdown' | 'overcrowding' | 'speeding' | 'other'\r\n  severity: 'low' | 'medium' | 'high' | 'critical'\r\n  description: string\r\n  location: string\r\n  reportedAt: string\r\n  status: 'reported' | 'investigating' | 'resolved' | 'closed'\r\n  assignedTo?: string\r\n  resolution?: string\r\n  resolvedAt?: string\r\n}\r\n\r\ninterface SystemMetrics {\r\n  totalUsers: number\r\n  activeReports: number\r\n  totalRoutes: number\r\n  systemUptime: number\r\n  dataQuality: number\r\n  averageResponseTime: number\r\n}\r\n\r\ninterface AuditLog {\r\n  id: string\r\n  action: string\r\n  user: string\r\n  timestamp: string\r\n  details: string\r\n  ipAddress: string\r\n  status: 'success' | 'failed' | 'warning'\r\n}\r\n\r\nexport default function AuthorityDashboard() {\r\n  const { t } = useTranslation()\r\n  const [activeTab, setActiveTab] = useState('overview')\r\n  const [loading, setLoading] = useState(true)\r\n  const [complianceData, setComplianceData] = useState<ComplianceData[]>([])\r\n  const [safetyIncidents, setSafetyIncidents] = useState<SafetyIncident[]>([])\r\n  const [systemMetrics, setSystemMetrics] = useState<SystemMetrics | null>(null)\r\n  const [auditLogs, setAuditLogs] = useState<AuditLog[]>([])\r\n  const [dateRange, setDateRange] = useState('30d')\r\n  const [filterSeverity, setFilterSeverity] = useState('all')\r\n  const [filterStatus, setFilterStatus] = useState('all')\r\n\r\n  useEffect(() => {\r\n    loadDashboardData()\r\n  }, [dateRange, filterSeverity, filterStatus])\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setLoading(true)\r\n\r\n      const response = await apiService.getAuthorityDashboard()\r\n      if (response.success && response.data) {\r\n        const { complianceData, safetyIncidents, systemMetrics, auditLogs } = response.data\r\n        setComplianceData(complianceData || [])\r\n        setSafetyIncidents(safetyIncidents || [])\r\n        setSystemMetrics(systemMetrics || null)\r\n        setAuditLogs(auditLogs || [])\r\n      } else {\r\n        setComplianceData([])\r\n        setSafetyIncidents([])\r\n        setSystemMetrics(null)\r\n        setAuditLogs([])\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error loading dashboard data:', error)\r\n      setComplianceData([])\r\n      setSafetyIncidents([])\r\n      setSystemMetrics(null)\r\n      setAuditLogs([])\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'compliant': return 'text-green-600 bg-green-100'\r\n      case 'warning': return 'text-yellow-600 bg-yellow-100'\r\n      case 'non-compliant': return 'text-red-600 bg-red-100'\r\n      case 'valid': return 'text-green-600 bg-green-100'\r\n      case 'expired': return 'text-red-600 bg-red-100'\r\n      case 'pending': return 'text-yellow-600 bg-yellow-100'\r\n      case 'reported': return 'text-blue-600 bg-blue-100'\r\n      case 'investigating': return 'text-yellow-600 bg-yellow-100'\r\n      case 'resolved': return 'text-green-600 bg-green-100'\r\n      case 'closed': return 'text-gray-600 bg-gray-100'\r\n      case 'success': return 'text-green-600 bg-green-100'\r\n      case 'failed': return 'text-red-600 bg-red-100'\r\n      case 'warning': return 'text-yellow-600 bg-yellow-100'\r\n      default: return 'text-gray-600 bg-gray-100'\r\n    }\r\n  }\r\n\r\n  const getSeverityColor = (severity: string) => {\r\n    switch (severity) {\r\n      case 'low': return 'text-green-600 bg-green-100'\r\n      case 'medium': return 'text-yellow-600 bg-yellow-100'\r\n      case 'high': return 'text-orange-600 bg-orange-100'\r\n      case 'critical': return 'text-red-600 bg-red-100'\r\n      default: return 'text-gray-600 bg-gray-100'\r\n    }\r\n  }\r\n\r\n  const exportData = async (type: 'compliance' | 'incidents' | 'analytics', format: 'csv' | 'xls') => {\r\n    const base = 'https://us-central1-smart-matwana-ke.cloudfunctions.net/api'\r\n    const endpoint = type === 'compliance' ? '/export/compliance'\r\n      : type === 'incidents' ? '/export/incidents'\r\n      : '/export/system'\r\n    const url = `${base}${endpoint}?format=${format}`\r\n    const link = document.createElement('a')\r\n    link.href = url\r\n    link.download = `${type}-${new Date().toISOString().split('T')[0]}.${format}`\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600\" />\r\n          <p className=\"text-gray-600\">{t('authority.loading')}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">{t('authority.title')}</h1>\r\n              <p className=\"text-gray-600 mt-1\">{t('authority.subtitle')}</p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <select\r\n                value={dateRange}\r\n                onChange={(e) => setDateRange(e.target.value)}\r\n                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\r\n              >\r\n                <option value=\"7d\">Last 7 days</option>\r\n                <option value=\"30d\">Last 30 days</option>\r\n                <option value=\"90d\">Last 90 days</option>\r\n              </select>\r\n              <button\r\n                onClick={loadDashboardData}\r\n                className=\"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" />\r\n                <span>Refresh</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex space-x-8\">\r\n            {[\r\n              { id: 'overview', name: t('authority.tabs.metrics'), icon: BarChart3 },\r\n              { id: 'compliance', name: t('authority.tabs.compliance'), icon: Shield },\r\n              { id: 'incidents', name: t('authority.tabs.incidents'), icon: AlertTriangle },\r\n              { id: 'reports', name: t('authority.tabs.reports'), icon: FileText },\r\n              { id: 'audit', name: t('authority.tabs.audit'), icon: Eye },\r\n              { id: 'system', name: t('authority.tabs.system'), icon: Settings }\r\n            ].map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${\r\n                  activeTab === tab.id\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <tab.icon className=\"w-4 h-4\" />\r\n                <span>{tab.name}</span>\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {activeTab === 'overview' && (\r\n          <div className=\"space-y-6\">\r\n            {/* Key Metrics */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                    <Users className=\"w-6 h-6 text-blue-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">Total SACCOs</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">{complianceData.length}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                    <CheckCircle className=\"w-6 h-6 text-green-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">Compliant SACCOs</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {complianceData.filter(s => s.status === 'compliant').length}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n                    <AlertTriangle className=\"w-6 h-6 text-yellow-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">Active Incidents</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {safetyIncidents.filter(i => i.status !== 'resolved' && i.status !== 'closed').length}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                    <TrendingUp className=\"w-6 h-6 text-purple-600\" />\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <p className=\"text-sm font-medium text-gray-600\">System Uptime</p>\r\n                    <p className=\"text-2xl font-bold text-gray-900\">\r\n                      {systemMetrics?.systemUptime}%\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* System Health */}\r\n            {systemMetrics && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">System Metrics</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Total Users</span>\r\n                      <span className=\"text-lg font-semibold\">{systemMetrics.totalUsers.toLocaleString()}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Active Reports</span>\r\n                      <span className=\"text-lg font-semibold text-blue-600\">{systemMetrics.activeReports}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Total Routes</span>\r\n                      <span className=\"text-lg font-semibold\">{systemMetrics.totalRoutes}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Data Quality</span>\r\n                      <span className=\"text-lg font-semibold text-green-600\">{systemMetrics.dataQuality}%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">System Uptime</span>\r\n                      <span className=\"text-lg font-semibold text-green-600\">{systemMetrics.systemUptime}%</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Avg Response Time</span>\r\n                      <span className=\"text-lg font-semibold\">{systemMetrics.averageResponseTime}s</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span className=\"text-sm text-gray-600\">Data Quality</span>\r\n                      <span className=\"text-lg font-semibold text-green-600\">{systemMetrics.dataQuality}%</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'compliance' && (\r\n          <div className=\"bg-white rounded-lg shadow\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">SACCO Compliance Status</h3>\r\n            </div>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">SACCO</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">License Status</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Safety Score</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Incidents</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Violations</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Last Inspection</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {complianceData.map((sacco) => (\r\n                    <tr key={sacco.saccoId}>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm font-medium text-gray-900\">{sacco.saccoName}</div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(sacco.licenseStatus)}`}>\r\n                          {sacco.licenseStatus}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\r\n                            <div \r\n                              className=\"bg-green-600 h-2 rounded-full\" \r\n                              style={{ width: `${sacco.safetyScore}%` }}\r\n                            ></div>\r\n                          </div>\r\n                          <span className=\"text-sm text-gray-900\">{sacco.safetyScore}%</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {sacco.incidentCount}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {sacco.violations}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {new Date(sacco.lastInspection).toLocaleDateString()}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(sacco.status)}`}>\r\n                          {sacco.status}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'incidents' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg shadow\">\r\n              <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Safety Incidents</h3>\r\n                  <div className=\"flex space-x-4\">\r\n                    <select\r\n                      value={filterSeverity}\r\n                      onChange={(e) => setFilterSeverity(e.target.value)}\r\n                      className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\r\n                    >\r\n                      <option value=\"all\">All Severity</option>\r\n                      <option value=\"low\">Low</option>\r\n                      <option value=\"medium\">Medium</option>\r\n                      <option value=\"high\">High</option>\r\n                      <option value=\"critical\">Critical</option>\r\n                    </select>\r\n                    <select\r\n                      value={filterStatus}\r\n                      onChange={(e) => setFilterStatus(e.target.value)}\r\n                      className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\r\n                    >\r\n                      <option value=\"all\">All Status</option>\r\n                      <option value=\"reported\">Reported</option>\r\n                      <option value=\"investigating\">Investigating</option>\r\n                      <option value=\"resolved\">Resolved</option>\r\n                      <option value=\"closed\">Closed</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"divide-y divide-gray-200\">\r\n                {safetyIncidents\r\n                  .filter(incident => \r\n                    (filterSeverity === 'all' || incident.severity === filterSeverity) &&\r\n                    (filterStatus === 'all' || incident.status === filterStatus)\r\n                  )\r\n                  .map((incident) => (\r\n                    <div key={incident.id} className=\"p-6\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center space-x-2 mb-2\">\r\n                            <h4 className=\"text-sm font-medium text-gray-900\">{incident.routeName}</h4>\r\n                            <span className=\"text-sm text-gray-500\">•</span>\r\n                            <span className=\"text-sm text-gray-500\">{incident.saccoName}</span>\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-600 mb-2\">{incident.description}</p>\r\n                          <div className=\"flex items-center space-x-4 text-xs text-gray-500\">\r\n                            <span className=\"capitalize\">{incident.type}</span>\r\n                            <span>•</span>\r\n                            <span>{incident.location}</span>\r\n                            <span>•</span>\r\n                            <span>{new Date(incident.reportedAt).toLocaleDateString()}</span>\r\n                            {incident.assignedTo && (\r\n                              <>\r\n                                <span>•</span>\r\n                                <span>Assigned to: {incident.assignedTo}</span>\r\n                              </>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col items-end space-y-2\">\r\n                          <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getSeverityColor(incident.severity)}`}>\r\n                            {incident.severity}\r\n                          </span>\r\n                          <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(incident.status)}`}>\r\n                            {incident.status}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'reports' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white p-6 rounded-lg shadow\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Data Export & Reports</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                <div className=\"border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center space-x-3 mb-3\">\r\n                    <Shield className=\"w-8 h-8 text-blue-600\" />\r\n                    <div>\r\n                      <h4 className=\"font-medium text-gray-900\">Compliance Report</h4>\r\n                      <p className=\"text-sm text-gray-500\">SACCO compliance data</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-2\">\r\n                    <button onClick={() => exportData('compliance','csv')} className=\"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                      <span>Export CSV</span>\r\n                    </button>\r\n                    <button onClick={() => exportData('compliance','xls')} className=\"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                      <span>Export XLS</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center space-x-3 mb-3\">\r\n                    <AlertTriangle className=\"w-8 h-8 text-red-600\" />\r\n                    <div>\r\n                      <h4 className=\"font-medium text-gray-900\">Safety Incidents</h4>\r\n                      <p className=\"text-sm text-gray-500\">Incident reports and data</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-2\">\r\n                    <button onClick={() => exportData('incidents','csv')} className=\"w-full flex items-center justify-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                      <span>Export CSV</span>\r\n                    </button>\r\n                    <button onClick={() => exportData('incidents','xls')} className=\"w-full flex items-center justify-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                      <span>Export XLS</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"border border-gray-200 rounded-lg p-4\">\r\n                  <div className=\"flex items-center space-x-3 mb-3\">\r\n                    <BarChart3 className=\"w-8 h-8 text-green-600\" />\r\n                    <div>\r\n                      <h4 className=\"font-medium text-gray-900\">System Analytics</h4>\r\n                      <p className=\"text-sm text-gray-500\">Performance metrics</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-2\">\r\n                    <button onClick={() => exportData('analytics','csv')} className=\"w-full flex items-center justify-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                      <span>Export CSV</span>\r\n                    </button>\r\n                    <button onClick={() => exportData('analytics','xls')} className=\"w-full flex items-center justify-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700\">\r\n                      <Download className=\"w-4 h-4\" />\r\n                      <span>Export XLS</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'audit' && (\r\n          <div className=\"bg-white rounded-lg shadow\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">System Audit Logs</h3>\r\n            </div>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Timestamp</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Details</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">IP Address</th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {auditLogs.map((log) => (\r\n                    <tr key={log.id}>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                        {log.action}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {log.user}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {new Date(log.timestamp).toLocaleString()}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-sm text-gray-500\">\r\n                        {log.details}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {log.ipAddress}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(log.status)}`}>\r\n                          {log.status}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'system' && systemMetrics && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">System Health</h3>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-gray-600\">System Uptime</span>\r\n                    <span className=\"text-lg font-semibold text-green-600\">{systemMetrics.systemUptime}%</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-gray-600\">Data Quality</span>\r\n                    <span className=\"text-lg font-semibold text-green-600\">{systemMetrics.dataQuality}%</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-gray-600\">Average Response Time</span>\r\n                    <span className=\"text-lg font-semibold\">{systemMetrics.averageResponseTime}s</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">User Activity</h3>\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-gray-600\">Total Users</span>\r\n                    <span className=\"text-lg font-semibold\">{systemMetrics.totalUsers.toLocaleString()}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-gray-600\">Active Reports</span>\r\n                    <span className=\"text-lg font-semibold text-blue-600\">{systemMetrics.activeReports}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-sm text-gray-600\">Total Routes</span>\r\n                    <span className=\"text-lg font-semibold\">{systemMetrics.totalRoutes}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["AuthorityDashboard","t","useTranslation","activeTab","setActiveTab","useState","loading","setLoading","complianceData","setComplianceData","safetyIncidents","setSafetyIncidents","systemMetrics","setSystemMetrics","auditLogs","setAuditLogs","dateRange","setDateRange","filterSeverity","setFilterSeverity","filterStatus","setFilterStatus","useEffect","loadDashboardData","response","apiService","error","getStatusColor","status","getSeverityColor","severity","exportData","type","format","url","link","jsxs","jsx","RefreshCw","e","BarChart3","Shield","AlertTriangle","FileText","Eye","Settings","tab","Users","CheckCircle","i","TrendingUp","sacco","incident","Fragment","Download","log"],"mappings":"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"}