import{u as j,j as e,a as w}from"./index-DJcsNwFI.js";import{r as a}from"./vendor-BKU87Gzz.js";import{u as N,b,L as v}from"./router-BF-yxxER.js";import{u as y,t as P,p as S,w as k}from"./icons-l6XdvyrE.js";function q(){const{t:s}=j(),m=N(),x=b(),[n,u]=a.useState(""),[o,h]=a.useState(""),[c,l]=a.useState("idle"),[d,i]=a.useState(""),[g,p]=a.useState("");a.useEffect(()=>{const r=new URLSearchParams(m.search).get("token")||"";p(r)},[m.search]);const f=async t=>{if(t.preventDefault(),n.length<8||n!==o){l("error"),i("Passwords must match and be at least 8 characters.");return}l("sending"),i("");try{await w.resetPassword(g,n),l("success"),i("Password reset successfully. Redirecting to loginâ€¦"),setTimeout(()=>x("/login"),1500)}catch(r){l("error"),i((r==null?void 0:r.message)||"Failed to reset password. Try requesting a new link.")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"w-6 h-6 text-white"})})}),e.jsx("h1",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:s("auth.resetPasswordTitle")}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:s("auth.resetPasswordSubtitle")})]}),e.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[c==="success"&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"h-5 w-5 text-green-500"}),e.jsx("p",{className:"ml-2 text-sm text-green-800",children:d})]})}),c==="error"&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-5 w-5 text-red-500"}),e.jsx("p",{className:"ml-2 text-sm text-red-800",children:d})]})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"password",children:s("auth.password")}),e.jsx("input",{id:"password",type:"password",className:"form-input",value:n,onChange:t=>u(t.target.value),minLength:8,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"confirm",children:s("auth.confirmPassword")}),e.jsx("input",{id:"confirm",type:"password",className:"form-input",value:o,onChange:t=>h(t.target.value),minLength:8,required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:c==="sending",children:s(c==="sending"?"auth.resetting":"auth.resetPassword")})]})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(v,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Back to login"]})})]})]})}export{q as default};
//# sourceMappingURL=ResetPassword-C_Yelw6N.js.map
