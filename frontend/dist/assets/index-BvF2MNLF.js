const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-CNZpBuAS.js","assets/vendor-BKU87Gzz.js","assets/router-Z6rqMkFf.js","assets/icons-laTIaZ17.js","assets/MapView-BTIFuZ1y.js","assets/leaflet-C--L-ZsF.js","assets/MapView-Dgihpmma.css","assets/ReportForm-Dka6vFK1.js","assets/Login-RA81K7Wi.js","assets/Signup-qKNBjdtI.js","assets/Profile-CzZsEpnR.js","assets/Admin-8F3B6SkF.js","assets/AnalyticsDashboard-CGcZMEr1.js","assets/SaccoDashboard-DKVCxyFy.js","assets/AuthorityDashboard-BddmhUM9.js","assets/UserManagement-DVD4_2JK.js","assets/RouteEditor-C6CVHWas.js"])))=>i.map(i=>d[i]);
var Is=Object.defineProperty;var ra=t=>{throw TypeError(t)};var Ds=(t,e,a)=>e in t?Is(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var q=(t,e,a)=>Ds(t,typeof e!="symbol"?e+"":e,a),Ct=(t,e,a)=>e.has(t)||ra("Cannot "+a);var h=(t,e,a)=>(Ct(t,e,"read from private field"),a?a.call(t):e.get(t)),k=(t,e,a)=>e.has(t)?ra("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),R=(t,e,a,s)=>(Ct(t,e,"write to private field"),s?s.call(t,a):e.set(t,a),a),D=(t,e,a)=>(Ct(t,e,"access private method"),a);var it=(t,e,a,s)=>({set _(r){R(t,e,r,a)},get _(){return h(t,e,s)}});import{r as A,b as Fs,a as Ja}from"./vendor-BKU87Gzz.js";import{u as Vt,L as we,N as ia,R as Ls,a as B,B as zs}from"./router-Z6rqMkFf.js";import{M as Pe,B as Qa,U as le,L as Ga,X as Za,a as Xa,C as _s,H as Ya,T as We,S as na,G as nt,b as ot,c as Hs,d as ct,e as lt,f as ut,g as oa,h as qs,i as ca,P as Bs,A as Ks,R as Ws,j as $s}from"./icons-laTIaZ17.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();var es={exports:{}},St={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=A,Js=Symbol.for("react.element"),Qs=Symbol.for("react.fragment"),Gs=Object.prototype.hasOwnProperty,Zs=Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xs={key:!0,ref:!0,__self:!0,__source:!0};function ts(t,e,a){var s,r={},i=null,n=null;a!==void 0&&(i=""+a),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(n=e.ref);for(s in e)Gs.call(e,s)&&!Xs.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:Js,type:t,key:i,ref:n,props:r,_owner:Zs.current}}St.Fragment=Qs;St.jsx=ts;St.jsxs=ts;es.exports=St;var o=es.exports,It={},la=Fs;It.createRoot=la.createRoot,It.hydrateRoot=la.hydrateRoot;var xt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ys={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ue,$t,za,er=(za=class{constructor(){k(this,ue,Ys);k(this,$t,!1)}setTimeoutProvider(t){R(this,ue,t)}setTimeout(t,e){return h(this,ue).setTimeout(t,e)}clearTimeout(t){h(this,ue).clearTimeout(t)}setInterval(t,e){return h(this,ue).setInterval(t,e)}clearInterval(t){h(this,ue).clearInterval(t)}},ue=new WeakMap,$t=new WeakMap,za),Dt=new er;function tr(t){setTimeout(t,0)}var Rt=typeof window>"u"||"Deno"in globalThis;function $(){}function ar(t,e){return typeof t=="function"?t(e):t}function sr(t){return typeof t=="number"&&t>=0&&t!==1/0}function rr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ft(t,e){return typeof t=="function"?t(e):t}function ir(t,e){return typeof t=="function"?t(e):t}function ua(t,e){const{type:a="all",exact:s,fetchStatus:r,predicate:i,queryKey:n,stale:c}=t;if(n){if(s){if(e.queryHash!==Jt(n,e.options))return!1}else if(!Je(e.queryKey,n))return!1}if(a!=="all"){const m=e.isActive();if(a==="active"&&!m||a==="inactive"&&m)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||i&&!i(e))}function da(t,e){const{exact:a,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(a){if(Ve(e.options.mutationKey)!==Ve(i))return!1}else if(!Je(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Jt(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ve)(t)}function Ve(t){return JSON.stringify(t,(e,a)=>Lt(a)?Object.keys(a).sort().reduce((s,r)=>(s[r]=a[r],s),{}):a)}function Je(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(a=>Je(t[a],e[a])):!1}var nr=Object.prototype.hasOwnProperty;function as(t,e){if(t===e)return t;const a=ha(t)&&ha(e);if(!a&&!(Lt(t)&&Lt(e)))return e;const r=(a?t:Object.keys(t)).length,i=a?e:Object.keys(e),n=i.length,c=a?new Array(n):{};let m=0;for(let f=0;f<n;f++){const d=a?f:i[f],u=t[d],b=e[d];if(u===b){c[d]=u,(a?f<r:nr.call(t,d))&&m++;continue}if(u===null||b===null||typeof u!="object"||typeof b!="object"){c[d]=b;continue}const v=as(u,b);c[d]=v,v===u&&m++}return r===n&&m===r?t:c}function ha(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lt(t){if(!fa(t))return!1;const e=t.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!fa(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fa(t){return Object.prototype.toString.call(t)==="[object Object]"}function or(t){return new Promise(e=>{Dt.setTimeout(e,t)})}function cr(t,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,e):a.structuralSharing!==!1?as(t,e):e}function lr(t,e,a=0){const s=[...t,e];return a&&s.length>a?s.slice(1):s}function ur(t,e,a=0){const s=[e,...t];return a&&s.length>a?s.slice(0,-1):s}var Qt=Symbol();function ss(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Qt?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Re,de,Ue,_a,dr=(_a=class extends xt{constructor(){super();k(this,Re);k(this,de);k(this,Ue);R(this,Ue,a=>{if(!Rt&&window.addEventListener){const s=()=>a();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){h(this,de)||this.setEventListener(h(this,Ue))}onUnsubscribe(){var a;this.hasListeners()||((a=h(this,de))==null||a.call(this),R(this,de,void 0))}setEventListener(a){var s;R(this,Ue,a),(s=h(this,de))==null||s.call(this),R(this,de,a(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(a){h(this,Re)!==a&&(R(this,Re,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(s=>{s(a)})}isFocused(){var a;return typeof h(this,Re)=="boolean"?h(this,Re):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},Re=new WeakMap,de=new WeakMap,Ue=new WeakMap,_a),rs=new dr;function hr(){let t,e;const a=new Promise((r,i)=>{t=r,e=i});a.status="pending",a.catch(()=>{});function s(r){Object.assign(a,r),delete a.resolve,delete a.reject}return a.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},a.reject=r=>{s({status:"rejected",reason:r}),e(r)},a}var fr=tr;function mr(){let t=[],e=0,a=c=>{c()},s=c=>{c()},r=fr;const i=c=>{e?t.push(c):r(()=>{a(c)})},n=()=>{const c=t;t=[],c.length&&r(()=>{s(()=>{c.forEach(m=>{a(m)})})})};return{batch:c=>{let m;e++;try{m=c()}finally{e--,e||n()}return m},batchCalls:c=>(...m)=>{i(()=>{c(...m)})},schedule:i,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var z=mr(),Me,he,Ie,Ha,pr=(Ha=class extends xt{constructor(){super();k(this,Me,!0);k(this,he);k(this,Ie);R(this,Ie,e=>{if(!Rt&&window.addEventListener){const a=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}})}onSubscribe(){h(this,he)||this.setEventListener(h(this,Ie))}onUnsubscribe(){var e;this.hasListeners()||((e=h(this,he))==null||e.call(this),R(this,he,void 0))}setEventListener(e){var a;R(this,Ie,e),(a=h(this,he))==null||a.call(this),R(this,he,e(this.setOnline.bind(this)))}setOnline(e){h(this,Me)!==e&&(R(this,Me,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return h(this,Me)}},Me=new WeakMap,he=new WeakMap,Ie=new WeakMap,Ha),yt=new pr;function yr(t){return Math.min(1e3*2**t,3e4)}function is(t){return(t??"online")==="online"?yt.isOnline():!0}var zt=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ns(t){let e=!1,a=0,s;const r=hr(),i=()=>r.status!=="pending",n=y=>{var g;if(!i()){const x=new zt(y);b(x),(g=t.onCancel)==null||g.call(t,x)}},c=()=>{e=!0},m=()=>{e=!1},f=()=>rs.isFocused()&&(t.networkMode==="always"||yt.isOnline())&&t.canRun(),d=()=>is(t.networkMode)&&t.canRun(),u=y=>{i()||(s==null||s(),r.resolve(y))},b=y=>{i()||(s==null||s(),r.reject(y))},v=()=>new Promise(y=>{var g;s=x=>{(i()||f())&&y(x)},(g=t.onPause)==null||g.call(t)}).then(()=>{var y;s=void 0,i()||(y=t.onContinue)==null||y.call(t)}),p=()=>{if(i())return;let y;const g=a===0?t.initialPromise:void 0;try{y=g??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(u).catch(x=>{var U;if(i())return;const j=t.retry??(Rt?0:3),S=t.retryDelay??yr,w=typeof S=="function"?S(a,x):S,T=j===!0||typeof j=="number"&&a<j||typeof j=="function"&&j(a,x);if(e||!T){b(x);return}a++,(U=t.onFail)==null||U.call(t,a,x),or(w).then(()=>f()?void 0:v()).then(()=>{e?b(x):p()})})};return{promise:r,status:()=>r.status,cancel:n,continue:()=>(s==null||s(),r),cancelRetry:c,continueRetry:m,canStart:d,start:()=>(d()?p():v().then(p),r)}}var Ee,qa,os=(qa=class{constructor(){k(this,Ee)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sr(this.gcTime)&&R(this,Ee,Dt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rt?1/0:5*60*1e3))}clearGcTimeout(){h(this,Ee)&&(Dt.clearTimeout(h(this,Ee)),R(this,Ee,void 0))}},Ee=new WeakMap,qa),je,De,K,ke,M,Qe,Ae,V,se,Ba,gr=(Ba=class extends os{constructor(e){super();k(this,V);k(this,je);k(this,De);k(this,K);k(this,ke);k(this,M);k(this,Qe);k(this,Ae);R(this,Ae,!1),R(this,Qe,e.defaultOptions),this.setOptions(e.options),this.observers=[],R(this,ke,e.client),R(this,K,h(this,ke).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,R(this,je,ma(this.options)),this.state=e.state??h(this,je),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=h(this,M))==null?void 0:e.promise}setOptions(e){if(this.options={...h(this,Qe),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=ma(this.options);a.data!==void 0&&(this.setData(a.data,{updatedAt:a.dataUpdatedAt,manual:!0}),R(this,je,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&h(this,K).remove(this)}setData(e,a){const s=cr(this.state.data,e,this.options);return D(this,V,se).call(this,{data:s,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),s}setState(e,a){D(this,V,se).call(this,{type:"setState",state:e,setStateOptions:a})}cancel(e){var s,r;const a=(s=h(this,M))==null?void 0:s.promise;return(r=h(this,M))==null||r.cancel(e),a?a.then($).catch($):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(h(this,je))}isActive(){return this.observers.some(e=>ir(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ft(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rr(this.state.dataUpdatedAt,e)}onFocus(){var a;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(a=h(this,M))==null||a.continue()}onOnline(){var a;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(a=h(this,M))==null||a.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),h(this,K).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(h(this,M)&&(h(this,Ae)?h(this,M).cancel({revert:!0}):h(this,M).cancelRetry()),this.scheduleGc()),h(this,K).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||D(this,V,se).call(this,{type:"invalidate"})}async fetch(e,a){var m,f,d,u,b,v,p,y,g,x,j,S;if(this.state.fetchStatus!=="idle"&&((m=h(this,M))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(h(this,M))return h(this,M).continueRetry(),h(this,M).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(T=>T.options.queryFn);w&&this.setOptions(w.options)}const s=new AbortController,r=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(R(this,Ae,!0),s.signal)})},i=()=>{const w=ss(this.options,a),U=(()=>{const P={client:h(this,ke),queryKey:this.queryKey,meta:this.meta};return r(P),P})();return R(this,Ae,!1),this.options.persister?this.options.persister(w,U,this):w(U)},c=(()=>{const w={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:h(this,ke),state:this.state,fetchFn:i};return r(w),w})();(f=this.options.behavior)==null||f.onFetch(c,this),R(this,De,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&D(this,V,se).call(this,{type:"fetch",meta:(u=c.fetchOptions)==null?void 0:u.meta}),R(this,M,ns({initialPromise:a==null?void 0:a.initialPromise,fn:c.fetchFn,onCancel:w=>{w instanceof zt&&w.revert&&this.setState({...h(this,De),fetchStatus:"idle"}),s.abort()},onFail:(w,T)=>{D(this,V,se).call(this,{type:"failed",failureCount:w,error:T})},onPause:()=>{D(this,V,se).call(this,{type:"pause"})},onContinue:()=>{D(this,V,se).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const w=await h(this,M).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(v=(b=h(this,K).config).onSuccess)==null||v.call(b,w,this),(y=(p=h(this,K).config).onSettled)==null||y.call(p,w,this.state.error,this),w}catch(w){if(w instanceof zt){if(w.silent)return h(this,M).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw D(this,V,se).call(this,{type:"error",error:w}),(x=(g=h(this,K).config).onError)==null||x.call(g,w,this),(S=(j=h(this,K).config).onSettled)==null||S.call(j,this.state.data,w,this),w}finally{this.scheduleGc()}}},je=new WeakMap,De=new WeakMap,K=new WeakMap,ke=new WeakMap,M=new WeakMap,Qe=new WeakMap,Ae=new WeakMap,V=new WeakSet,se=function(e){const a=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...wr(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return R(this,De,e.manual?r:void 0),r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=a(this.state),z.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),h(this,K).notify({query:this,type:"updated",action:e})})},Ba);function wr(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:is(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ma(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,a=e!==void 0,s=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function pa(t){return{onFetch:(e,a)=>{var d,u,b,v,p;const s=e.options,r=(b=(u=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:b.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],n=((p=e.state.data)==null?void 0:p.pageParams)||[];let c={pages:[],pageParams:[]},m=0;const f=async()=>{let y=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=ss(e.options,e.fetchOptions),j=async(S,w,T)=>{if(y)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const P=(()=>{const Z={client:e.client,queryKey:e.queryKey,pageParam:w,direction:T?"backward":"forward",meta:e.options.meta};return g(Z),Z})(),ie=await x(P),{maxPages:G}=e.options,C=T?ur:lr;return{pages:C(S.pages,ie,G),pageParams:C(S.pageParams,w,G)}};if(r&&i.length){const S=r==="backward",w=S?br:ya,T={pages:i,pageParams:n},U=w(s,T);c=await j(T,U,S)}else{const S=t??i.length;do{const w=m===0?n[0]??s.initialPageParam:ya(s,c);if(m>0&&w==null)break;c=await j(c,w),m++}while(m<S)}return c};e.options.persister?e.fetchFn=()=>{var y,g;return(g=(y=e.options).persister)==null?void 0:g.call(y,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a)}:e.fetchFn=f}}}function ya(t,{pages:e,pageParams:a}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,a[s],a):void 0}function br(t,{pages:e,pageParams:a}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,a[0],a):void 0}var Ge,ee,L,Te,te,ce,Ka,vr=(Ka=class extends os{constructor(e){super();k(this,te);k(this,Ge);k(this,ee);k(this,L);k(this,Te);R(this,Ge,e.client),this.mutationId=e.mutationId,R(this,L,e.mutationCache),R(this,ee,[]),this.state=e.state||Sr(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){h(this,ee).includes(e)||(h(this,ee).push(e),this.clearGcTimeout(),h(this,L).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){R(this,ee,h(this,ee).filter(a=>a!==e)),this.scheduleGc(),h(this,L).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){h(this,ee).length||(this.state.status==="pending"?this.scheduleGc():h(this,L).remove(this))}continue(){var e;return((e=h(this,Te))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,c,m,f,d,u,b,v,p,y,g,x,j,S,w,T,U,P,ie,G;const a=()=>{D(this,te,ce).call(this,{type:"continue"})},s={client:h(this,Ge),meta:this.options.meta,mutationKey:this.options.mutationKey};R(this,Te,ns({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(C,Z)=>{D(this,te,ce).call(this,{type:"failed",failureCount:C,error:Z})},onPause:()=>{D(this,te,ce).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>h(this,L).canRun(this)}));const r=this.state.status==="pending",i=!h(this,Te).canStart();try{if(r)a();else{D(this,te,ce).call(this,{type:"pending",variables:e,isPaused:i}),await((c=(n=h(this,L).config).onMutate)==null?void 0:c.call(n,e,this,s));const Z=await((f=(m=this.options).onMutate)==null?void 0:f.call(m,e,s));Z!==this.state.context&&D(this,te,ce).call(this,{type:"pending",context:Z,variables:e,isPaused:i})}const C=await h(this,Te).start();return await((u=(d=h(this,L).config).onSuccess)==null?void 0:u.call(d,C,e,this.state.context,this,s)),await((v=(b=this.options).onSuccess)==null?void 0:v.call(b,C,e,this.state.context,s)),await((y=(p=h(this,L).config).onSettled)==null?void 0:y.call(p,C,null,this.state.variables,this.state.context,this,s)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,C,null,e,this.state.context,s)),D(this,te,ce).call(this,{type:"success",data:C}),C}catch(C){try{throw await((S=(j=h(this,L).config).onError)==null?void 0:S.call(j,C,e,this.state.context,this,s)),await((T=(w=this.options).onError)==null?void 0:T.call(w,C,e,this.state.context,s)),await((P=(U=h(this,L).config).onSettled)==null?void 0:P.call(U,void 0,C,this.state.variables,this.state.context,this,s)),await((G=(ie=this.options).onSettled)==null?void 0:G.call(ie,void 0,C,e,this.state.context,s)),C}finally{D(this,te,ce).call(this,{type:"error",error:C})}}finally{h(this,L).runNext(this)}}},Ge=new WeakMap,ee=new WeakMap,L=new WeakMap,Te=new WeakMap,te=new WeakSet,ce=function(e){const a=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),z.batch(()=>{h(this,ee).forEach(s=>{s.onMutationUpdate(e)}),h(this,L).notify({mutation:this,type:"updated",action:e})})},Ka);function Sr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var re,J,Ze,Wa,xr=(Wa=class extends xt{constructor(e={}){super();k(this,re);k(this,J);k(this,Ze);this.config=e,R(this,re,new Set),R(this,J,new Map),R(this,Ze,0)}build(e,a,s){const r=new vr({client:e,mutationCache:this,mutationId:++it(this,Ze)._,options:e.defaultMutationOptions(a),state:s});return this.add(r),r}add(e){h(this,re).add(e);const a=dt(e);if(typeof a=="string"){const s=h(this,J).get(a);s?s.push(e):h(this,J).set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(h(this,re).delete(e)){const a=dt(e);if(typeof a=="string"){const s=h(this,J).get(a);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&h(this,J).delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=dt(e);if(typeof a=="string"){const s=h(this,J).get(a),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const a=dt(e);if(typeof a=="string"){const r=(s=h(this,J).get(a))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){z.batch(()=>{h(this,re).forEach(e=>{this.notify({type:"removed",mutation:e})}),h(this,re).clear(),h(this,J).clear()})}getAll(){return Array.from(h(this,re))}find(e){const a={exact:!0,...e};return this.getAll().find(s=>da(a,s))}findAll(e={}){return this.getAll().filter(a=>da(e,a))}notify(e){z.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return z.batch(()=>Promise.all(e.map(a=>a.continue().catch($))))}},re=new WeakMap,J=new WeakMap,Ze=new WeakMap,Wa);function dt(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ae,$a,Rr=($a=class extends xt{constructor(e={}){super();k(this,ae);this.config=e,R(this,ae,new Map)}build(e,a,s){const r=a.queryKey,i=a.queryHash??Jt(r,a);let n=this.get(i);return n||(n=new gr({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(a),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(n)),n}add(e){h(this,ae).has(e.queryHash)||(h(this,ae).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=h(this,ae).get(e.queryHash);a&&(e.destroy(),a===e&&h(this,ae).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return h(this,ae).get(e)}getAll(){return[...h(this,ae).values()]}find(e){const a={exact:!0,...e};return this.getAll().find(s=>ua(a,s))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(s=>ua(e,s)):a}notify(e){z.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ae=new WeakMap,$a),N,fe,me,Fe,Le,pe,ze,_e,Va,Er=(Va=class{constructor(t={}){k(this,N);k(this,fe);k(this,me);k(this,Fe);k(this,Le);k(this,pe);k(this,ze);k(this,_e);R(this,N,t.queryCache||new Rr),R(this,fe,t.mutationCache||new xr),R(this,me,t.defaultOptions||{}),R(this,Fe,new Map),R(this,Le,new Map),R(this,pe,0)}mount(){it(this,pe)._++,h(this,pe)===1&&(R(this,ze,rs.subscribe(async t=>{t&&(await this.resumePausedMutations(),h(this,N).onFocus())})),R(this,_e,yt.subscribe(async t=>{t&&(await this.resumePausedMutations(),h(this,N).onOnline())})))}unmount(){var t,e;it(this,pe)._--,h(this,pe)===0&&((t=h(this,ze))==null||t.call(this),R(this,ze,void 0),(e=h(this,_e))==null||e.call(this),R(this,_e,void 0))}isFetching(t){return h(this,N).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return h(this,fe).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const e=this.defaultQueryOptions({queryKey:t});return(a=h(this,N).get(e.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),a=h(this,N).build(this,e),s=a.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(Ft(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return h(this,N).findAll(t).map(({queryKey:e,state:a})=>{const s=a.data;return[e,s]})}setQueryData(t,e,a){const s=this.defaultQueryOptions({queryKey:t}),r=h(this,N).get(s.queryHash),i=r==null?void 0:r.state.data,n=ar(e,i);if(n!==void 0)return h(this,N).build(this,s).setData(n,{...a,manual:!0})}setQueriesData(t,e,a){return z.batch(()=>h(this,N).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,a)]))}getQueryState(t){var a;const e=this.defaultQueryOptions({queryKey:t});return(a=h(this,N).get(e.queryHash))==null?void 0:a.state}removeQueries(t){const e=h(this,N);z.batch(()=>{e.findAll(t).forEach(a=>{e.remove(a)})})}resetQueries(t,e){const a=h(this,N);return z.batch(()=>(a.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const a={revert:!0,...e},s=z.batch(()=>h(this,N).findAll(t).map(r=>r.cancel(a)));return Promise.all(s).then($).catch($)}invalidateQueries(t,e={}){return z.batch(()=>(h(this,N).findAll(t).forEach(a=>{a.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const a={...e,cancelRefetch:e.cancelRefetch??!0},s=z.batch(()=>h(this,N).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,a);return a.throwOnError||(i=i.catch($)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then($)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const a=h(this,N).build(this,e);return a.isStaleByTime(Ft(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($).catch($)}fetchInfiniteQuery(t){return t.behavior=pa(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($).catch($)}ensureInfiniteQueryData(t){return t.behavior=pa(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yt.isOnline()?h(this,fe).resumePausedMutations():Promise.resolve()}getQueryCache(){return h(this,N)}getMutationCache(){return h(this,fe)}getDefaultOptions(){return h(this,me)}setDefaultOptions(t){R(this,me,t)}setQueryDefaults(t,e){h(this,Fe).set(Ve(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...h(this,Fe).values()],a={};return e.forEach(s=>{Je(t,s.queryKey)&&Object.assign(a,s.defaultOptions)}),a}setMutationDefaults(t,e){h(this,Le).set(Ve(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...h(this,Le).values()],a={};return e.forEach(s=>{Je(t,s.mutationKey)&&Object.assign(a,s.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const e={...h(this,me).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Jt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Qt&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...h(this,me).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){h(this,N).clear(),h(this,fe).clear()}},N=new WeakMap,fe=new WeakMap,me=new WeakMap,Fe=new WeakMap,Le=new WeakMap,pe=new WeakMap,ze=new WeakMap,_e=new WeakMap,Va),jr=A.createContext(void 0),kr=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(jr.Provider,{value:t,children:e}));const Ar="modulepreload",Tr=function(t){return"/"+t},ga={},W=function(e,a,s){let r=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));r=Promise.allSettled(a.map(m=>{if(m=Tr(m),m in ga)return;ga[m]=!0;const f=m.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${d}`))return;const u=document.createElement("link");if(u.rel=f?"stylesheet":Ar,f||(u.as="script"),u.crossOrigin="",u.href=m,c&&u.setAttribute("nonce",c),document.head.appendChild(u),f)return new Promise((b,v)=>{u.addEventListener("load",b),u.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return r.then(n=>{for(const c of n||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function cs(t,e){return function(){return t.apply(e,arguments)}}const{toString:Nr}=Object.prototype,{getPrototypeOf:Gt}=Object,{iterator:Et,toStringTag:ls}=Symbol,jt=(t=>e=>{const a=Nr.call(e);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Q=t=>(t=t.toLowerCase(),e=>jt(e)===t),kt=t=>e=>typeof e===t,{isArray:qe}=Array,He=kt("undefined");function Xe(t){return t!==null&&!He(t)&&t.constructor!==null&&!He(t.constructor)&&_(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const us=Q("ArrayBuffer");function Cr(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&us(t.buffer),e}const Or=kt("string"),_=kt("function"),ds=kt("number"),Ye=t=>t!==null&&typeof t=="object",Pr=t=>t===!0||t===!1,ft=t=>{if(jt(t)!=="object")return!1;const e=Gt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ls in t)&&!(Et in t)},Ur=t=>{if(!Ye(t)||Xe(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Mr=Q("Date"),Ir=Q("File"),Dr=Q("Blob"),Fr=Q("FileList"),Lr=t=>Ye(t)&&_(t.pipe),zr=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_(t.append)&&((e=jt(t))==="formdata"||e==="object"&&_(t.toString)&&t.toString()==="[object FormData]"))},_r=Q("URLSearchParams"),[Hr,qr,Br,Kr]=["ReadableStream","Request","Response","Headers"].map(Q),Wr=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function et(t,e,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),qe(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Xe(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),n=i.length;let c;for(s=0;s<n;s++)c=i[s],e.call(null,t[c],c,t)}}function hs(t,e){if(Xe(t))return null;e=e.toLowerCase();const a=Object.keys(t);let s=a.length,r;for(;s-- >0;)if(r=a[s],e===r.toLowerCase())return r;return null}const xe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fs=t=>!He(t)&&t!==xe;function _t(){const{caseless:t,skipUndefined:e}=fs(this)&&this||{},a={},s=(r,i)=>{const n=t&&hs(a,i)||i;ft(a[n])&&ft(r)?a[n]=_t(a[n],r):ft(r)?a[n]=_t({},r):qe(r)?a[n]=r.slice():(!e||!He(r))&&(a[n]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&et(arguments[r],s);return a}const $r=(t,e,a,{allOwnKeys:s}={})=>(et(e,(r,i)=>{a&&_(r)?t[i]=cs(r,a):t[i]=r},{allOwnKeys:s}),t),Vr=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jr=(t,e,a,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),a&&Object.assign(t.prototype,a)},Qr=(t,e,a,s)=>{let r,i,n;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)n=r[i],(!s||s(n,t,e))&&!c[n]&&(e[n]=t[n],c[n]=!0);t=a!==!1&&Gt(t)}while(t&&(!a||a(t,e))&&t!==Object.prototype);return e},Gr=(t,e,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=e.length;const s=t.indexOf(e,a);return s!==-1&&s===a},Zr=t=>{if(!t)return null;if(qe(t))return t;let e=t.length;if(!ds(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=t[e];return a},Xr=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gt(Uint8Array)),Yr=(t,e)=>{const s=(t&&t[Et]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},ei=(t,e)=>{let a;const s=[];for(;(a=t.exec(e))!==null;)s.push(a);return s},ti=Q("HTMLFormElement"),ai=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,r){return s.toUpperCase()+r}),wa=(({hasOwnProperty:t})=>(e,a)=>t.call(e,a))(Object.prototype),si=Q("RegExp"),ms=(t,e)=>{const a=Object.getOwnPropertyDescriptors(t),s={};et(a,(r,i)=>{let n;(n=e(r,i,t))!==!1&&(s[i]=n||r)}),Object.defineProperties(t,s)},ri=t=>{ms(t,(e,a)=>{if(_(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=t[a];if(_(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ii=(t,e)=>{const a={},s=r=>{r.forEach(i=>{a[i]=!0})};return qe(t)?s(t):s(String(t).split(e)),a},ni=()=>{},oi=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ci(t){return!!(t&&_(t.append)&&t[ls]==="FormData"&&t[Et])}const li=t=>{const e=new Array(10),a=(s,r)=>{if(Ye(s)){if(e.indexOf(s)>=0)return;if(Xe(s))return s;if(!("toJSON"in s)){e[r]=s;const i=qe(s)?[]:{};return et(s,(n,c)=>{const m=a(n,r+1);!He(m)&&(i[c]=m)}),e[r]=void 0,i}}return s};return a(t,0)},ui=Q("AsyncFunction"),di=t=>t&&(Ye(t)||_(t))&&_(t.then)&&_(t.catch),ps=((t,e)=>t?setImmediate:e?((a,s)=>(xe.addEventListener("message",({source:r,data:i})=>{r===xe&&i===a&&s.length&&s.shift()()},!1),r=>{s.push(r),xe.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",_(xe.postMessage)),hi=typeof queueMicrotask<"u"?queueMicrotask.bind(xe):typeof process<"u"&&process.nextTick||ps,fi=t=>t!=null&&_(t[Et]),l={isArray:qe,isArrayBuffer:us,isBuffer:Xe,isFormData:zr,isArrayBufferView:Cr,isString:Or,isNumber:ds,isBoolean:Pr,isObject:Ye,isPlainObject:ft,isEmptyObject:Ur,isReadableStream:Hr,isRequest:qr,isResponse:Br,isHeaders:Kr,isUndefined:He,isDate:Mr,isFile:Ir,isBlob:Dr,isRegExp:si,isFunction:_,isStream:Lr,isURLSearchParams:_r,isTypedArray:Xr,isFileList:Fr,forEach:et,merge:_t,extend:$r,trim:Wr,stripBOM:Vr,inherits:Jr,toFlatObject:Qr,kindOf:jt,kindOfTest:Q,endsWith:Gr,toArray:Zr,forEachEntry:Yr,matchAll:ei,isHTMLForm:ti,hasOwnProperty:wa,hasOwnProp:wa,reduceDescriptors:ms,freezeMethods:ri,toObjectSet:ii,toCamelCase:ai,noop:ni,toFiniteNumber:oi,findKey:hs,global:xe,isContextDefined:fs,isSpecCompliantForm:ci,toJSONObject:li,isAsyncFn:ui,isThenable:di,setImmediate:ps,asap:hi,isIterable:fi};function E(t,e,a,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}l.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}});const ys=E.prototype,gs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gs[t]={value:t}});Object.defineProperties(E,gs);Object.defineProperty(ys,"isAxiosError",{value:!0});E.from=(t,e,a,s,r,i)=>{const n=Object.create(ys);l.toFlatObject(t,n,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const c=t&&t.message?t.message:"Error",m=e==null&&t?t.code:e;return E.call(n,c,m,a,s,r),t&&n.cause==null&&Object.defineProperty(n,"cause",{value:t,configurable:!0}),n.name=t&&t.name||"Error",i&&Object.assign(n,i),n};const mi=null;function Ht(t){return l.isPlainObject(t)||l.isArray(t)}function ws(t){return l.endsWith(t,"[]")?t.slice(0,-2):t}function ba(t,e,a){return t?t.concat(e).map(function(r,i){return r=ws(r),!a&&i?"["+r+"]":r}).join(a?".":""):e}function pi(t){return l.isArray(t)&&!t.some(Ht)}const yi=l.toFlatObject(l,{},null,function(e){return/^is[A-Z]/.test(e)});function At(t,e,a){if(!l.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,a=l.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!l.isUndefined(g[y])});const s=a.metaTokens,r=a.visitor||d,i=a.dots,n=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(e);if(!l.isFunction(r))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(l.isDate(p))return p.toISOString();if(l.isBoolean(p))return p.toString();if(!m&&l.isBlob(p))throw new E("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(p)||l.isTypedArray(p)?m&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,g){let x=p;if(p&&!g&&typeof p=="object"){if(l.endsWith(y,"{}"))y=s?y:y.slice(0,-2),p=JSON.stringify(p);else if(l.isArray(p)&&pi(p)||(l.isFileList(p)||l.endsWith(y,"[]"))&&(x=l.toArray(p)))return y=ws(y),x.forEach(function(S,w){!(l.isUndefined(S)||S===null)&&e.append(n===!0?ba([y],w,i):n===null?y:y+"[]",f(S))}),!1}return Ht(p)?!0:(e.append(ba(g,y,i),f(p)),!1)}const u=[],b=Object.assign(yi,{defaultVisitor:d,convertValue:f,isVisitable:Ht});function v(p,y){if(!l.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(p),l.forEach(p,function(x,j){(!(l.isUndefined(x)||x===null)&&r.call(e,x,l.isString(j)?j.trim():j,y,b))===!0&&v(x,y?y.concat(j):[j])}),u.pop()}}if(!l.isObject(t))throw new TypeError("data must be an object");return v(t),e}function va(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Zt(t,e){this._pairs=[],t&&At(t,this,e)}const bs=Zt.prototype;bs.append=function(e,a){this._pairs.push([e,a])};bs.toString=function(e){const a=e?function(s){return e.call(this,s,va)}:va;return this._pairs.map(function(r){return a(r[0])+"="+a(r[1])},"").join("&")};function gi(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vs(t,e,a){if(!e)return t;const s=a&&a.encode||gi;l.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let i;if(r?i=r(e,a):i=l.isURLSearchParams(e)?e.toString():new Zt(e,a).toString(s),i){const n=t.indexOf("#");n!==-1&&(t=t.slice(0,n)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Sa{constructor(){this.handlers=[]}use(e,a,s){return this.handlers.push({fulfilled:e,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){l.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Ss={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wi=typeof URLSearchParams<"u"?URLSearchParams:Zt,bi=typeof FormData<"u"?FormData:null,vi=typeof Blob<"u"?Blob:null,Si={isBrowser:!0,classes:{URLSearchParams:wi,FormData:bi,Blob:vi},protocols:["http","https","file","blob","url","data"]},Xt=typeof window<"u"&&typeof document<"u",qt=typeof navigator=="object"&&navigator||void 0,xi=Xt&&(!qt||["ReactNative","NativeScript","NS"].indexOf(qt.product)<0),Ri=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ei=Xt&&window.location.href||"http://localhost",ji=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xt,hasStandardBrowserEnv:xi,hasStandardBrowserWebWorkerEnv:Ri,navigator:qt,origin:Ei},Symbol.toStringTag,{value:"Module"})),F={...ji,...Si};function ki(t,e){return At(t,new F.classes.URLSearchParams,{visitor:function(a,s,r,i){return F.isNode&&l.isBuffer(a)?(this.append(s,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Ai(t){return l.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ti(t){const e={},a=Object.keys(t);let s;const r=a.length;let i;for(s=0;s<r;s++)i=a[s],e[i]=t[i];return e}function xs(t){function e(a,s,r,i){let n=a[i++];if(n==="__proto__")return!0;const c=Number.isFinite(+n),m=i>=a.length;return n=!n&&l.isArray(r)?r.length:n,m?(l.hasOwnProp(r,n)?r[n]=[r[n],s]:r[n]=s,!c):((!r[n]||!l.isObject(r[n]))&&(r[n]=[]),e(a,s,r[n],i)&&l.isArray(r[n])&&(r[n]=Ti(r[n])),!c)}if(l.isFormData(t)&&l.isFunction(t.entries)){const a={};return l.forEachEntry(t,(s,r)=>{e(Ai(s),r,a,0)}),a}return null}function Ni(t,e,a){if(l.isString(t))try{return(e||JSON.parse)(t),l.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(t)}const tt={transitional:Ss,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const s=a.getContentType()||"",r=s.indexOf("application/json")>-1,i=l.isObject(e);if(i&&l.isHTMLForm(e)&&(e=new FormData(e)),l.isFormData(e))return r?JSON.stringify(xs(e)):e;if(l.isArrayBuffer(e)||l.isBuffer(e)||l.isStream(e)||l.isFile(e)||l.isBlob(e)||l.isReadableStream(e))return e;if(l.isArrayBufferView(e))return e.buffer;if(l.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ki(e,this.formSerializer).toString();if((c=l.isFileList(e))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return At(c?{"files[]":e}:e,m&&new m,this.formSerializer)}}return i||r?(a.setContentType("application/json",!1),Ni(e)):e}],transformResponse:[function(e){const a=this.transitional||tt.transitional,s=a&&a.forcedJSONParsing,r=this.responseType==="json";if(l.isResponse(e)||l.isReadableStream(e))return e;if(e&&l.isString(e)&&(s&&!this.responseType||r)){const n=!(a&&a.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(c){if(n)throw c.name==="SyntaxError"?E.from(c,E.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:F.classes.FormData,Blob:F.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],t=>{tt.headers[t]={}});const Ci=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Oi=t=>{const e={};let a,s,r;return t&&t.split(`
`).forEach(function(n){r=n.indexOf(":"),a=n.substring(0,r).trim().toLowerCase(),s=n.substring(r+1).trim(),!(!a||e[a]&&Ci[a])&&(a==="set-cookie"?e[a]?e[a].push(s):e[a]=[s]:e[a]=e[a]?e[a]+", "+s:s)}),e},xa=Symbol("internals");function $e(t){return t&&String(t).trim().toLowerCase()}function mt(t){return t===!1||t==null?t:l.isArray(t)?t.map(mt):String(t)}function Pi(t){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(t);)e[s[1]]=s[2];return e}const Ui=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ot(t,e,a,s,r){if(l.isFunction(s))return s.call(this,e,a);if(r&&(e=a),!!l.isString(e)){if(l.isString(s))return e.indexOf(s)!==-1;if(l.isRegExp(s))return s.test(e)}}function Mi(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,s)=>a.toUpperCase()+s)}function Ii(t,e){const a=l.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+a,{value:function(r,i,n){return this[s].call(this,e,r,i,n)},configurable:!0})})}let H=class{constructor(e){e&&this.set(e)}set(e,a,s){const r=this;function i(c,m,f){const d=$e(m);if(!d)throw new Error("header name must be a non-empty string");const u=l.findKey(r,d);(!u||r[u]===void 0||f===!0||f===void 0&&r[u]!==!1)&&(r[u||m]=mt(c))}const n=(c,m)=>l.forEach(c,(f,d)=>i(f,d,m));if(l.isPlainObject(e)||e instanceof this.constructor)n(e,a);else if(l.isString(e)&&(e=e.trim())&&!Ui(e))n(Oi(e),a);else if(l.isObject(e)&&l.isIterable(e)){let c={},m,f;for(const d of e){if(!l.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[f=d[0]]=(m=c[f])?l.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}n(c,a)}else e!=null&&i(a,e,s);return this}get(e,a){if(e=$e(e),e){const s=l.findKey(this,e);if(s){const r=this[s];if(!a)return r;if(a===!0)return Pi(r);if(l.isFunction(a))return a.call(this,r,s);if(l.isRegExp(a))return a.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=$e(e),e){const s=l.findKey(this,e);return!!(s&&this[s]!==void 0&&(!a||Ot(this,this[s],s,a)))}return!1}delete(e,a){const s=this;let r=!1;function i(n){if(n=$e(n),n){const c=l.findKey(s,n);c&&(!a||Ot(s,s[c],c,a))&&(delete s[c],r=!0)}}return l.isArray(e)?e.forEach(i):i(e),r}clear(e){const a=Object.keys(this);let s=a.length,r=!1;for(;s--;){const i=a[s];(!e||Ot(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const a=this,s={};return l.forEach(this,(r,i)=>{const n=l.findKey(s,i);if(n){a[n]=mt(r),delete a[i];return}const c=e?Mi(i):String(i).trim();c!==i&&delete a[i],a[c]=mt(r),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return l.forEach(this,(s,r)=>{s!=null&&s!==!1&&(a[r]=e&&l.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const s=new this(e);return a.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[xa]=this[xa]={accessors:{}}).accessors,r=this.prototype;function i(n){const c=$e(n);s[c]||(Ii(r,n),s[c]=!0)}return l.isArray(e)?e.forEach(i):i(e),this}};H.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(H.prototype,({value:t},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[a]=s}}});l.freezeMethods(H);function Pt(t,e){const a=this||tt,s=e||a,r=H.from(s.headers);let i=s.data;return l.forEach(t,function(c){i=c.call(a,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function Rs(t){return!!(t&&t.__CANCEL__)}function Be(t,e,a){E.call(this,t??"canceled",E.ERR_CANCELED,e,a),this.name="CanceledError"}l.inherits(Be,E,{__CANCEL__:!0});function Es(t,e,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?t(a):e(new E("Request failed with status code "+a.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Di(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Fi(t,e){t=t||10;const a=new Array(t),s=new Array(t);let r=0,i=0,n;return e=e!==void 0?e:1e3,function(m){const f=Date.now(),d=s[i];n||(n=f),a[r]=m,s[r]=f;let u=i,b=0;for(;u!==r;)b+=a[u++],u=u%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),f-n<e)return;const v=d&&f-d;return v?Math.round(b*1e3/v):void 0}}function Li(t,e){let a=0,s=1e3/e,r,i;const n=(f,d=Date.now())=>{a=d,r=null,i&&(clearTimeout(i),i=null),t(...f)};return[(...f)=>{const d=Date.now(),u=d-a;u>=s?n(f,d):(r=f,i||(i=setTimeout(()=>{i=null,n(r)},s-u)))},()=>r&&n(r)]}const gt=(t,e,a=3)=>{let s=0;const r=Fi(50,250);return Li(i=>{const n=i.loaded,c=i.lengthComputable?i.total:void 0,m=n-s,f=r(m),d=n<=c;s=n;const u={loaded:n,total:c,progress:c?n/c:void 0,bytes:m,rate:f||void 0,estimated:f&&c&&d?(c-n)/f:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(u)},a)},Ra=(t,e)=>{const a=t!=null;return[s=>e[0]({lengthComputable:a,total:t,loaded:s}),e[1]]},Ea=t=>(...e)=>l.asap(()=>t(...e)),zi=F.hasStandardBrowserEnv?((t,e)=>a=>(a=new URL(a,F.origin),t.protocol===a.protocol&&t.host===a.host&&(e||t.port===a.port)))(new URL(F.origin),F.navigator&&/(msie|trident)/i.test(F.navigator.userAgent)):()=>!0,_i=F.hasStandardBrowserEnv?{write(t,e,a,s,r,i){const n=[t+"="+encodeURIComponent(e)];l.isNumber(a)&&n.push("expires="+new Date(a).toGMTString()),l.isString(s)&&n.push("path="+s),l.isString(r)&&n.push("domain="+r),i===!0&&n.push("secure"),document.cookie=n.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Hi(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qi(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function js(t,e,a){let s=!Hi(e);return t&&(s||a==!1)?qi(t,e):e}const ja=t=>t instanceof H?{...t}:t;function Ce(t,e){e=e||{};const a={};function s(f,d,u,b){return l.isPlainObject(f)&&l.isPlainObject(d)?l.merge.call({caseless:b},f,d):l.isPlainObject(d)?l.merge({},d):l.isArray(d)?d.slice():d}function r(f,d,u,b){if(l.isUndefined(d)){if(!l.isUndefined(f))return s(void 0,f,u,b)}else return s(f,d,u,b)}function i(f,d){if(!l.isUndefined(d))return s(void 0,d)}function n(f,d){if(l.isUndefined(d)){if(!l.isUndefined(f))return s(void 0,f)}else return s(void 0,d)}function c(f,d,u){if(u in e)return s(f,d);if(u in t)return s(void 0,f)}const m={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:c,headers:(f,d,u)=>r(ja(f),ja(d),u,!0)};return l.forEach(Object.keys({...t,...e}),function(d){const u=m[d]||r,b=u(t[d],e[d],d);l.isUndefined(b)&&u!==c||(a[d]=b)}),a}const ks=t=>{const e=Ce({},t);let{data:a,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:n,auth:c}=e;if(e.headers=n=H.from(n),e.url=vs(js(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&n.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),l.isFormData(a)){if(F.hasStandardBrowserEnv||F.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if(l.isFunction(a.getHeaders)){const m=a.getHeaders(),f=["content-type","content-length"];Object.entries(m).forEach(([d,u])=>{f.includes(d.toLowerCase())&&n.set(d,u)})}}if(F.hasStandardBrowserEnv&&(s&&l.isFunction(s)&&(s=s(e)),s||s!==!1&&zi(e.url))){const m=r&&i&&_i.read(i);m&&n.set(r,m)}return e},Bi=typeof XMLHttpRequest<"u",Ki=Bi&&function(t){return new Promise(function(a,s){const r=ks(t);let i=r.data;const n=H.from(r.headers).normalize();let{responseType:c,onUploadProgress:m,onDownloadProgress:f}=r,d,u,b,v,p;function y(){v&&v(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function x(){if(!g)return;const S=H.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:S,config:t,request:g};Es(function(P){a(P),y()},function(P){s(P),y()},T),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(s(new E("Request aborted",E.ECONNABORTED,t,g)),g=null)},g.onerror=function(w){const T=w&&w.message?w.message:"Network Error",U=new E(T,E.ERR_NETWORK,t,g);U.event=w||null,s(U),g=null},g.ontimeout=function(){let w=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||Ss;r.timeoutErrorMessage&&(w=r.timeoutErrorMessage),s(new E(w,T.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,t,g)),g=null},i===void 0&&n.setContentType(null),"setRequestHeader"in g&&l.forEach(n.toJSON(),function(w,T){g.setRequestHeader(T,w)}),l.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),c&&c!=="json"&&(g.responseType=r.responseType),f&&([b,p]=gt(f,!0),g.addEventListener("progress",b)),m&&g.upload&&([u,v]=gt(m),g.upload.addEventListener("progress",u),g.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(d=S=>{g&&(s(!S||S.type?new Be(null,t,g):S),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const j=Di(r.url);if(j&&F.protocols.indexOf(j)===-1){s(new E("Unsupported protocol "+j+":",E.ERR_BAD_REQUEST,t));return}g.send(i||null)})},Wi=(t,e)=>{const{length:a}=t=t?t.filter(Boolean):[];if(e||a){let s=new AbortController,r;const i=function(f){if(!r){r=!0,c();const d=f instanceof Error?f:this.reason;s.abort(d instanceof E?d:new Be(d instanceof Error?d.message:d))}};let n=e&&setTimeout(()=>{n=null,i(new E(`timeout ${e} of ms exceeded`,E.ETIMEDOUT))},e);const c=()=>{t&&(n&&clearTimeout(n),n=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:m}=s;return m.unsubscribe=()=>l.asap(c),m}},$i=function*(t,e){let a=t.byteLength;if(a<e){yield t;return}let s=0,r;for(;s<a;)r=s+e,yield t.slice(s,r),s=r},Vi=async function*(t,e){for await(const a of Ji(t))yield*$i(a,e)},Ji=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:a,value:s}=await e.read();if(a)break;yield s}}finally{await e.cancel()}},ka=(t,e,a,s)=>{const r=Vi(t,e);let i=0,n,c=m=>{n||(n=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:f,value:d}=await r.next();if(f){c(),m.close();return}let u=d.byteLength;if(a){let b=i+=u;a(b)}m.enqueue(new Uint8Array(d))}catch(f){throw c(f),f}},cancel(m){return c(m),r.return()}},{highWaterMark:2})},Aa=64*1024,{isFunction:ht}=l,Qi=(({Request:t,Response:e})=>({Request:t,Response:e}))(l.global),{ReadableStream:Ta,TextEncoder:Na}=l.global,Ca=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Gi=t=>{t=l.merge.call({skipUndefined:!0},Qi,t);const{fetch:e,Request:a,Response:s}=t,r=e?ht(e):typeof fetch=="function",i=ht(a),n=ht(s);if(!r)return!1;const c=r&&ht(Ta),m=r&&(typeof Na=="function"?(p=>y=>p.encode(y))(new Na):async p=>new Uint8Array(await new a(p).arrayBuffer())),f=i&&c&&Ca(()=>{let p=!1;const y=new a(F.origin,{body:new Ta,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=n&&c&&Ca(()=>l.isReadableStream(new s("").body)),u={stream:d&&(p=>p.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!u[p]&&(u[p]=(y,g)=>{let x=y&&y[p];if(x)return x.call(y);throw new E(`Response type '${p}' is not supported`,E.ERR_NOT_SUPPORT,g)})});const b=async p=>{if(p==null)return 0;if(l.isBlob(p))return p.size;if(l.isSpecCompliantForm(p))return(await new a(F.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(l.isArrayBufferView(p)||l.isArrayBuffer(p))return p.byteLength;if(l.isURLSearchParams(p)&&(p=p+""),l.isString(p))return(await m(p)).byteLength},v=async(p,y)=>{const g=l.toFiniteNumber(p.getContentLength());return g??b(y)};return async p=>{let{url:y,method:g,data:x,signal:j,cancelToken:S,timeout:w,onDownloadProgress:T,onUploadProgress:U,responseType:P,headers:ie,withCredentials:G="same-origin",fetchOptions:C}=ks(p),Z=e||fetch;P=P?(P+"").toLowerCase():"text";let st=Wi([j,S&&S.toAbortSignal()],w),Ke=null;const ye=st&&st.unsubscribe&&(()=>{st.unsubscribe()});let ea;try{if(U&&f&&g!=="get"&&g!=="head"&&(ea=await v(ie,x))!==0){let oe=new a(y,{method:"POST",body:x,duplex:"half"}),Oe;if(l.isFormData(x)&&(Oe=oe.headers.get("content-type"))&&ie.setContentType(Oe),oe.body){const[Nt,rt]=Ra(ea,gt(Ea(U)));x=ka(oe.body,Aa,Nt,rt)}}l.isString(G)||(G=G?"include":"omit");const X=i&&"credentials"in a.prototype,ta={...C,signal:st,method:g.toUpperCase(),headers:ie.normalize().toJSON(),body:x,duplex:"half",credentials:X?G:void 0};Ke=i&&new a(y,ta);let ne=await(i?Z(Ke,C):Z(y,ta));const aa=d&&(P==="stream"||P==="response");if(d&&(T||aa&&ye)){const oe={};["status","statusText","headers"].forEach(sa=>{oe[sa]=ne[sa]});const Oe=l.toFiniteNumber(ne.headers.get("content-length")),[Nt,rt]=T&&Ra(Oe,gt(Ea(T),!0))||[];ne=new s(ka(ne.body,Aa,Nt,()=>{rt&&rt(),ye&&ye()}),oe)}P=P||"text";let Ms=await u[l.findKey(u,P)||"text"](ne,p);return!aa&&ye&&ye(),await new Promise((oe,Oe)=>{Es(oe,Oe,{data:Ms,headers:H.from(ne.headers),status:ne.status,statusText:ne.statusText,config:p,request:Ke})})}catch(X){throw ye&&ye(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,p,Ke),{cause:X.cause||X}):E.from(X,X&&X.code,p,Ke)}}},Zi=new Map,As=t=>{let e=t?t.env:{};const{fetch:a,Request:s,Response:r}=e,i=[s,r,a];let n=i.length,c=n,m,f,d=Zi;for(;c--;)m=i[c],f=d.get(m),f===void 0&&d.set(m,f=c?new Map:Gi(e)),d=f;return f};As();const Bt={http:mi,xhr:Ki,fetch:{get:As}};l.forEach(Bt,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Oa=t=>`- ${t}`,Xi=t=>l.isFunction(t)||t===null||t===!1,Ts={getAdapter:(t,e)=>{t=l.isArray(t)?t:[t];const{length:a}=t;let s,r;const i={};for(let n=0;n<a;n++){s=t[n];let c;if(r=s,!Xi(s)&&(r=Bt[(c=String(s)).toLowerCase()],r===void 0))throw new E(`Unknown adapter '${c}'`);if(r&&(l.isFunction(r)||(r=r.get(e))))break;i[c||"#"+n]=r}if(!r){const n=Object.entries(i).map(([m,f])=>`adapter ${m} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=a?n.length>1?`since :
`+n.map(Oa).join(`
`):" "+Oa(n[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:Bt};function Ut(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Be(null,t)}function Pa(t){return Ut(t),t.headers=H.from(t.headers),t.data=Pt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ts.getAdapter(t.adapter||tt.adapter,t)(t).then(function(s){return Ut(t),s.data=Pt.call(t,t.transformResponse,s),s.headers=H.from(s.headers),s},function(s){return Rs(s)||(Ut(t),s&&s.response&&(s.response.data=Pt.call(t,t.transformResponse,s.response),s.response.headers=H.from(s.response.headers))),Promise.reject(s)})}const Ns="1.12.2",Tt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Tt[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Ua={};Tt.transitional=function(e,a,s){function r(i,n){return"[Axios v"+Ns+"] Transitional option '"+i+"'"+n+(s?". "+s:"")}return(i,n,c)=>{if(e===!1)throw new E(r(n," has been removed"+(a?" in "+a:"")),E.ERR_DEPRECATED);return a&&!Ua[n]&&(Ua[n]=!0,console.warn(r(n," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(i,n,c):!0}};Tt.spelling=function(e){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Yi(t,e,a){if(typeof t!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],n=e[i];if(n){const c=t[i],m=c===void 0||n(c,i,t);if(m!==!0)throw new E("option "+i+" must be "+m,E.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new E("Unknown option "+i,E.ERR_BAD_OPTION)}}const pt={assertOptions:Yi,validators:Tt},Y=pt.validators;let Ne=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Sa,response:new Sa}}async request(e,a){try{return await this._request(e,a)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=Ce(this.defaults,a);const{transitional:s,paramsSerializer:r,headers:i}=a;s!==void 0&&pt.assertOptions(s,{silentJSONParsing:Y.transitional(Y.boolean),forcedJSONParsing:Y.transitional(Y.boolean),clarifyTimeoutError:Y.transitional(Y.boolean)},!1),r!=null&&(l.isFunction(r)?a.paramsSerializer={serialize:r}:pt.assertOptions(r,{encode:Y.function,serialize:Y.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),pt.assertOptions(a,{baseUrl:Y.spelling("baseURL"),withXsrfToken:Y.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let n=i&&l.merge(i.common,i[a.method]);i&&l.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),a.headers=H.concat(n,i);const c=[];let m=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(m=m&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let d,u=0,b;if(!m){const p=[Pa.bind(this),void 0];for(p.unshift(...c),p.push(...f),b=p.length,d=Promise.resolve(a);u<b;)d=d.then(p[u++],p[u++]);return d}b=c.length;let v=a;for(;u<b;){const p=c[u++],y=c[u++];try{v=p(v)}catch(g){y.call(this,g);break}}try{d=Pa.call(this,v)}catch(p){return Promise.reject(p)}for(u=0,b=f.length;u<b;)d=d.then(f[u++],f[u++]);return d}getUri(e){e=Ce(this.defaults,e);const a=js(e.baseURL,e.url,e.allowAbsoluteUrls);return vs(a,e.params,e.paramsSerializer)}};l.forEach(["delete","get","head","options"],function(e){Ne.prototype[e]=function(a,s){return this.request(Ce(s||{},{method:e,url:a,data:(s||{}).data}))}});l.forEach(["post","put","patch"],function(e){function a(s){return function(i,n,c){return this.request(Ce(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}Ne.prototype[e]=a(),Ne.prototype[e+"Form"]=a(!0)});let en=class Cs{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const n=new Promise(c=>{s.subscribe(c),i=c}).then(r);return n.cancel=function(){s.unsubscribe(i)},n},e(function(i,n,c){s.reason||(s.reason=new Be(i,n,c),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=s=>{e.abort(s)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new Cs(function(r){e=r}),cancel:e}}};function tn(t){return function(a){return t.apply(null,a)}}function an(t){return l.isObject(t)&&t.isAxiosError===!0}const Kt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kt).forEach(([t,e])=>{Kt[e]=t});function Os(t){const e=new Ne(t),a=cs(Ne.prototype.request,e);return l.extend(a,Ne.prototype,e,{allOwnKeys:!0}),l.extend(a,e,null,{allOwnKeys:!0}),a.create=function(r){return Os(Ce(t,r))},a}const O=Os(tt);O.Axios=Ne;O.CanceledError=Be;O.CancelToken=en;O.isCancel=Rs;O.VERSION=Ns;O.toFormData=At;O.AxiosError=E;O.Cancel=O.CanceledError;O.all=function(e){return Promise.all(e)};O.spread=tn;O.isAxiosError=an;O.mergeConfig=Ce;O.AxiosHeaders=H;O.formToJSON=t=>xs(l.isHTMLForm(t)?new FormData(t):t);O.getAdapter=Ts.getAdapter;O.HttpStatusCode=Kt;O.default=O;const{Axios:zn,AxiosError:_n,CanceledError:Hn,isCancel:qn,CancelToken:Bn,VERSION:Kn,all:Wn,Cancel:$n,isAxiosError:Vn,spread:Jn,toFormData:Qn,AxiosHeaders:Gn,HttpStatusCode:Zn,formToJSON:Xn,getAdapter:Yn,mergeConfig:eo}=O;var sn={};class rn{constructor(){q(this,"api");this.api=O.create({baseURL:"https://us-central1-smart-matwana-ke.cloudfunctions.net/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(e=>{const a=localStorage.getItem("authToken");return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e)),this.api.interceptors.response.use(e=>e,e=>{var a;return((a=e.response)==null?void 0:a.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user")),Promise.reject(e)})}async getHealth(){try{return(await this.api.get("/health")).data}catch(e){throw this.handleError(e)}}async login(e){try{const a=await this.api.post("/auth/login",e);return a.data.success&&a.data.data&&(localStorage.setItem("authToken",a.data.data.token),localStorage.setItem("user",JSON.stringify(a.data.data.user))),a.data}catch(a){throw this.handleError(a)}}async signup(e){try{const a=await this.api.post("/auth/register",e);return a.data.success&&a.data.data&&(localStorage.setItem("authToken",a.data.data.token),localStorage.setItem("user",JSON.stringify(a.data.data.user))),a.data}catch(a){throw this.handleError(a)}}async logout(){localStorage.removeItem("authToken"),localStorage.removeItem("user")}async getCurrentUser(){var e;try{return((e=(await this.api.get("/auth/profile")).data.data)==null?void 0:e.user)||null}catch{const s=localStorage.getItem("user");return s?JSON.parse(s):null}}async getRoutes(e){try{return(await this.api.get("/routes",{params:e})).data}catch(a){throw this.handleError(a)}}async getNearbyRoutes(e,a,s=5){try{return(await this.api.get("/routes/nearby",{params:{lat:e,lng:a,radius:s}})).data}catch(r){throw this.handleError(r)}}async getRoute(e){try{return(await this.api.get(`/routes/${e}`)).data}catch(a){throw this.handleError(a)}}async rateRoute(e,a){try{return(await this.api.post(`/routes/${e}/rate`,a)).data}catch(s){throw this.handleError(s)}}async createRoute(e){try{return(await this.api.post("/routes",e)).data}catch(a){throw this.handleError(a)}}async updateRoute(e,a){try{return(await this.api.put(`/routes/${e}`,a)).data}catch(s){throw this.handleError(s)}}async deleteRoute(e){try{return(await this.api.delete(`/routes/${e}`)).data}catch(a){throw this.handleError(a)}}async getReports(e=1,a=10){try{return(await this.api.get(`/reports?page=${e}&limit=${a}`)).data}catch(s){throw this.handleError(s)}}async getReportsByRoute(e){try{return(await this.api.get(`/reports/route/${e}`)).data}catch(a){throw this.handleError(a)}}async createReport(e){try{return(await this.api.post("/reports",e)).data}catch(a){throw this.handleError(a)}}async updateReport(e,a){try{return(await this.api.put(`/reports/${e}`,a)).data}catch(s){throw this.handleError(s)}}async deleteReport(e){try{return(await this.api.delete(`/reports/${e}`)).data}catch(a){throw this.handleError(a)}}async getScores(e){try{return(await this.api.get("/scores",{params:e})).data}catch(a){throw this.handleError(a)}}async getScoresByRoute(e){try{return(await this.api.get(`/scores/route/${e}`)).data}catch(a){throw this.handleError(a)}}async getTopRoutes(e=10){try{return(await this.api.get(`/scores/top/${e}`)).data}catch(a){throw this.handleError(a)}}async getWorstRoutes(e=10){try{return(await this.api.get(`/scores/worst/${e}`)).data}catch(a){throw this.handleError(a)}}async getAnalytics(){try{return(await this.api.get("/analytics/summary")).data}catch(e){throw this.handleError(e)}}async getHomepageAnalytics(){try{return(await this.api.get("/analytics/homepage")).data}catch(e){throw this.handleError(e)}}async getUsers(e=1,a=10){try{return(await this.api.get(`/users?page=${e}&limit=${a}`)).data}catch(s){throw this.handleError(s)}}async adminCreateUser(e){try{return(await this.api.post("/admin/users",e)).data}catch(a){throw this.handleError(a)}}async adminUpdateUser(e,a){try{return(await this.api.put(`/admin/users/${e}`,a)).data}catch(s){throw this.handleError(s)}}async getUser(e){try{return(await this.api.get(`/users/${e}`)).data}catch(a){throw this.handleError(a)}}async updateUser(e,a){try{return(await this.api.put(`/users/${e}`,a)).data}catch(s){throw this.handleError(s)}}async deleteUser(e){try{return(await this.api.delete(`/users/${e}`)).data}catch(a){throw this.handleError(a)}}handleError(e){var a,s;return e.response?new Error(((a=e.response.data)==null?void 0:a.message)||((s=e.response.data)==null?void 0:s.error)||"Server error"):e.request?new Error("Network error - please check your connection"):new Error(e.message||"An unexpected error occurred")}async uploadFile(e,a){try{const s=new FormData;return s.append("file",e),s.append("type",a),(await this.api.post("/upload",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw this.handleError(s)}}async searchRoutes(e,a){try{return(await this.api.get(`/routes/search/${encodeURIComponent(e)}`,{params:a})).data}catch(s){throw this.handleError(s)}}async geocodeAddress(e){try{return(await this.api.get(`/geocode?address=${encodeURIComponent(e)}`)).data}catch(a){throw this.handleError(a)}}async predict(e,a){var s;try{return((s=window==null?void 0:window.featureFlags)==null?void 0:s.ai)===!0||sn.VITE_ENABLE_AI==="true"?(await this.api.post("/ai/predict",{routeId:e,features:a})).data:{success:!0,data:{prediction:.5,label:"medium",confidence:.5}}}catch(r){throw this.handleError(r)}}async updateProfile(e,a){try{return(await this.api.put(`/users/${e}`,a)).data}catch(s){throw this.handleError(s)}}async getUserReports(e){try{return(await this.api.get(`/users/${e}/reports`)).data}catch(a){throw this.handleError(a)}}async getFavoriteRoutes(e){try{return(await this.api.get(`/users/${e}/favorites`)).data}catch(a){throw this.handleError(a)}}async addFavoriteRoute(e,a){try{return(await this.api.post(`/users/${e}/favorites`,{routeId:a})).data}catch(s){throw this.handleError(s)}}async removeFavoriteRoute(e,a){try{return(await this.api.delete(`/users/${e}/favorites/${a}`)).data}catch(s){throw this.handleError(s)}}async getUserAnalytics(e){try{return(await this.api.get(`/users/${e}/analytics`)).data}catch(a){throw this.handleError(a)}}async getDashboardStats(){try{return(await this.api.get("/dashboard/stats")).data}catch(e){throw this.handleError(e)}}async getWeatherData(){try{return(await this.api.get("/weather")).data}catch(e){throw this.handleError(e)}}async getRouteInsights(e){try{const a={};return e!=null&&e.limit&&(a.limit=e.limit),e!=null&&e.days&&(a.days=e.days),(await this.api.get("/insights/routes",{params:a})).data}catch(a){throw this.handleError(a)}}async getFarePrediction(e,a){try{const s=a?{timeOfDay:a}:{};return(await this.api.get(`/predictions/fare/${e}`,{params:s})).data}catch(s){throw this.handleError(s)}}async getSafetyScore(e){try{return(await this.api.get(`/predictions/safety/${e}`)).data}catch(a){throw this.handleError(a)}}async getCrowdDensity(e,a){try{const s=a?{timeOfDay:a}:{};return(await this.api.get(`/predictions/crowd/${e}`,{params:s})).data}catch(s){throw this.handleError(s)}}async getRouteEfficiency(e){try{return(await this.api.get(`/analytics/efficiency/${e}`)).data}catch(a){throw this.handleError(a)}}async predictTravelTime(e,a,s,r){try{return(await this.api.post("/analytics/travel-time/predict",{routeId:e,fromStop:a,toStop:s,timeOfDay:r})).data}catch(i){throw this.handleError(i)}}async findAlternativeRoutes(e,a,s,r){try{return(await this.api.post("/analytics/routes/alternatives",{fromStop:e,toStop:a,maxTime:s,maxCost:r})).data}catch(i){throw this.handleError(i)}}async analyzeTrends(e,a="weekly"){try{return(await this.api.get(`/analytics/trends/${e}`,{params:{period:a}})).data}catch(s){throw this.handleError(s)}}async forecastDemand(e,a){try{return(await this.api.post("/analytics/demand/forecast",{routeId:e,timeSlot:a})).data}catch(s){throw this.handleError(s)}}async getUserRecommendations(e,a){try{const s={};return a!=null&&a.limit&&(s.limit=a.limit),(await this.api.get(`/analytics/recommendations/${e}`,{params:s})).data}catch(s){throw this.handleError(s)}}async getBulkEfficiencyScores(e){try{return(await this.api.post("/analytics/efficiency/bulk",{routeIds:e})).data}catch(a){throw this.handleError(a)}}async compareRoutes(e){try{return(await this.api.post("/analytics/routes/compare",{routeIds:e})).data}catch(a){throw this.handleError(a)}}async getAnalyticsDashboard(e){try{return(await this.api.get(`/analytics/dashboard/${e}`)).data}catch(a){throw this.handleError(a)}}async getSaccoDashboard(){try{return(await this.api.get("/sacco/dashboard")).data}catch(e){throw this.handleError(e)}}async getAuthorityDashboard(){try{return(await this.api.get("/authority/dashboard")).data}catch(e){throw this.handleError(e)}}async exportComplianceData(){try{return(await this.api.get("/export/compliance",{responseType:"blob"})).data}catch(e){throw this.handleError(e)}}async exportIncidentsData(){try{return(await this.api.get("/export/incidents",{responseType:"blob"})).data}catch(e){throw this.handleError(e)}}}const Mt=new rn,Ma=()=>{try{return localStorage.getItem("language")==="sw"?"sw":"en"}catch{return"en"}},Ps={user:null,isAuthenticated:void 0,language:Ma(),settings:{language:Ma(),notifications:{email:!0,push:!0,safety:!0,updates:!0},privacy:{shareLocation:!0,shareReports:!0,analytics:!0},display:{theme:"auto",mapStyle:"default"}},theme:"light",notifications:!0,isLoading:!0,error:null};function nn(t,e){switch(e.type){case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload,isLoading:!1};case"SET_USER":return{...t,user:e.payload,isAuthenticated:!!e.payload};case"SET_AUTHENTICATED":return{...t,isAuthenticated:e.payload};case"SET_LANGUAGE":return{...t,language:e.payload,settings:{...t.settings,language:e.payload}};case"SET_THEME":return{...t,theme:e.payload,settings:{...t.settings,display:{...t.settings.display,theme:e.payload}}};case"SET_NOTIFICATIONS":return{...t,notifications:e.payload,settings:{...t.settings,notifications:{...t.settings.notifications,push:e.payload}}};case"UPDATE_SETTINGS":const a={...t.settings,...e.payload};return{...t,settings:a,language:a.language||t.language};case"LOGOUT":return{...t,user:null,isAuthenticated:!1,error:null};case"RESET":return Ps;default:return t}}const Us=A.createContext(void 0);function on({children:t}){const[e,a]=A.useReducer(nn,Ps);A.useEffect(()=>{(async()=>{try{a({type:"SET_LOADING",payload:!0});const g=localStorage.getItem("authToken"),x=localStorage.getItem("user");if(g&&x)try{const j=await Mt.getCurrentUser();j?a({type:"SET_USER",payload:j}):(console.warn("API call failed, clearing stored data"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),a({type:"SET_USER",payload:null}))}catch(j){console.warn("Failed to refresh user data, clearing stored data:",j),localStorage.removeItem("authToken"),localStorage.removeItem("user"),a({type:"SET_USER",payload:null})}}catch(g){console.error("Error loading user:",g)}finally{a({type:"SET_LOADING",payload:!1})}})()},[]),A.useEffect(()=>{(()=>{try{const g=localStorage.getItem("appSettings");if(g){const x=JSON.parse(g);a({type:"UPDATE_SETTINGS",payload:x})}}catch(g){console.error("Error loading settings:",g)}})()},[]),A.useEffect(()=>{try{localStorage.setItem("appSettings",JSON.stringify(e.settings))}catch(y){console.error("Error saving settings:",y)}},[e.settings]),A.useEffect(()=>{const y=document.documentElement;e.theme==="dark"||e.theme==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches?y.classList.add("dark"):y.classList.remove("dark")},[e.theme]),A.useEffect(()=>{document.documentElement.lang=e.language},[e.language]);const s=y=>{a({type:"SET_LOADING",payload:y})},r=y=>{a({type:"SET_ERROR",payload:y})},i=y=>{console.log("AppContext setUser called with:",y),a({type:"SET_USER",payload:y})},n=y=>{try{localStorage.setItem("language",y)}catch(g){console.error("Error saving language to localStorage:",g)}a({type:"SET_LANGUAGE",payload:y})},c=y=>{a({type:"SET_THEME",payload:y})},m=y=>{a({type:"SET_NOTIFICATIONS",payload:y})},f=y=>{a({type:"UPDATE_SETTINGS",payload:y})},d=()=>{Mt.logout(),a({type:"LOGOUT"})},u=()=>{Mt.logout(),a({type:"RESET"})},b=e.theme==="dark"||e.theme==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches,v=e.language,p={state:e,dispatch:a,setLoading:s,setError:r,setUser:i,setLanguage:n,setTheme:c,setNotifications:m,updateSettings:f,logout:d,reset:u,isDarkMode:b,currentLanguage:v};return o.jsx(Us.Provider,{value:p,children:t})}function at(){const t=A.useContext(Us);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t}const Ia={en:{common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",view:"View",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",sort:"Sort",refresh:"Refresh"},navigation:{home:"Home",map:"Map",report:"Report",login:"Login",signup:"Sign Up",admin:"Admin",profile:"Profile",settings:"Settings",dashboard:"Dashboard",analytics:"Analytics",saccoDashboard:"SACCO Dashboard",authorityDashboard:"Authority Dashboard",userManagement:"User Management",adminPanel:"Admin Panel"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",displayName:"Display Name",rememberMe:"Remember Me",forgotPassword:"Forgot Password?",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",loginTitle:"Welcome Back",loginSubtitle:"Sign in to your account to continue",signupTitle:"Create Account",signupSubtitle:"Join Smart Matatu and start your journey",emailPlaceholder:"Enter your email",passwordPlaceholder:"Enter your password",displayNamePlaceholder:"Enter your display name",confirmPasswordPlaceholder:"Confirm your password",organizationPlaceholder:"Enter your organization (optional)",selectRole:"Select your role",signIn:"Sign In",signUp:"Sign Up",creatingAccount:"Creating account...",signingIn:"Signing in...",loginSuccess:"Login successful!",signupSuccess:"Account created successfully!",loginError:"Login failed. Please check your credentials.",signupError:"Signup failed. Please try again.",emailRequired:"Email is required",passwordRequired:"Password is required",displayNameRequired:"Display name is required",passwordTooShort:"Password must be at least 8 characters",emailInvalid:"Please enter a valid email address",passwordsDoNotMatch:"Passwords do not match"},map:{title:"Nairobi Matatu Routes",loading:"Loading routes...",noRoutes:"No routes available",selectRoute:"Select a route",viewDetails:"View Details",reportTrip:"Report Trip",filter:"Filter",sort:"Sort",toggleFilters:"Toggle filter panel",toggleListView:"Toggle list view",quickFilters:"Quick Filters",highReliability:"High Reliability (4+ stars)",safeRoutes:"Safe Routes (4+ stars)",lowFare:"Low Fare (Under 50 KES)",ofRoutes:"{current} of {total} routes",availableRoutes:"Available Routes",filters:"Filters",routeFilters:"Route filters",fare:"Fare",hours:"Hours",stops:"Stops",routeNo:"Route No.",viewOnMap:"View on Map",rate:"Rate",tryAgain:"Try Again",genericError:"An error occurred",mapAria:"Interactive map showing Nairobi matatu routes"},report:{title:"Report Your Trip",route:"Route",selectRoute:"Select a route",saccoOptional:"Matatu SACCO (optional)",selectSacco:"Select SACCO",direction:"Direction",fromCBD:"From CBD",toCBD:"To CBD",alongRoute:"Along this route",fare:"Fare (KSh)",farePlaceholder:"e.g., 80",reportType:"Report Type",delay:"Delay",overcrowding:"Overcrowding",breakdown:"Breakdown",safety:"Safety issue",other:"Other",severity:"Severity",low:"Low",medium:"Medium",high:"High",critical:"Critical",anonymous:"Submit anonymously",description:"Description",descriptionPlaceholder:"Describe the issue...",loading:"Loading report form...",submit:"Submit Report",success:"Report submitted successfully"},analytics:{loading:"Loading Advanced Analytics...",errorTitle:"Error Loading Analytics",retry:"Retry",headerTitle:"Advanced Analytics",headerSubtitle:"Comprehensive insights and predictions for route optimization",tabs:{efficiency:"Route Efficiency",predictions:"Travel Predictions",trends:"Trend Analysis",recommendations:"Recommendations"},efficiencyTitle:"Route Efficiency Scores",selectRoute:"Select a route",refresh:"Refresh",recommendationsTitle:"Personalized Recommendations",yourPreferences:"Your Preferences",prefEfficiency:"Efficiency",prefSafety:"Safety",prefCost:"Cost",prefConvenience:"Convenience",goodPerformance:"Good performance",recommendedRoutes:"Recommended Routes",travelPredictionsTitle:"Travel Time Predictions",predict:"Predict",fromStop:"From stop",toStop:"To stop",timeSlot:"Time",minutesShort:"min",confidence:"confidence",optimistic:"Optimistic",realistic:"Realistic",pessimistic:"Pessimistic",factors:"Factors",alternativeRoutesTitle:"Alternative Routes",find:"Find",reasons:"Reasons",trendAnalysisTitle:"Trend Analysis",periodDaily:"Daily",periodWeekly:"Weekly",periodMonthly:"Monthly",update:"Update",routeTrends:"Route Trends",current:"Current",previous:"Previous",insights:"Insights",demandForecastsTitle:"Demand Forecasts"},home:{title:"Welcome to Smart Matatu",subtitle:"Find reliable and safe matatu routes across Nairobi with real-time updates, community insights, and safety information.",viewMap:"View Map",reportTrip:"Report Trip",systemOnline:"System Online - All services operational",systemOffline:"System Offline - Limited functionality",checkingStatus:"Checking system status...",activeRoutes:"Active Routes",reportsToday:"Reports Today",safetyRating:"Safety Rating",activeUsers:"Active Users",howItWorks:"How Smart Matatu Works",howItWorksDesc:"Our platform combines community insights with real-time data to make Nairobi's transport system more reliable and safe.",realTimeTracking:"Real-time Route Tracking",realTimeTrackingDesc:"Get live updates on matatu locations, delays, and availability.",safetyReports:"Safety Reports",safetyReportsDesc:"Report and view safety incidents to help keep everyone safe.",reliabilityScores:"Reliability Scores",reliabilityScoresDesc:"See which routes are most reliable based on community data.",communityInsights:"Community Insights",communityInsightsDesc:"Share experiences and help others make informed transport decisions.",readyToStart:"Ready to Get Started?",readyToStartDesc:"Join thousands of Nairobi commuters who are already using Smart Matatu to make their daily journeys safer and more reliable.",signUpNow:"Sign Up Now",exploreMap:"Explore Map"},dashboard:{title:"Dashboard",welcome:"Welcome back",smartRouteInsights:"Smart Route Insights",weatherConditions:"Weather Conditions",favoriteRoutes:"Favorite Routes",recentReports:"Recent Reports",viewAllReports:"View All Reports",noReports:"No recent reports",noFavorites:"No favorite routes yet",addFavorites:"Add some routes to your favorites to see them here",loading:"Loading dashboard...",loadingYourDashboard:"Loading your smart dashboard...",errorTitle:"Dashboard Error",tryAgain:"Try Again",headerSubtitle:"Here's your personalized matatu insights for today",currentWeather:"Current Weather",humidityLabel:"humidity",windSpeedLabel:"km/h",activeRoutesTitle:"Active Routes",routesMonitored:"Routes monitored",avgFareTitle:"Avg Fare",currentAverage:"Current average",overallSafety:"Overall safety",viewAllRoutesBtn:"View All Routes",aiRecommendations:"AI-powered recommendations for your daily commute",noInsights:"No route insights available",exploreRoutes:"Explore Routes",routeIdLabel:"Route ID",crowdSuffix:"crowd",crowdLow:"Low crowd",crowdMedium:"Medium crowd",crowdHigh:"High crowd",predictedFareLabel:"Predicted fare",safetyScoreLabel:"Safety score",travelTimeLabel:"Travel time",bestTimeLabel:"Best time",routeLabel:"Route",viewLabel:"View",submitReportBtn:"Tuma Ripoti",quickActions:"Quick Actions",quickViewMap:"View Map",quickSubmitReport:"Tuma Ripoti",quickViewProfile:"View Profile",totalRoutes:"Total Routes",activeReports:"Active Reports",averageFare:"Average Fare",safetyRating:"Safety Rating",temperature:"Temperature",humidity:"Humidity",windSpeed:"Wind Speed",routeName:"Route Name",farePrediction:"Fare Prediction",safetyScore:"Safety Score",crowdDensity:"Crowd Density",travelTime:"Travel Time",recommendedTime:"Recommended Time",alternativeRoutes:"Alternative Routes",weatherImpact:"Weather Impact",lastUpdated:"Last Updated",low:"Low",medium:"Medium",high:"High",excellent:"Excellent",good:"Good",average:"Average",poor:"Poor",veryPoor:"Very Poor"},footer:{description:"Making Nairobi's transport system more reliable, safe, and accessible for everyone.",quickLinks:"Quick Links",services:"Services",contact:"Contact",routePlanning:"Route Planning",safetyReports:"Safety Reports",realTimeUpdates:"Real-time Updates",analytics:"Analytics",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",allRightsReserved:"All rights reserved."},sacco:{loading:"Loading SACCO Dashboard...",title:"SACCO Dashboard",subtitle:"Manage your fleet, drivers, and routes",date7d:"Last 7 days",date30d:"Last 30 days",date90d:"Last 90 days",refresh:"Refresh",tabs:{overview:"Overview",routes:"Route Performance",drivers:"Driver Management",feedback:"Customer Feedback",fleet:"Fleet Management"},metrics:{activeRoutes:"Active Routes",activeDrivers:"Active Drivers",totalRevenue7d:"Total Revenue (7d)",avgRating:"Avg Rating"},revenueTooltip:"Estimated: unique devices reporting on each route in the last 7 days  route fare. This is a directional proxy, not audited revenue.",fleetStatus:"Fleet Status",activeVehicles:"Active Vehicles",ofTotal:"of {total} total",maintenanceDue:"Maintenance Due",vehiclesNeedService:"vehicles need service",utilizationRate:"Utilization Rate",averageFleetUsage:"average fleet usage",routePerformance:"Route Performance",table:{route:"Route",efficiency:"Efficiency",revenue7d:"Revenue (7d)",passengers:"Passengers",onTime:"On-Time %",safety:"Safety",trend:"Trend"},driverPerformance:"Driver Performance",driversTable:{driver:"Driver",safetyScore:"Safety Score",onTime:"On-Time %",rating:"Rating",incidents:"Incidents",status:"Status",routes:"Routes"},customerFeedback:"Customer Feedback",filters:{allStatus:"All Status",pending:"Pending",inProgress:"In Progress",resolved:"Resolved"},resolvedInDays:"Resolved in {days} days",fleetOverview:"Fleet Overview",totalVehicles:"Total Vehicles",averageAge:"Average Age",years:"years",fleetUtilization:"Fleet Utilization"},authority:{title:"Transport Authority Dashboard",subtitle:"Monitor compliance, incidents, and system metrics",loading:"Loading Authority Dashboard...",last7Days:"Last 7 days",last30Days:"Last 30 days",last90Days:"Last 90 days",refresh:"Refresh",tabs:{compliance:"Compliance",incidents:"Incidents",metrics:"System Metrics",reports:"Reports & Export",audit:"Audit Log",system:"System Health"},kpiCards:{totalSaccos:"Total SACCOs",compliantSaccos:"Compliant SACCOs",activeIncidents:"Active Incidents",systemUptime:"System Uptime"},complianceTable:{title:"SACCO Compliance Status",sacco:"SACCO",licenseStatus:"License Status",safetyScore:"Safety Score",incidentCount:"Incidents",lastInspection:"Last Inspection",violations:"Violations",status:"Status"},complianceStatus:{compliant:"Compliant",warning:"Warning",nonCompliant:"Non-Compliant",valid:"Valid",expired:"Expired",pending:"Pending",unknown:"Unknown"},incidentsTable:{title:"Safety Incidents",route:"Route",type:"Type",severity:"Severity",description:"Description",location:"Location",reportedAt:"Reported At",assignedTo:"Assigned To",resolution:"Resolution",resolvedAt:"Resolved At",allSeverity:"All Severity",allStatus:"All Status",low:"Low",medium:"Medium",high:"High",critical:"Critical",reported:"Reported",investigating:"Investigating",resolved:"Resolved",closed:"Closed"},systemMetrics:{title:"System Metrics",totalUsers:"Total Users",activeReports:"Active Reports",totalRoutes:"Total Routes",systemUptime:"System Uptime",dataQuality:"Data Quality",averageResponseTime:"Average Response Time"},performance:{title:"Performance",systemUptime:"System Uptime",avgResponseTime:"Avg Response Time",dataQuality:"Data Quality"},reports:{title:"Data Export & Reports",complianceReport:{title:"Compliance Report",description:"SACCO compliance data"},safetyIncidents:{title:"Safety Incidents",description:"Incident reports and data"},systemAnalytics:{title:"System Analytics",description:"Performance metrics"},exportCsv:"Export CSV",exportXls:"Export XLS"},auditTable:{title:"System Audit Logs",action:"Action",user:"User",timestamp:"Timestamp",details:"Details",ipAddress:"IP Address",status:"Status",success:"Success",failed:"Failed",warning:"Warning"},systemHealth:{title:"System Health",systemUptime:"System Uptime",dataQuality:"Data Quality",averageResponseTime:"Average Response Time"},userActivity:{title:"User Activity",totalUsers:"Total Users",activeReports:"Active Reports",totalRoutes:"Total Routes"}},userManagement:{title:"User Management",subtitle:"Manage users, roles, and permissions",loading:"Loading Users...",tabs:{users:"Users",roles:"Roles"},table:{displayName:"Display Name",email:"Email",role:"Role",status:"Status",actions:"Actions"},actions:{editUser:"Edit User",deleteUser:"Delete User",viewProfile:"View Profile"},status:{active:"Active",pending:"Pending",suspended:"Suspended",rejected:"Rejected"},roles:{admin:"Admin",moderator:"Moderator",sacco:"SACCO",authority:"Authority",user:"User"},deleteConfirm:{title:"Confirm Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",cancel:"Cancel",delete:"Delete"},messages:{userDeleted:"User deleted successfully",userUpdated:"User updated successfully",deleteError:"Failed to delete user",updateError:"Failed to update user"},filters:{searchUsers:"Search users...",filterByRole:"Filter by role",filterByStatus:"Filter by status",allRoles:"All Roles",allStatus:"All Status",applyFilters:"Apply Filters",clearFilters:"Clear Filters"},noUsers:"No users found"},admin:{title:"Admin Dashboard",subtitle:"System administration and management",loading:"Loading Admin Dashboard...",stats:{totalUsers:"Total Users",activeRoutes:"Active Routes",totalReports:"Total Reports",systemUptime:"System Uptime"},quickActions:{title:"Quick Actions",addRoute:"Add Route",manageUsers:"Manage Users",viewReports:"View Reports",systemSettings:"System Settings"},recentActivity:{title:"Recent Activity",noActivity:"No recent activity"}},profile:{title:"Profile",subtitle:"Manage your account settings",loading:"Loading Profile...",tabs:{personal:"Personal Information",security:"Security",reports:"My Reports",favorites:"Favorites",analytics:"Analytics"},personalInfo:{displayName:"Display Name",email:"Email Address",role:"Role",organization:"Organization",uploadPhoto:"Upload Photo",editProfile:"Edit Profile",uploading:"Uploading...",saveChanges:"Save Changes"},security:{changePassword:"Change Password",oldPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password"},messages:{profileUpdated:"Profile updated successfully",profileError:"Failed to update profile",passwordUpdated:"Password updated successfully",passwordError:"Failed to update password",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 8 characters",currentPasswordIncorrect:"Current password is incorrect",newPasswordSameAsOld:"New password must be different from current password",uploadingImage:"Uploading image...",imageUploadError:"Failed to upload image",avatarUpdateError:"Failed to update profile with new avatar"}}},sw:{common:{loading:"Inapakia...",error:"Hitilafu",success:"Imefanikiwa",cancel:"Ghairi",save:"Hifadhi",delete:"Futa",edit:"Hariri",view:"Ona",close:"Funga",back:"Rudi",next:"Ifuatayo",previous:"Iliyotangulia",submit:"Wasilisha",search:"Tafuta",filter:"Chuja",sort:"Panga",refresh:"Sasisha"},navigation:{home:"Nyumbani",map:"Ramani",report:"Ripoti",login:"Ingia",signup:"Jisajili",admin:"Msimamizi",profile:"Wasifu",settings:"Mipangilio",dashboard:"Dashibodi",analytics:"Uchambuzi",saccoDashboard:"Dashibodi ya SACCO",authorityDashboard:"Dashibodi ya Mamlaka",userManagement:"Usimamizi wa Watumiaji",adminPanel:"Paneli ya Msimamizi"},auth:{login:"Ingia",signup:"Jisajili",logout:"Ondoka",email:"Barua Pepe",password:"Nenosiri",confirmPassword:"Thibitisha Nenosiri",displayName:"Jina la Maonyesho",rememberMe:"Nikumbuke",forgotPassword:"Umesahau Nenosiri?",createAccount:"Unda Akaunti",alreadyHaveAccount:"Una akaunti?",dontHaveAccount:"Huna akaunti?",loginTitle:"Karibu Tena",loginSubtitle:"Ingia kwenye akaunti yako ili kuendelea",signupTitle:"Unda Akaunti",signupSubtitle:"Jiunge na Smart Matatu na uanze safari yako",emailPlaceholder:"Ingiza barua pepe yako",passwordPlaceholder:"Ingiza nenosiri lako",displayNamePlaceholder:"Ingiza jina lako la maonyesho",confirmPasswordPlaceholder:"Thibitisha nenosiri lako",organizationPlaceholder:"Ingiza shirika lako (si lazima)",selectRole:"Chagua jukumu lako",signIn:"Ingia",signUp:"Jisajili",creatingAccount:"Inaunda akaunti...",signingIn:"Inaingia...",loginSuccess:"Umeingia kwa mafanikio!",signupSuccess:"Akaunti imeundwa kwa mafanikio!",loginError:"Kuingia kumeshindwa. Tafadhali angalia maelezo yako.",signupError:"Kujisajili kumeshindwa. Tafadhali jaribu tena.",emailRequired:"Barua pepe inahitajika",passwordRequired:"Nenosiri linahitajika",displayNameRequired:"Jina la maonyesho linahitajika",passwordTooShort:"Nenosiri lazima liwe na angalau herufi 8",emailInvalid:"Tafadhali ingiza barua pepe halali",passwordsDoNotMatch:"Nenosiri halifanani"},map:{title:"Njia za Matatu Nairobi",loading:"Inapakia njia...",noRoutes:"Hakuna njia zinazopatikana",selectRoute:"Chagua njia",viewDetails:"Ona Maelezo",reportTrip:"Ripoti Safari",filter:"Chuja",sort:"Panga",toggleFilters:"Washa/Zima paneli ya vichujio",toggleListView:"Washa/Zima mwonekano wa orodha",quickFilters:"Vichujio vya Haraka",highReliability:"Kuegemea Juu (nyota 4+)",safeRoutes:"Njia Salama (nyota 4+)",lowFare:"Kodi ya Chini (chini ya KES 50)",ofRoutes:"{current} kati ya {total} njia",availableRoutes:"Njia Zilizopo",filters:"Vichujio",routeFilters:"Vichujio vya njia",fare:"Kodi",hours:"Saa",stops:"Vituo",routeNo:"Nambari ya Njia",viewOnMap:"Ona kwenye Ramani",rate:"Kadiria",tryAgain:"Jaribu Tena",genericError:"Hitilafu imetokea",mapAria:"Ramani shirikishi inayoonyesha njia za matatu Nairobi"},report:{title:"Ripoti Safari Yako",route:"Njia",selectRoute:"Chagua njia",saccoOptional:"SACCO ya Matatu (hiari)",selectSacco:"Chagua SACCO",direction:"Mwelekeo",fromCBD:"Kutoka CBD",toCBD:"Kwenda CBD",alongRoute:"Kalongoni ya njia hii",fare:"Kodi (KSh)",farePlaceholder:"mf., 80",reportType:"Aina ya Ripoti",delay:"Kuchelewa",overcrowding:"Msongamano Mkubwa",breakdown:"Kuvunjika",safety:"Suala la Usalama",other:"Nyingine",severity:"Ukali",low:"Chini",medium:"Wastani",high:"Juu",critical:"Hatari",anonymous:"Wasilisha bila kujitambulisha",description:"Maelezo",descriptionPlaceholder:"Eleza tatizo...",loading:"Inapakia fomu ya ripoti...",submit:"Wasilisha Ripoti",success:"Ripoti imewasilishwa kwa mafanikio"},analytics:{loading:"Inapakia Uchambuzi wa Juu...",errorTitle:"Hitilafu Wakati wa Kupakia Uchambuzi",retry:"Jaribu Tena",headerTitle:"Uchambuzi wa Juu",headerSubtitle:"Maarifa kamili na utabiri wa kuboresha njia",tabs:{efficiency:"Ufanisi wa Njia",predictions:"Utabiri wa Safari",trends:"Uchambuzi wa Mitindo",recommendations:"Mapendekezo"},efficiencyTitle:"Alama za Ufanisi wa Njia",selectRoute:"Chagua njia",refresh:"Sasisha",recommendationsTitle:"Mapendekezo ya Kibinafsi",yourPreferences:"Upendeleo Wako",prefEfficiency:"Ufanisi",prefSafety:"Usalama",prefCost:"Gharama",prefConvenience:"Urahisi",goodPerformance:"Utendaji mzuri",recommendedRoutes:"Njia Zilizopendekezwa",travelPredictionsTitle:"Utabiri wa Muda wa Safari",predict:"Tabiri",fromStop:"Kituo cha Mwanzo",toStop:"Kituo cha Mwisho",timeSlot:"Muda",minutesShort:"dak",confidence:"uhakika",optimistic:"Ya Kutosha",realistic:"Halisi",pessimistic:"Ya Tahadhari",factors:"Vigezo",alternativeRoutesTitle:"Njia Mbadala",find:"Tafuta",reasons:"Sababu",trendAnalysisTitle:"Uchambuzi wa Mitindo",periodDaily:"Kila siku",periodWeekly:"Kila wiki",periodMonthly:"Kila mwezi",update:"Sasisha",routeTrends:"Mitindo ya Njia",current:"Sasa",previous:"Iliyopita",insights:"Maarifa",demandForecastsTitle:"Utabiri wa Mahitaji"},home:{title:"Karibu Smart Matatu",subtitle:"Pata njia za matatu za kuegemea na salama Nairobi kwa masasisho ya wakati halisi, maarifa ya jamii, na taarifa za usalama.",viewMap:"Ona Ramani",reportTrip:"Ripoti Safari",systemOnline:"Mfumo Uko Mtandaoni - Huduma zote zinatumika",systemOffline:"Mfumo Haupo Mtandaoni - Utendaji mdogo",checkingStatus:"Inachunguza hali ya mfumo...",activeRoutes:"Njia Zinazotumika",reportsToday:"Ripoti za Leo",safetyRating:"Kiwango cha Usalama",activeUsers:"Watumiaji Waliohai",howItWorks:"Smart Matatu Inafanyaje Kazi",howItWorksDesc:"Jukwaa letu linaunganisha maarifa ya jamii na data ya wakati halisi ili kufanya mfumo wa usafiri wa Nairobi uwe wa kuegemea na salama zaidi.",realTimeTracking:"Kufuatilia Njia kwa Wakati Halisi",realTimeTrackingDesc:"Pata masasisho ya moja kwa moja kuhusu maeneo ya matatu, ucheleweshaji, na upatikanaji.",safetyReports:"Ripoti za Usalama",safetyReportsDesc:"Ripoti na ona matukio ya usalama ili kusaidia kuhakikisha kila mtu ana usalama.",reliabilityScores:"Alama za Kuegemea",reliabilityScoresDesc:"Ona ni njia zipi za kuegemea zaidi kulingana na data ya jamii.",communityInsights:"Maarifa ya Jamii",communityInsightsDesc:"Shiriki uzoefu na usaidie wengine kufanya maamuzi ya usafiri yenye misingi.",readyToStart:"Uko Tayari Kuanza?",readyToStartDesc:"Jiunge na maelfu ya wasafiri wa Nairobi ambao tayari wanatumia Smart Matatu kufanya safari zao za kila siku ziwe salama na za kuegemea zaidi.",signUpNow:"Jisajili Sasa",exploreMap:"Chunguza Ramani"},dashboard:{title:"Dashibodi",welcome:"Karibu tena",smartRouteInsights:"Maarifa ya Njia za Akili",weatherConditions:"Hali ya Hewa",favoriteRoutes:"Njia za Kupendeza",recentReports:"Ripoti za Hivi Karibuni",viewAllReports:"Ona Ripoti Zote",noReports:"Hakuna ripoti za hivi karibuni",noFavorites:"Hakuna njia za kupendeza bado",addFavorites:"Ongeza njia kadhaa kwenye vipendeleo vyako ili uwaone hapa",loading:"Inapakia dashibodi...",loadingYourDashboard:"Inapakia dashibodi yako ya kisasa...",errorTitle:"Hitilafu ya Dashibodi",tryAgain:"Jaribu Tena",headerSubtitle:"Hapa kuna maarifa yako ya kibinafsi ya matatu kwa leo",currentWeather:"Hali ya Hewa ya Sasa",humidityLabel:"unyevu",windSpeedLabel:"km/h",activeRoutesTitle:"Njia Zinazotumika",routesMonitored:"Njia zinazofuatiliwa",avgFareTitle:"Kodi ya Wastani",currentAverage:"Wastani wa sasa",overallSafety:"Usalama kwa ujumla",viewAllRoutesBtn:"Ona Njia Zote",aiRecommendations:"Mapendekezo yanayoendeshwa na AI kwa safari yako ya kila siku",noInsights:"Hakuna maarifa ya njia yaliyopo",exploreRoutes:"Chunguza Njia",routeIdLabel:"Kitambulisho cha Njia",crowdSuffix:"msongamano",crowdLow:"Msongamano kidogo",crowdMedium:"Msongamano wastani",crowdHigh:"Msongamano kubwa",predictedFareLabel:"Utabiri wa kodi",safetyScoreLabel:"Alama ya usalama",travelTimeLabel:"Muda wa kusafiri",bestTimeLabel:"Muda bora",routeLabel:"Njia",viewLabel:"Ona",submitReportBtn:"Wasilisha Ripoti",quickActions:"Vitendo vya Haraka",quickViewMap:"Ona Ramani",quickSubmitReport:"Tuma Ripoti",quickViewProfile:"Ona Wasifu",totalRoutes:"Jumla ya Njia",activeReports:"Ripoti Zinazotumika",averageFare:"Kodi ya Wastani",safetyRating:"Kiwango cha Usalama",temperature:"Joto",humidity:"Unyevu",windSpeed:"Kasi ya Upepo",routeName:"Jina la Njia",farePrediction:"Utabiri wa Kodi",safetyScore:"Alama ya Usalama",crowdDensity:"Msongamano wa Watu",travelTime:"Muda wa Kusafiri",recommendedTime:"Muda wa Kupendekezwa",alternativeRoutes:"Njia Mbadala",weatherImpact:"Athari ya Hali ya Hewa",lastUpdated:"Imesasishwa Mwisho",low:"Msongamano Kidogo",medium:"Msongamano Wastani",high:"Msongamano Kubwa",excellent:"Bora Sana",good:"Nzuri",average:"Wastani",poor:"Duni",veryPoor:"Duni Sana"},footer:{description:"Kufanya mfumo wa usafiri wa Nairobi uwe wa kuegemea, salama, na wa kupatikana kwa kila mtu.",quickLinks:"Viungo vya Haraka",services:"Huduma",contact:"Mawasiliano",routePlanning:"Kupanga Njia",safetyReports:"Ripoti za Usalama",realTimeUpdates:"Masasisho ya Wakati Halisi",analytics:"Uchambuzi",privacyPolicy:"Sera ya Faragha",termsOfService:"Masharti ya Huduma",allRightsReserved:"Haki zote zimehifadhiwa."},sacco:{loading:"Inapakia Dashibodi ya SACCO...",title:"Dashibodi ya SACCO",subtitle:"Simamia magari, madereva, na njia zako",date7d:"Siku 7 zilizopita",date30d:"Siku 30 zilizopita",date90d:"Siku 90 zilizopita",refresh:"Sasisha",tabs:{overview:"Muhtasari",routes:"Utendaji wa Njia",drivers:"Usimamizi wa Madereva",feedback:"Maoni ya Wateja",fleet:"Usimamizi wa Magari"},metrics:{activeRoutes:"Njia Zinazotumika",activeDrivers:"Madereva Hai",totalRevenue7d:"Mapato Jumla (7d)",avgRating:"Kiwango cha Wastani"},revenueTooltip:"Makadirio: vifaa vya kipekee vilivyoripoti kwa kila njia katika siku 7 zilizopita  nauli ya njia. Hii ni rejea ya mwongozo, sio mapato yaliyokaguliwa.",fleetStatus:"Hali ya Magari",activeVehicles:"Magari Hai",ofTotal:"kati ya jumla ya {total}",maintenanceDue:"Matengenezo Yanahitajika",vehiclesNeedService:"magari yanahitaji huduma",utilizationRate:"Kiwango cha Matumizi",averageFleetUsage:"matumizi ya wastani ya magari",routePerformance:"Utendaji wa Njia",table:{route:"Njia",efficiency:"Ufanisi",revenue7d:"Mapato (7d)",passengers:"Abiria",onTime:"Kwa Wakati %",safety:"Usalama",trend:"Mwelekeo"},driverPerformance:"Utendaji wa Dereva",driversTable:{driver:"Dereva",safetyScore:"Alama ya Usalama",onTime:"Kwa Wakati %",rating:"Kiwango",incidents:"Matukio",status:"Hali",routes:"Njia"},customerFeedback:"Maoni ya Wateja",filters:{allStatus:"Hali Zote",pending:"Inasubiri",inProgress:"Inaendelea",resolved:"Imetatuliwa"},resolvedInDays:"Imetatuliwa ndani ya siku {days}",fleetOverview:"Muhtasari wa Magari",totalVehicles:"Magari Jumla",averageAge:"Umri wa Wastani",years:"miaka",fleetUtilization:"Matumizi ya Magari"},authority:{title:"Dashibodi ya Mamlaka za Usafiri",subtitle:"Fuatilia utii, matukio, na vipimo vya mfumo",loading:"Inapakia Dashibodi ya Mamlaka...",last7Days:"Siku 7 zilizopita",last30Days:"Siku 30 zilizopita",last90Days:"Siku 90 zilizopita",refresh:"Sasisha",tabs:{compliance:"Utii",incidents:"Matukio",metrics:"Vipimo vya Mfumo",reports:"Ripoti na Uhamishaji",audit:"Kumbukumbu za Ukaguzi",system:"Afya ya Mfumo"},kpiCards:{totalSaccos:"SACCO Jumla",compliantSaccos:"SACCO Zinatii",activeIncidents:"Matukio Hai",systemUptime:"Muda wa Mfumo"},complianceTable:{title:"Hali ya Utii wa SACCO",sacco:"SACCO",licenseStatus:"Hali ya Leseni",safetyScore:"Alama ya Usalama",incidentCount:"Matukio",lastInspection:"Ukaguzi wa Mwisho",violations:"Ukiukaji",status:"Hali"},complianceStatus:{compliant:"Anatii",warning:"Onyo",nonCompliant:"Hatatii",valid:"Halali",expired:"Imeisha",pending:"Inasubiri",unknown:"Haijulikani"},incidentsTable:{title:"Matukio ya Usalama",route:"Njia",type:"Aina",severity:"Ukali",description:"Maelezo",location:"Mahali",reportedAt:"Iliripotiwa",assignedTo:"Imepewa",resolution:"Suluhisho",resolvedAt:"Ilitatuliwa",allSeverity:"Ukali Wote",allStatus:"Hali Zote",low:"Chini",medium:"Wastani",high:"Juu",critical:"Muhimu",reported:"Imeripotiwa",investigating:"Inachunguzwa",resolved:"Imesuluhishwa",closed:"Imezimwa"},systemMetrics:{title:"Vipimo vya Mfumo",totalUsers:"Watumiaji Jumla",activeReports:"Ripoti Hai",totalRoutes:"Njia Jumla",systemUptime:"Muda wa Mfumo",dataQuality:"Ubora wa Data",averageResponseTime:"Muda wa Wastani wa Majibu"},performance:{title:"Utendaji",systemUptime:"Muda wa Mfumo",avgResponseTime:"Muda wa Wastani wa Majibu",dataQuality:"Ubora wa Data"},reports:{title:"Uhamishaji wa Data na Ripoti",complianceReport:{title:"Ripoti ya Utii",description:"Data ya utii wa SACCO"},safetyIncidents:{title:"Matukio ya Usalama",description:"Ripoti na data ya matukio"},systemAnalytics:{title:"Uchambuzi wa Mfumo",description:"Vipimo vya utendaji"},exportCsv:"Hamisha CSV",exportXls:"Hamisha XLS"},auditTable:{title:"Kumbukumbu za Ukaguzi wa Mfumo",action:"Kitendo",user:"Mtumiaji",timestamp:"Wakati",details:"Maelezo",ipAddress:"Anwani ya IP",status:"Hali",success:"Imefanikiwa",failed:"Imeshindwa",warning:"Onyo"},systemHealth:{title:"Afya ya Mfumo",systemUptime:"Muda wa Mfumo",dataQuality:"Ubora wa Data",averageResponseTime:"Muda wa Wastani wa Majibu"},userActivity:{title:"Shughuli za Watumiaji",totalUsers:"Watumiaji Jumla",activeReports:"Ripoti Hai",totalRoutes:"Njia Jumla"}},userManagement:{title:"Usimamizi wa Watumiaji",subtitle:"Simamia watumiaji, majukumu, na ruhusa",loading:"Inapakia Watumiaji...",tabs:{users:"Watumiaji",roles:"Majukumu"},table:{displayName:"Jina la Maonyesho",email:"Barua Pepe",role:"Jukumu",status:"Hali",actions:"Vitendo"},actions:{editUser:"Hariri Mtumiaji",deleteUser:"Futa Mtumiaji",viewProfile:"Ona Wasifu"},status:{active:"Hai",pending:"Inasubiri",suspended:"Imesimamishwa",rejected:"Imekataliwa"},roles:{admin:"Msimamizi",moderator:"Mdhibiti",sacco:"SACCO",authority:"Mamlaka",user:"Mtumiaji"},deleteConfirm:{title:"Thibitisha Kufuta Mtumiaji",message:"Una uhakika unataka kumfuta mtumiaji huyu? Kitendo hiki hakiwezi kurudishwa.",cancel:"Ghairi",delete:"Futa"},messages:{userDeleted:"Mtumiaji amefutwa kwa mafanikio",userUpdated:"Mtumiaji amesasishwa kwa mafanikio",deleteError:"Imeshindwa kumfuta mtumiaji",updateError:"Imeshindwa kumsasisha mtumiaji"},filters:{searchUsers:"Tafuta watumiaji...",filterByRole:"Chuja kwa jukumu",filterByStatus:"Chuja kwa hali",allRoles:"Majukumu Yote",allStatus:"Hali Zote",applyFilters:"Tumia Vichujio",clearFilters:"Futa Vichujio"},noUsers:"Hakuna watumiaji waliopatikana"},admin:{title:"Dashibodi ya Msimamizi",subtitle:"Utawala na usimamizi wa mfumo",loading:"Inapakia Dashibodi ya Msimamizi...",stats:{totalUsers:"Watumiaji Jumla",activeRoutes:"Njia Zinazotumika",totalReports:"Ripoti Jumla",systemUptime:"Muda wa Mfumo"},quickActions:{title:"Vitendo vya Haraka",addRoute:"Ongeza Njia",manageUsers:"Simamia Watumiaji",viewReports:"Ona Ripoti",systemSettings:"Mipangilio ya Mfumo"},recentActivity:{title:"Shughuli za Hivi Karibuni",noActivity:"Hakuna shughuli za hivi karibuni"}},profile:{title:"Wasifu",subtitle:"Simamia mipangilio ya akaunti yako",loading:"Inapakia Wasifu...",tabs:{personal:"Maelezo ya Kibinafsi",security:"Usalama",reports:"Ripoti Zangu",favorites:"Vipendwa",analytics:"Uchambuzi"},personalInfo:{displayName:"Jina la Maonyesho",email:"Anwani ya Barua Pepe",role:"Jukumu",organization:"Shirika",uploadPhoto:"Pakia Picha",editProfile:"Hariri Wasifu",uploading:"Inapakia...",saveChanges:"Hifadhi Mabadiliko"},security:{changePassword:"Badili Nenosiri",oldPassword:"Nenosiri la Sasa",newPassword:"Nenosiri Jipya",confirmNewPassword:"Thibitisha Nenosiri Jipya",updatePassword:"Sasisha Nenosiri"},messages:{profileUpdated:"Wasifu umesasishwa kwa mafanikio",profileError:"Imeshindwa kusasisha wasifu",passwordUpdated:"Nenosiri limesasishwa kwa mafanikio",passwordError:"Imeshindwa kusasisha nenosiri",passwordMismatch:"Nenosiri halifanani",passwordTooShort:"Nenosiri lazima liwe na angalau herufi 8",currentPasswordIncorrect:"Nenosiri la sasa si sahihi",newPasswordSameAsOld:"Nenosiri jipya lazima litofautiane na la sasa",uploadingImage:"Inapakia picha...",imageUploadError:"Imeshindwa kupakia picha",avatarUpdateError:"Imeshindwa kusasisha wasifu na picha mpya"}}}},Da={announceChanges:!0,highContrast:!1,reducedMotion:!1,fontSize:"medium",screenReader:!1},be=class be{constructor(){q(this,"announcerElement",null);this.createAnnouncerElement()}static getInstance(){return be.instance||(be.instance=new be),be.instance}createAnnouncerElement(){typeof document<"u"&&(this.announcerElement=document.createElement("div"),this.announcerElement.setAttribute("aria-live","polite"),this.announcerElement.setAttribute("aria-atomic","true"),this.announcerElement.className="sr-only",this.announcerElement.style.cssText=`
        position: absolute;
        left: -10000px;
        width: 1px;
        height: 1px;
        overflow: hidden;
      `,document.body.appendChild(this.announcerElement))}announce(e,a="polite"){this.announcerElement&&(this.announcerElement.setAttribute("aria-live",a),this.announcerElement.textContent=e,setTimeout(()=>{this.announcerElement&&(this.announcerElement.textContent="")},1e3))}};q(be,"instance");let Wt=be;const ve=class ve{constructor(){q(this,"focusHistory",[])}static getInstance(){return ve.instance||(ve.instance=new ve),ve.instance}saveFocus(){const e=document.activeElement;e&&this.focusHistory.push(e)}restoreFocus(){const e=this.focusHistory.pop();e&&e.focus()}clearHistory(){this.focusHistory=[]}focusFirst(e){const a=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');a==null||a.focus()}focusLast(e){const a=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=a[a.length-1];s==null||s.focus()}};q(ve,"instance");let wt=ve;const cn=A.createContext(void 0);function ln({children:t}){const[e,a]=A.useState(Da),[s,r]=A.useState(!1);A.useEffect(()=>{(()=>{const p=localStorage.getItem("accessibilityConfig");if(p)try{const x=JSON.parse(p);a({...Da,...x})}catch(x){console.warn("Failed to parse saved accessibility config:",x)}const y=window.matchMedia("(prefers-reduced-motion: reduce)").matches,g=window.matchMedia("(prefers-contrast: high)").matches;a(x=>({...x,reducedMotion:y,highContrast:g})),r(!0)})()},[]),A.useEffect(()=>{if(!s)return;const v=document.documentElement;e.highContrast?v.classList.add("high-contrast"):v.classList.remove("high-contrast"),e.reducedMotion?v.classList.add("reduced-motion"):v.classList.remove("reduced-motion"),v.className=v.className.replace(/font-size-\w+/g,""),v.classList.add(`font-size-${e.fontSize}`),localStorage.setItem("accessibilityConfig",JSON.stringify(e))},[e,s]);const i=v=>{a(p=>({...p,...v}))},n=(v,p="polite")=>{e.announceChanges&&Wt.getInstance().announce(v,p)},b={config:e,updateConfig:i,announce:n,toggleHighContrast:()=>{const v=!e.highContrast;i({highContrast:v}),n(`High contrast mode ${v?"enabled":"disabled"}`)},toggleReducedMotion:()=>{const v=!e.reducedMotion;i({reducedMotion:v}),n(`Reduced motion mode ${v?"enabled":"disabled"}`)},setFontSize:v=>{i({fontSize:v}),n(`Font size set to ${v}`)},saveFocus:()=>{wt.getInstance().saveFocus()},restoreFocus:()=>{wt.getInstance().restoreFocus()}};return o.jsx(cn.Provider,{value:b,children:t})}function Yt(){const{state:t}=at(),e=t.language||"en";return{t:s=>{const r=s.split(".");let i=Ia[e];for(const n of r)if(i&&typeof i=="object"&&n in i)i=i[n];else{i=Ia.en;for(const c of r)if(i&&typeof i=="object"&&c in i)i=i[c];else return s;break}return typeof i=="string"?i:s},language:e}}function un(){const[t,e]=A.useState(!1),a=Vt(),{state:s,logout:r,setLanguage:i}=at(),{t:n,language:c}=Yt(),m=[{name:n("navigation.home"),href:"/",icon:Pe},{name:n("navigation.map"),href:"/map",icon:Pe},{name:n("navigation.report"),href:"/report",icon:Qa}],f=s.isAuthenticated?[{name:n("navigation.profile"),href:"/profile",icon:le},{name:n("navigation.logout"),href:"#",icon:Ga,action:r}]:[{name:n("navigation.login"),href:"/login",icon:le}],d=u=>a.pathname===u;return o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",role:"banner",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs(we,{to:"/",className:"flex items-center space-x-2","aria-label":"Smart Matatu - Home",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:o.jsx(Pe,{className:"w-5 h-5 text-white","aria-hidden":"true"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Smart Matatu"})]}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-8",role:"navigation","aria-label":"Main navigation",children:[m.map(u=>{const b=u.icon;return o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-1 ${d(u.href)?"nav-link-active":""}`,"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)}),f.map(u=>{const b=u.icon;return u.action?o.jsxs("button",{onClick:u.action,className:"nav-link flex items-center space-x-1",children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name):o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-1 ${d(u.href)?"nav-link-active":""}`,"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[s.isAuthenticated&&s.user&&o.jsxs("div",{className:"hidden md:block text-sm text-gray-600",children:["Welcome, ",s.user.displayName]}),o.jsx("button",{onClick:()=>i(c==="en"?"sw":"en"),className:"btn btn-ghost btn-sm","aria-label":`Switch to ${c==="en"?"Swahili":"English"}`,children:c==="en"?"EN":"SW"}),o.jsx("button",{onClick:()=>e(!t),className:"md:hidden btn btn-ghost btn-sm","aria-expanded":t,"aria-controls":"mobile-menu","aria-label":t?"Close menu":"Open menu",children:t?o.jsx(Za,{className:"w-5 h-5","aria-hidden":"true"}):o.jsx(Xa,{className:"w-5 h-5","aria-hidden":"true"})})]})]}),t&&o.jsx("div",{id:"mobile-menu",className:"md:hidden border-t border-gray-200",role:"navigation","aria-label":"Mobile navigation",children:o.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[m.map(u=>{const b=u.icon;return o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-2 w-full ${d(u.href)?"nav-link-active":""}`,onClick:()=>e(!1),"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)}),f.map(u=>{const b=u.icon;return u.action?o.jsxs("button",{onClick:()=>{var v;(v=u.action)==null||v.call(u),e(!1)},className:"nav-link flex items-center space-x-2 w-full",children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name):o.jsxs(we,{to:u.href,className:`nav-link flex items-center space-x-2 w-full ${d(u.href)?"nav-link-active":""}`,onClick:()=>e(!1),"aria-current":d(u.href)?"page":void 0,children:[o.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{children:u.name})]},u.name)})]})})]})})}function dn(){var x,j;const[t,e]=A.useState(!1),a=Vt(),{state:s,logout:r,setLanguage:i}=at(),{t:n}=Yt(),c=s.language,m=S=>a.pathname===S,f=()=>{var T;const S=(T=s.user)==null?void 0:T.role,w=[{name:n("navigation.dashboard"),href:"/",icon:Ya},{name:n("navigation.map"),href:"/map",icon:Pe},{name:n("navigation.report"),href:"/report",icon:Qa}];switch(S){case"admin":return[...w,{name:n("navigation.analytics"),href:"/analytics",icon:We},{name:n("navigation.saccoDashboard"),href:"/sacco",icon:ot},{name:n("navigation.authorityDashboard"),href:"/authority",icon:nt},{name:n("navigation.userManagement"),href:"/users",icon:Hs},{name:n("navigation.adminPanel"),href:"/admin",icon:na},{name:n("navigation.profile"),href:"/profile",icon:le}];case"sacco":return[...w,{name:n("navigation.saccoDashboard"),href:"/sacco",icon:ot},{name:n("navigation.analytics"),href:"/analytics",icon:We},{name:n("navigation.profile"),href:"/profile",icon:le}];case"authority":return[...w,{name:n("navigation.authorityDashboard"),href:"/authority",icon:nt},{name:n("navigation.analytics"),href:"/analytics",icon:We},{name:n("navigation.profile"),href:"/profile",icon:le}];case"moderator":return[...w,{name:n("navigation.analytics"),href:"/analytics",icon:We},{name:n("navigation.adminPanel"),href:"/admin",icon:na},{name:n("navigation.profile"),href:"/profile",icon:le}];default:return[...w,{name:n("navigation.analytics"),href:"/analytics",icon:We},{name:n("navigation.profile"),href:"/profile",icon:le}]}},d=()=>{var w;switch((w=s.user)==null?void 0:w.role){case"admin":return[{name:"Favorites",href:"/profile?tab=favorites",icon:ct},{name:"Reports",href:"/profile?tab=reports",icon:lt},{name:"Safety",href:"/profile?tab=safety",icon:ut},{name:"Predictions",href:"/analytics",icon:oa},{name:"SACCO Management",href:"/sacco",icon:ot},{name:"Authority Tools",href:"/authority",icon:nt}];case"sacco":return[{name:"Favorites",href:"/profile?tab=favorites",icon:ct},{name:"Reports",href:"/profile?tab=reports",icon:lt},{name:"Safety",href:"/profile?tab=safety",icon:ut},{name:"Fleet Management",href:"/sacco",icon:ot}];case"authority":return[{name:"Favorites",href:"/profile?tab=favorites",icon:ct},{name:"Reports",href:"/profile?tab=reports",icon:lt},{name:"Safety",href:"/profile?tab=safety",icon:ut},{name:"Compliance",href:"/authority",icon:nt}];default:return[{name:"Favorites",href:"/profile?tab=favorites",icon:ct},{name:"Reports",href:"/profile?tab=reports",icon:lt},{name:"Safety",href:"/profile?tab=safety",icon:ut},{name:"Predictions",href:"/analytics",icon:oa}]}},u=()=>{var w;switch((w=s.user)==null?void 0:w.role){case"admin":return"Administrator";case"sacco":return"SACCO Manager";case"authority":return"Transport Authority";case"moderator":return"Moderator";default:return"User"}},b=()=>{var w;switch((w=s.user)==null?void 0:w.role){case"admin":return"bg-purple-100 text-purple-800";case"sacco":return"bg-blue-100 text-blue-800";case"authority":return"bg-red-100 text-red-800";case"moderator":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=f(),p=d(),y=()=>{e(!t)},g=()=>{r(),e(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:y,className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-label":"Open sidebar",children:o.jsx(Xa,{className:"h-6 w-6"})}),o.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${t?"translate-x-0":"-translate-x-full"}`,children:[o.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_s,{className:"h-8 w-8 text-blue-600"}),o.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:c==="sw"?"Matatu Smart":"Smart Matatu"})]}),o.jsx("button",{onClick:y,className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:o.jsx(Za,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(le,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((x=s.user)==null?void 0:x.displayName)||"User"}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:((j=s.user)==null?void 0:j.email)||"user@example.com"}),o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b()}`,children:u()})]})]})}),o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Language:"}),o.jsx("button",{onClick:()=>i(c==="en"?"sw":"en"),className:"px-3 py-1 text-xs font-medium rounded-md bg-blue-100 text-blue-800 hover:bg-blue-200",children:c==="en"?"EN":"SW"})]})}),o.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:[o.jsx("div",{className:"space-y-1",children:v.map(S=>o.jsxs(we,{to:S.href,onClick:()=>e(!1),className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${m(S.href)?"bg-blue-100 text-blue-900":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx(S.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),S.name]},S.name))}),o.jsxs("div",{className:"pt-4",children:[o.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Quick Actions"}),o.jsx("div",{className:"mt-2 space-y-1",children:p.map(S=>o.jsxs(we,{to:S.href,onClick:()=>e(!1),className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[o.jsx(S.icon,{className:"mr-3 h-4 w-4 flex-shrink-0"}),S.name]},S.name))})]})]}),o.jsx("div",{className:"p-4 border-t border-gray-200",children:o.jsxs("button",{onClick:g,className:"group flex items-center w-full px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[o.jsx(Ga,{className:"mr-3 h-5 w-5 flex-shrink-0"}),c==="sw"?"Ondoka":"Logout"]})})]})]}),t&&o.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:y})]})}function Fa(){const{t}=Yt();return o.jsx("footer",{className:"bg-gray-900 text-white",role:"contentinfo",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:o.jsx(Pe,{className:"w-5 h-5 text-white","aria-hidden":"true"})}),o.jsx("span",{className:"text-xl font-bold",children:"Smart Matatu"})]}),o.jsx("p",{className:"text-gray-400 text-sm",children:t("footer.description")}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Visit our website",children:o.jsx(qs,{className:"w-5 h-5","aria-hidden":"true"})}),o.jsx("a",{href:"mailto:contact@smart-matatu.ke",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Send us an email",children:o.jsx(ca,{className:"w-5 h-5","aria-hidden":"true"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("footer.quickLinks")}),o.jsx("nav",{"aria-label":"Footer navigation",children:o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"/",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.home")})}),o.jsx("li",{children:o.jsx("a",{href:"/map",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.map")})}),o.jsx("li",{children:o.jsx("a",{href:"/report",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.report")})}),o.jsx("li",{children:o.jsx("a",{href:"/login",className:"text-gray-400 hover:text-white transition-colors",children:t("navigation.login")})})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("footer.services")}),o.jsx("nav",{"aria-label":"Services navigation",children:o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.routePlanning")})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.safetyReports")})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.realTimeUpdates")})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t("footer.analytics")})})]})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:t("footer.contact")}),o.jsx("address",{className:"not-italic",children:o.jsxs("ul",{className:"space-y-2",children:[o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Pe,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}),o.jsx("span",{className:"text-gray-400",children:"Western Heights, Muthithi Rd, Westlands"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(ca,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}),o.jsx("button",{onClick:()=>{window.location.href="mailto:contact@smart-matatu.ke?subject=Smart Matatu Inquiry&body=Hello, I would like to get in touch regarding Smart Matatu services."},className:"text-gray-400 hover:text-white transition-colors text-left",children:"contact@smart-matatu.ke"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(Bs,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}),o.jsx("button",{onClick:()=>window.open("tel:+254763612953","_blank"),className:"text-gray-400 hover:text-white transition-colors text-left",children:"+254 763 612 953"})]})]})})]})]}),o.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs("p",{className:"text-gray-400 text-sm",children:[" 2024 Smart Matatu. ",t("footer.allRightsReserved")]}),o.jsxs("nav",{className:"flex space-x-6 mt-4 md:mt-0","aria-label":"Legal links",children:[o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:t("footer.privacyPolicy")}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:t("footer.termsOfService")})]})]})})]})})}function bt({size:t="md",text:e,className:a=""}){const s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return o.jsxs("div",{className:`flex flex-col items-center justify-center ${a}`,children:[o.jsx("div",{className:`loading-spinner ${s[t]}`}),e&&o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e})]})}function hn({children:t}){const{state:e}=at();return e.isLoading?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(bt,{}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading Smart Matatu..."})]})}):e.isAuthenticated?o.jsxs("div",{className:"min-h-screen flex",children:[o.jsx(dn,{}),o.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[o.jsx("main",{className:"flex-1",children:t}),o.jsx(Fa,{})]})]}):o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(un,{}),o.jsx("main",{className:"flex-1",children:t}),o.jsx(Fa,{})]})}const Se=class Se{constructor(){q(this,"errors",[]);q(this,"maxErrors",100)}static getInstance(){return Se.instance||(Se.instance=new Se),Se.instance}logError(e,a,s){const r={code:this.generateErrorCode(e),message:e.message,details:{...s,stack:e.stack,errorInfo:a},timestamp:new Date().toISOString(),userId:this.getCurrentUserId(),sessionId:this.getSessionId(),url:window.location.href,userAgent:navigator.userAgent};this.errors.push(r),this.errors.length>this.maxErrors&&(this.errors=this.errors.slice(-this.maxErrors)),this.sendToErrorService(r)}getErrors(){return[...this.errors]}clearErrors(){this.errors=[]}generateErrorCode(e){const a=e.constructor.name,s=this.hashString(e.message);return`${a}-${s}`}hashString(e){let a=0;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);a=(a<<5)-a+r,a=a&a}return Math.abs(a).toString(36)}getCurrentUserId(){try{const e=localStorage.getItem("user");return e?JSON.parse(e)._id:void 0}catch{return}}getSessionId(){let e=sessionStorage.getItem("sessionId");return e||(e=this.generateSessionId(),sessionStorage.setItem("sessionId",e)),e}generateSessionId(){return Math.random().toString(36).substr(2,9)+Date.now().toString(36)}async sendToErrorService(e){try{console.log("Sending error to service:",e)}catch(a){console.error("Failed to send error to service:",a)}}};q(Se,"instance");let vt=Se;const I={NETWORK:"NETWORK_ERROR",VALIDATION:"VALIDATION_ERROR",AUTHENTICATION:"AUTHENTICATION_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",NOT_FOUND:"NOT_FOUND_ERROR",SERVER:"SERVER_ERROR",CLIENT:"CLIENT_ERROR",UNKNOWN:"UNKNOWN_ERROR"},La={[I.NETWORK]:"Network connection failed. Please check your internet connection.",[I.VALIDATION]:"Please check your input and try again.",[I.AUTHENTICATION]:"Please log in to continue.",[I.AUTHORIZATION]:"You do not have permission to perform this action.",[I.NOT_FOUND]:"The requested resource was not found.",[I.SERVER]:"Server error occurred. Please try again later.",[I.CLIENT]:"An error occurred. Please refresh the page.",[I.UNKNOWN]:"An unexpected error occurred. Please try again."};function fn(t){var e,a,s;if((e=t==null?void 0:t.response)!=null&&e.status){const r=t.response.status;if(r>=500)return I.SERVER;if(r===404)return I.NOT_FOUND;if(r===401)return I.AUTHENTICATION;if(r===403)return I.AUTHORIZATION;if(r>=400)return I.CLIENT}return(t==null?void 0:t.code)==="NETWORK_ERROR"||(a=t==null?void 0:t.message)!=null&&a.includes("Network Error")?I.NETWORK:(t==null?void 0:t.name)==="ValidationError"||(s=t==null?void 0:t.message)!=null&&s.includes("validation")?I.VALIDATION:I.UNKNOWN}function mn(t){const e=fn(t);return La[e]||La[I.UNKNOWN]}function pn(){const t=vt.getInstance();window.addEventListener("unhandledrejection",e=>{t.logError(new Error(e.reason),null,{type:"unhandledrejection",reason:e.reason})}),window.addEventListener("error",e=>{t.logError(e.error||new Error(e.message),null,{type:"uncaught",filename:e.filename,lineno:e.lineno,colno:e.colno})})}class yn extends A.Component{constructor(a){super(a);q(this,"maxRetries",3);q(this,"handleRetry",()=>{this.state.retryCount<this.maxRetries?this.setState(a=>({hasError:!1,error:null,errorInfo:null,retryCount:a.retryCount+1})):this.setState({hasError:!1,error:null,errorInfo:null,retryCount:0})});q(this,"handleGoHome",()=>{window.location.href="/"});q(this,"handleReportError",()=>{const{error:a,errorInfo:s}=this.state;a&&(console.log("Reporting error:",{error:a,errorInfo:s}),alert("Error reported. Thank you for helping us improve!"))});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,s){vt.getInstance().logError(a,s,{component:"EnhancedErrorBoundary",retryCount:this.state.retryCount}),this.setState({error:a,errorInfo:s}),this.props.onError&&this.props.onError(a,s)}render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:a}=this.state,s=a?mn(a):"An unexpected error occurred",r=this.state.retryCount<this.maxRetries;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:o.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:o.jsx(Ks,{className:"h-6 w-6 text-red-600"})}),o.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:s}),o.jsxs("div",{className:"space-y-3",children:[r&&o.jsxs("button",{onClick:this.handleRetry,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[o.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Try Again"]}),o.jsxs("button",{onClick:this.handleGoHome,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[o.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Go Home"]}),o.jsxs("button",{onClick:this.handleReportError,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[o.jsx($s,{className:"h-4 w-4 mr-2"}),"Report Error"]})]}),this.props.showDetails&&this.state.error&&o.jsxs("details",{className:"mt-6 text-left",children:[o.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700",children:"Technical Details"}),o.jsxs("div",{className:"mt-2 p-3 bg-gray-100 rounded-md text-xs font-mono text-gray-700 overflow-auto max-h-32",children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("strong",{children:"Error:"})," ",this.state.error.message]}),this.state.error.stack&&o.jsxs("div",{children:[o.jsx("strong",{children:"Stack:"}),o.jsx("pre",{className:"whitespace-pre-wrap mt-1",children:this.state.error.stack})]})]})]}),o.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Retry attempt: ",this.state.retryCount+1," of ",this.maxRetries+1]})]})})})}return this.props.children}}function ge({children:t,allowedRoles:e=[],requireAuth:a=!0}){var i;const{state:s}=at(),r=Vt();if(s.isLoading)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(bt,{}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})});if(!s.isLoading&&s.isAuthenticated===void 0)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(bt,{}),o.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})});if(a&&!s.isAuthenticated)return o.jsx(ia,{to:"/login",state:{from:r},replace:!0});if(a&&e.length>0&&((i=s.user)!=null&&i.role)&&!e.includes(s.user.role)){const n=gn(s.user.role);return o.jsx(ia,{to:n,replace:!0})}return o.jsx(o.Fragment,{children:t})}function gn(t){switch(t){case"admin":return"/admin";case"sacco":return"/sacco";case"authority":return"/authority";case"moderator":return"/admin";default:return"/"}}const wn=A.lazy(()=>W(()=>import("./HomePage-CNZpBuAS.js"),__vite__mapDeps([0,1,2,3]))),bn=A.lazy(()=>W(()=>import("./MapView-BTIFuZ1y.js"),__vite__mapDeps([4,1,5,3,2,6]))),vn=A.lazy(()=>W(()=>import("./ReportForm-Dka6vFK1.js"),__vite__mapDeps([7,1,2,3]))),Sn=A.lazy(()=>W(()=>import("./Login-RA81K7Wi.js"),__vite__mapDeps([8,1,2,3]))),xn=A.lazy(()=>W(()=>import("./Signup-qKNBjdtI.js"),__vite__mapDeps([9,1,2,3]))),Rn=A.lazy(()=>W(()=>import("./Profile-CzZsEpnR.js"),__vite__mapDeps([10,1,2,3]))),En=A.lazy(()=>W(()=>import("./Admin-8F3B6SkF.js"),__vite__mapDeps([11,1,2,3]))),jn=A.lazy(()=>W(()=>import("./AnalyticsDashboard-CGcZMEr1.js"),__vite__mapDeps([12,1,3,2]))),kn=A.lazy(()=>W(()=>import("./SaccoDashboard-DKVCxyFy.js"),__vite__mapDeps([13,1,3,2]))),An=A.lazy(()=>W(()=>import("./AuthorityDashboard-BddmhUM9.js"),__vite__mapDeps([14,1,3,2]))),Tn=A.lazy(()=>W(()=>import("./UserManagement-DVD4_2JK.js"),__vite__mapDeps([15,1,3,2]))),Nn=A.lazy(()=>W(()=>import("./RouteEditor-C6CVHWas.js"),__vite__mapDeps([16,1,5,3,2])));function Cn(){return Ja.useEffect(()=>{pn()},[]),o.jsx(yn,{showDetails:!1,children:o.jsx(ln,{children:o.jsx(on,{children:o.jsx(hn,{children:o.jsx(A.Suspense,{fallback:o.jsx(bt,{}),children:o.jsxs(Ls,{children:[o.jsx(B,{path:"/",element:o.jsx(wn,{})}),o.jsx(B,{path:"/map",element:o.jsx(bn,{})}),o.jsx(B,{path:"/report",element:o.jsx(vn,{})}),o.jsx(B,{path:"/login",element:o.jsx(Sn,{})}),o.jsx(B,{path:"/signup",element:o.jsx(xn,{})}),o.jsx(B,{path:"/profile",element:o.jsx(ge,{requireAuth:!0,children:o.jsx(Rn,{})})}),o.jsx(B,{path:"/analytics",element:o.jsx(ge,{requireAuth:!0,children:o.jsx(jn,{})})}),o.jsx(B,{path:"/admin",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["admin","moderator"],children:o.jsx(En,{})})}),o.jsx(B,{path:"/users",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["admin"],children:o.jsx(Tn,{})})}),o.jsx(B,{path:"/admin/routes",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["admin"],children:o.jsx(Nn,{})})}),o.jsx(B,{path:"/sacco",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["sacco","admin"],children:o.jsx(kn,{})})}),o.jsx(B,{path:"/authority",element:o.jsx(ge,{requireAuth:!0,allowedRoles:["authority","admin"],children:o.jsx(An,{})})})]})})})})})})}const On=new Er({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});It.createRoot(document.getElementById("root")).render(o.jsx(Ja.StrictMode,{children:o.jsx(kr,{client:On,children:o.jsx(zs,{children:o.jsx(Cn,{})})})}));export{bt as L,Mt as a,at as b,o as j,Yt as u};
//# sourceMappingURL=index-BvF2MNLF.js.map
