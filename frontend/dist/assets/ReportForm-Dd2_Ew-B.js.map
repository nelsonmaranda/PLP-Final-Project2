{"version":3,"file":"ReportForm-Dd2_Ew-B.js","sources":["../../src/screens/ReportForm.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { MapPin, AlertTriangle, Send, Loader2 } from 'lucide-react'\r\nimport apiService from '../services/api'\r\nimport { Route, CreateReportData } from '../types'\r\nimport LoadingSpinner from '../components/LoadingSpinner'\r\n\r\nexport default function ReportForm() {\r\n  const navigate = useNavigate()\r\n  const [routes, setRoutes] = useState<Route[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [success, setSuccess] = useState(false)\r\n  const [formData, setFormData] = useState<CreateReportData>({\r\n    routeId: '',\r\n    reportType: 'delay',\r\n    description: '',\r\n    location: {\r\n      type: 'Point',\r\n      coordinates: [36.8219, -1.2921] // [longitude, latitude]\r\n    },\r\n    severity: 'medium',\r\n    isAnonymous: false\r\n  })\r\n\r\n  useEffect(() => {\r\n    loadRoutes()\r\n  }, [])\r\n\r\n  const loadRoutes = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(null)\r\n      const response = await apiService.getRoutes({\r\n        page: 1,\r\n        limit: 100,\r\n        sort: 'name',\r\n        order: 'asc'\r\n      })\r\n\r\n      if (response.success && response.data) {\r\n        setRoutes(response.data.routes)\r\n        console.log(`Loaded ${response.data.routes.length} routes`)\r\n      } else {\r\n        setError('Failed to load routes. Please refresh the page and try again.')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading routes:', err)\r\n      setError('Failed to load routes. Please check your connection and try again.')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\r\n    const { name, value, type } = e.target\r\n    \r\n    if (type === 'checkbox') {\r\n      const checked = (e.target as HTMLInputElement).checked\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: checked\r\n      }))\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }))\r\n    }\r\n  }\r\n\r\n  const getCurrentLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          setFormData(prev => ({\r\n            ...prev,\r\n            location: {\r\n              type: 'Point',\r\n              coordinates: [position.coords.longitude, position.coords.latitude]\r\n            }\r\n          }))\r\n        },\r\n        (error) => {\r\n          console.error('Error getting location:', error)\r\n          setError('Failed to get current location')\r\n        }\r\n      )\r\n    } else {\r\n      setError('Geolocation is not supported by this browser')\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!formData.routeId) {\r\n      setError('Please select a route')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setIsSubmitting(true)\r\n      setError(null)\r\n      \r\n      const response = await apiService.createReport(formData)\r\n      \r\n      if (response.success && response.data) {\r\n        setSuccess(true)\r\n        // Reset form\r\n        setFormData({\r\n          routeId: '',\r\n          reportType: 'delay',\r\n          description: '',\r\n          location: {\r\n            type: 'Point',\r\n            coordinates: [36.8219, -1.2921]\r\n          },\r\n          severity: 'medium',\r\n          isAnonymous: false\r\n        })\r\n        \r\n        // Show success message without redirecting\r\n        console.log('Report submitted successfully!', response.data)\r\n        \r\n        // Hide success message after 3 seconds\r\n        setTimeout(() => setSuccess(false), 3000)\r\n      } else {\r\n        setError('Failed to submit report. Please check your information and try again.')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error submitting report:', err)\r\n      setError('Failed to submit report. Please try again.')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <LoadingSpinner />\r\n          <p className=\"text-gray-600 mt-4\">Loading routes...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"container py-6\">\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <h1 className=\"card-title\">Report Your Trip</h1>\r\n              <p className=\"card-description\">\r\n                Help other commuters by sharing your matatu experience\r\n              </p>\r\n            </div>\r\n\r\n            {success && (\r\n              <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\" role=\"alert\" aria-live=\"polite\">\r\n                <div className=\"flex items-center\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\r\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"ml-3\">\r\n                    <p className=\"text-sm font-medium text-green-800\">\r\n                      Report submitted successfully! Redirecting to map...\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {error && (\r\n              <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\" role=\"alert\" aria-live=\"polite\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      <AlertTriangle className=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\r\n                    </div>\r\n                    <div className=\"ml-3\">\r\n                      <p className=\"text-sm font-medium text-red-800\">{error}</p>\r\n                    </div>\r\n                  </div>\r\n                  {error.includes('routes') && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={loadRoutes}\r\n                      className=\"ml-4 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded\"\r\n                      disabled={isLoading}\r\n                    >\r\n                      Retry\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit} className=\"card-content space-y-6\" aria-labelledby=\"report-form-heading\">\r\n              {/* Route Selection */}\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"routeId\" className=\"form-label\">Route *</label>\r\n                <select\r\n                  id=\"routeId\"\r\n                  name=\"routeId\"\r\n                  value={formData.routeId}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-select\"\r\n                  aria-describedby=\"route-help\"\r\n                  required\r\n                  disabled={isLoading || routes.length === 0}\r\n                >\r\n                  <option value=\"\">\r\n                    {isLoading ? 'Loading routes...' : routes.length === 0 ? 'No routes available' : 'Select a route'}\r\n                  </option>\r\n                  {routes.map(route => (\r\n                    <option key={route._id} value={route._id}>\r\n                      {route.routeNumber} - {route.name} ({route.operator})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                <p id=\"route-help\" className=\"text-sm text-gray-500 mt-1\">Choose the route you want to report on</p>\r\n              </div>\r\n\r\n              {/* Report Type */}\r\n              <fieldset className=\"form-group\">\r\n                <legend className=\"form-label\">Issue Type *</legend>\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  {[\r\n                    { value: 'delay', label: 'Delay', icon: '⏰' },\r\n                    { value: 'safety', label: 'Safety', icon: '⚠️' },\r\n                    { value: 'crowding', label: 'Crowding', icon: '👥' },\r\n                    { value: 'breakdown', label: 'Breakdown', icon: '🔧' },\r\n                    { value: 'other', label: 'Other', icon: '📝' }\r\n                  ].map((type) => (\r\n                    <label key={type.value} className=\"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"reportType\"\r\n                        value={type.value}\r\n                        checked={formData.reportType === type.value}\r\n                        onChange={handleInputChange}\r\n                        className=\"mr-3\"\r\n                        required\r\n                      />\r\n                      <span className=\"text-2xl mr-2\" aria-hidden=\"true\">{type.icon}</span>\r\n                      <span className=\"font-medium\">{type.label}</span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </fieldset>\r\n\r\n              {/* Description */}\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n                <textarea\r\n                  id=\"description\"\r\n                  name=\"description\"\r\n                  value={formData.description}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-textarea\"\r\n                  placeholder=\"Describe the issue in detail...\"\r\n                  rows={4}\r\n                  maxLength={500}\r\n                  aria-describedby=\"description-help\"\r\n                />\r\n                <p id=\"description-help\" className=\"mt-1 text-sm text-gray-500\">\r\n                  {formData.description?.length || 0}/500 characters\r\n                </p>\r\n              </div>\r\n\r\n              {/* Severity */}\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"severity\" className=\"form-label\">Severity Level</label>\r\n                <select\r\n                  id=\"severity\"\r\n                  name=\"severity\"\r\n                  value={formData.severity}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-select\"\r\n                  aria-describedby=\"severity-help\"\r\n                >\r\n                  <option value=\"low\">Low - Minor inconvenience</option>\r\n                  <option value=\"medium\">Medium - Moderate impact</option>\r\n                  <option value=\"high\">High - Significant impact</option>\r\n                  <option value=\"critical\">Critical - Safety concern</option>\r\n                </select>\r\n                <p id=\"severity-help\" className=\"text-sm text-gray-500 mt-1\">Choose the severity level of the issue</p>\r\n              </div>\r\n\r\n              {/* Location */}\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Location</label>\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={getCurrentLocation}\r\n                    className=\"btn btn-outline btn-sm\"\r\n                    aria-label=\"Use your current location for the report\"\r\n                  >\r\n                    <MapPin className=\"w-4 h-4 mr-2\" aria-hidden=\"true\" />\r\n                    Use Current Location\r\n                  </button>\r\n                  <span className=\"text-sm text-gray-600\" aria-label={`Current coordinates: ${formData.location?.coordinates[1].toFixed(4)}, ${formData.location?.coordinates[0].toFixed(4)}`}>\r\n                    {formData.location?.coordinates[1].toFixed(4)}, {formData.location?.coordinates[0].toFixed(4)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Anonymous Report */}\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"isAnonymous\"\r\n                  name=\"isAnonymous\"\r\n                  checked={formData.isAnonymous}\r\n                  onChange={handleInputChange}\r\n                  className=\"rounded border-gray-300\"\r\n                  aria-describedby=\"anonymous-help\"\r\n                />\r\n                <label htmlFor=\"isAnonymous\" className=\"ml-2 text-sm text-gray-700\">\r\n                  Submit anonymously\r\n                </label>\r\n                <p id=\"anonymous-help\" className=\"sr-only\">Check this box to submit your report without revealing your identity</p>\r\n              </div>\r\n\r\n              {/* Submit Button */}\r\n              <div className=\"flex justify-end space-x-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/map')}\r\n                  className=\"btn btn-outline\"\r\n                  disabled={isSubmitting}\r\n                  aria-label=\"Cancel and return to map\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"btn btn-primary\"\r\n                  aria-label={isSubmitting ? \"Submitting report\" : \"Submit your report\"}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" aria-hidden=\"true\" />\r\n                      Submitting...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Send className=\"w-4 h-4 mr-2\" aria-hidden=\"true\" />\r\n                      Submit Report\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["ReportForm","navigate","useNavigate","routes","setRoutes","useState","isLoading","setIsLoading","isSubmitting","setIsSubmitting","error","setError","success","setSuccess","formData","setFormData","useEffect","loadRoutes","response","apiService","err","handleInputChange","e","name","value","type","checked","prev","getCurrentLocation","position","handleSubmit","jsxs","jsx","LoadingSpinner","AlertTriangle","route","_a","MapPin","_b","_c","_d","_e","Fragment","Loader2","Send"],"mappings":"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"}